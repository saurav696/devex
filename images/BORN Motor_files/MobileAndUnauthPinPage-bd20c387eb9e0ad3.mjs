"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[18192,72430,4394,91449,99429,27056,11930,33,34011,91939,98223,55306,36027,76565],{859334:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionMediaAttribution_pin",selections:[{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="91cf1b742f42f2f57e9e89991ad2eebd";let a=i},165666:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="5dff28be2de95106e382c42d78ad1833";let l=a},970116:(e,t,n)=>{var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},i,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionMediaAttribution_pin"}],type:"Pin",abstractKey:null};l.hash="c8423888a19a8f6884a814676a99cd51";let r=l},667952:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsBasicsLayout_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:i=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="b8f25f1b5aa21f88bc1091e219609eb8";let l=a},943992:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupDetailsInner_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"DuploShoppingModule_pin"}]}],type:"Pin",abstractKey:null};i.hash="423519f5139ffff057b9666905d1679d";let a=i},572498:(e,t,n)=>{var i,a,l,r,s,o,d;n.r(t),n.d(t,{default:()=>u});let c=(d=[{args:null,kind:"FragmentSpread",name:"CloseupDetails_user"}],{argumentDefinitions:[{kind:"RootArgument",name:"isAuth"},{kind:"RootArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:o=[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:o,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[r,a,l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[s,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsBasicsLayout_pin"},{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupSavedAttribution_pin"},{args:null,kind:"FragmentSpread",name:"PinFeaturedInArticleCard_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]},{args:null,kind:"FragmentSpread",name:"UserRep_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsInner_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"}],type:"Pin",abstractKey:null});c.hash="72110886d343f7158e0cdda7d94bf5fa";let u=c},955120:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetails_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};i.hash="c9713d85ef89281fa5ad27120a1c71f9";let a=i},421072:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupFullDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBar_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupModals_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthCloseupRelatedPins_pin"}]},{args:null,kind:"FragmentSpread",name:"CommentModule_pin"}],type:"Pin",abstractKey:null};i.hash="7853ff40654282b0b7a514e8c2ddc7ca";let a=i},997525:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainIframe_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};i.hash="040479189b5808c581351271292cad96";let a=i},75886:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupMainPinDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainIframe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetails_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"LeafSnippet_pin"}]}],type:"Pin",abstractKey:null};i.hash="6ea1313a0779b623844930226c01b624";let a=i},988259:(e,t,n)=>{var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImage_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectionType",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"136x136")'},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},i],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};l.hash="a3d36c1e52d32ecd6ee57ce1749cd641";let r=l},554043:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinStoryPin_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupStoryPinBlock_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseup_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnMobile_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnDesktop_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseupDetailsOnDesktop_pin"}]}],type:"Pin",abstractKey:null};i.hash="33567d57b67b5a49be2253f636baf23e";let a=i},256213:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPin_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImage_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideo_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};a.hash="8f46840f8000dc1e4bcb2ce3bf21b9e1";let l=a},574747:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPageContainer_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenuController_pin"}],type:"Pin",abstractKey:null};i.hash="4f6345abad9348df2ae456106d4b9c44";let a=i},553358:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageViewAndTimeSpent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};i.hash="5b01543e9ace6cf2b437348f6b1a3a64";let a=i},133158:(e,t,n)=>{var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"videoUrls",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"Closeup_pin"}],type:"Pin",abstractKey:null};l.hash="5006bd031ed32d1eef0e3a3aff166cc4";let r=l},401009:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupSavedAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="62fd54709d3c18c78af173903ab765f1";let a=i},415607:(e,t,n)=>{var i,a,l,r,s,o,d,c,u,p,m,g,_,h,y,f,b,S,x,v,P,k,w,T,I,E,A,C,R,j,L,F,D,O,N,M,Z,B,U,K,z,H,V,G,$,W,q,Y,X,J,Q,ee,et,en,ei,ea,el,er,es,eo,ed,ec,eu,ep,em,eg;n.r(t),n.d(t,{default:()=>eh});let e_=(i={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},a={defaultValue:null,kind:"LocalArgument",name:"pinId"},l=[{kind:"Variable",name:"pin",variableName:"pinId"}],s=[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},y=[o={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},m={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},g,{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],S={alias:"imageSpec_750x",args:f=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b=[d,h,c],storageKey:'images(spec:"750x")'},v={alias:"imageSpec_orig",args:x=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b,storageKey:'images(spec:"orig")'},P=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],I=[w={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},h,c,d,k={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],E=[k],C={alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},M=[o,A={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[d,c,u,p,{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},C,R,j,{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null}],Z={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},B=[r,O],K={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},z=[{kind:"Literal",name:"spec",value:"236x"}],H=[{kind:"Literal",name:"spec",value:"1200x"}],V={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},G={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},q={kind:"InlineFragment",selections:W=[g],type:"TextBlock",abstractKey:null},Y={kind:"InlineFragment",selections:W,type:"ParagraphBlock",abstractKey:null},X={kind:"InlineFragment",selections:W,type:"HeadingBlock",abstractKey:null},J={kind:"InlineFragment",selections:W,type:"LinkBlock",abstractKey:null},Q={kind:"InlineFragment",selections:W,type:"StoryPinImageBlock",abstractKey:null},ee={kind:"InlineFragment",selections:W,type:"StoryPinVideoBlock",abstractKey:null},et={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},en=[h],ei={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},eo={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},ed={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},ec=[et,O],{fragment:{argumentDefinitions:[i,a],kind:"Fragment",metadata:null,name:"CloseupStoryPinQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupStoryPin_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null},{kind:"InlineFragment",selections:s,type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,i],kind:"Operation",name:"CloseupStoryPinQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:y,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:y,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,m,S,g,v],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,m,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:null,args:P,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[k,d,w,h,c,T],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:null,args:null,kind:"ScalarField",name:"seoViewCount",storageKey:null},{alias:"videoListMobile",args:P,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:I,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:I,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:I,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:I,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:I,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:I,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:I,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null},g,{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:E,storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,A,C,R,j,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[L,F,D,O],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},A,C,{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},R,{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},N],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null},N],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:M,type:"StoryPinProductStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:M,type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[g,o],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:[g,o,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,Z,_,{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,Z,_],type:"SupplyBlock",abstractKey:null},{kind:"InlineFragment",selections:[o],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:B,storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},U,O],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[k,T],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},K,{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},S,{alias:"imageSpec_236x",args:z,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:H,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:b,storageKey:'images(spec:"1200x")'},v,{alias:"imageAdjustedSpec_750x",args:f,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:b,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:z,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:b,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:H,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:b,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:x,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:b,storageKey:'imagesAdjusted(spec:"orig")'},V,{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[c,d,w,h],storageKey:null}],storageKey:null}],storageKey:null},G],storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[r,{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[$,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,{kind:"InlineFragment",selections:[$,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,q,Y,X,J,Q,ee],storageKey:null}],type:"StoryPinListBlock",abstractKey:null},q,X,Y,J,Q,ee],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},et],storageKey:null},et,{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:en,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},L,F,O,ei,ea,et,el,er,es,D,eo,ed],storageKey:null},{alias:"imageSpec_236x",args:z,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:en,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[et,O,{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},K,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[ei,ea,et,el,L,er,es,D,eo,F,ed,O],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:ec,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[et,L,F,O],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},U,{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:ec,storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},N],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:ec,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:ec,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:en,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:en,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:en,storageKey:'images(spec:"170x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:en,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:en,storageKey:'images(spec:"564x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:en,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:x,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:en,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},eu={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[es,O,F],storageKey:null},O],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:B,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[et,O,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[et,F,O,es,ep={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},eo,ei,em={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},L,ed],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[F,es,O],storageKey:null},G,V,O,{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[er,eg={kind:"ClientExtension",selections:[{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}]},eg,{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:s,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"imageSpec_750x",args:f,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"750x")'},{alias:"imageSpec_236x",args:z,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:H,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:x,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[r,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[T],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[ep,em],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[_],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},_,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[eu,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[Z,_],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},U,{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[_,h],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null}]}],storageKey:null}],type:"V3GetPin",abstractKey:null},{kind:"TypeDiscriminator",abstractKey:"__isError"}],storageKey:null}]},params:{id:"d0384422e5ff85c22ef38a0073e6765bcbce837151f672b7dac2e57c1ececc88",metadata:{},name:"CloseupStoryPinQuery",operationKind:"query",text:null}});e_.hash="0fc4770b382aee80c94c86d66000808a";let eh=e_;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(e_.default||e_)},274402:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupStoryPin_pin",selections:[{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStream_pin"}]},{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupMainPinStoryPin_pin"}],type:"Pin",abstractKey:null};i.hash="4597a5267d66159a656998151fa41ab0";let a=i},59415:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null}],type:"Pin",abstractKey:null};a.hash="e77b42ec174b43e9b7604897d7df5144";let l=a},665763:(e,t,n)=>{var i,a,l,r,s,o,d,c;n.r(t),n.d(t,{default:()=>p});let u=(a=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"Closeup_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:a,storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"136x136")'},{alias:null,args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isV1IdeaPin",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[s,c={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i,l],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:d,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:a,storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupPageViewAndTimeSpent_pin"},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"CloseupPageContainer_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainPin_pin"},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"},{args:null,kind:"FragmentSpread",name:"useGetFeedbackType_pin"},{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{kind:"ClientExtension",selections:[{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null});u.hash="3db1fa61cf094113bd81227de68261d0";let p=u},488365:(e,t,n)=>{var i,a;n.r(t),n.d(t,{default:()=>r});let l=(a=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});l.hash="6e4bec581cece19361386d6124ddde90";let r=l},481360:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModalEntryPoint_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],type:"Pin",abstractKey:null};i.hash="8870c13169c2c3853d298396ebbb7276";let a=i},467604:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{kind:"InlineDataFragmentSpread",name:"getPinTrackingParamsMap_pin",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"TrackingParamsMap",kind:"LinkedField",name:"trackingParamsMap",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}]}],args:null,argumentDefinitions:[]}],type:"Pin",abstractKey:null};a.hash="9921db16d02bb8ff91ea36443cd7b45a";let l=a},106398:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};a.hash="cabaa35ed7d59dee006897bf3ef32e3d";let l=a},685333:(e,t,n)=>{var i,a,l;n.r(t),n.d(t,{default:()=>s});let r={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"f5c2a4544d75592cedbb5c841969c7b7f7d1b38bf96dd6d0ab116107bfa90978",metadata:{},name:"LazyLoadPinBreadcrumbsQuery",operationKind:"query",text:null}};r.hash="c8e65ee18cda32864e9b7635744f253f";let s=r;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(r.default||r)},369137:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="17ee7538a8ba5a468f69f85d06121f1d";let a=i},263358:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"},{args:null,kind:"FragmentSpread",name:"FollowButton_pin"}],type:"Pin",abstractKey:null};i.hash="e9f1e0adefbc64e46ae0d9f836929d13";let a=i},511288:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarOptionsButton_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"VaseSection_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};i.hash="b01402e9eb5ee4124874a409ef3b9bb5";let a=i},709433:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};i.hash="2ed8f79733cbeedba9e8a7ed03435228";let a=i},580448:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBar_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"},{args:null,kind:"FragmentSpread",name:"SaveButtonContainer_pin"}],type:"Pin",abstractKey:null};a.hash="9adaa5fdfaac681daedbc8185915a1f7";let l=a},581471:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinFeaturedInArticleCard_pin",selections:[{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="a7aa8ca2a9aab89cbe065401dfa9e30d";let a=i},396034:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin2"}],type:"Pin",abstractKey:null};i.hash="e347537dfa11d23546564f69613b0767";let a=i},139882:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin2",selections:[{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="513a4efd261499402068cfd0e810bf2c";let a=i},248543:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"}],type:"Pin",abstractKey:null};i.hash="1b689fdbc501139b7eab68eb09176567";let a=i},793592:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailsInner_pin",selections:[{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"}],type:"Pin",abstractKey:null};i.hash="3c9cb166d3a65784b29e427784f6f070";let a=i},691138:(e,t,n)=>{var i,a,l;n.r(t),n.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isMerchant",storageKey:null}],storageKey:null},a,l={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},i,{args:null,kind:"FragmentSpread",name:"ProductPrice_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviews_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailsInner_pin"}],type:"Pin",abstractKey:null};r.hash="b648a2be14912217982ff1245ad241a3";let s=r},237009:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsCollapsible_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],type:"Pin",abstractKey:null};i.hash="a663d52f0626cc8887103d9e1a8a78c2";let a=i},225965:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsModal_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="a942edb09f07e93186cbbfed0b8031a7";let a=i},462426:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsPreview_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="25e031a9439a0eef8418850148f49a45";let a=i},248108:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviews_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductReviewsCollapsible_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsPreview_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsModal_pin"}],type:"Pin",abstractKey:null};i.hash="c2f4c93600298edcacdd3b6d3a62ab79";let a=i},870965:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButtonContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"SaveButtonPinCard_pin"}],type:"Pin",abstractKey:null};i.hash="865d58a2663c75bbb617f694de0d85d0";let a=i},188873:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButtonPinCard_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null}],type:"Pin",abstractKey:null};i.hash="7f5632f86cee32cde1e56f7cde971e76";let a=i},579304:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SourceLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{kind:"InlineDataFragmentSpread",name:"getPinTrackingParamsMap_pin",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"TrackingParamsMap",kind:"LinkedField",name:"trackingParamsMap",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}]}],args:null,argumentDefinitions:[]}],type:"Pin",abstractKey:null};a.hash="be185b62ede805738d710ac635fa6834";let l=a},12065:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null};i.hash="9cbce2e5d42ba48125c1151e618b033c";let a=i},556517:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"FollowButton_pin"}],type:"Pin",abstractKey:null};i.hash="3aa915f8ddd58c7ab54f435ed3309484";let a=i},325828:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};i.hash="594237c2ea6ccfb8bbc0e3e8c62cac9f";let a=i},777346:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="2e464db34007ea4c1c0752bf62bbb542";let a=i},876155:(e,t,n)=>{var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},a,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};l.hash="dda341dce5f1fa956d1837dec35496de";let r=l},927222:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={kind:"InlineDataFragment",name:"getPinTrackingParamsMap_pin"};i.hash="57357f2b0e006ba81b2f258ce3430e30";let a=i},680907:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="35075da6e1f4b526ac4314727015c44d";let a=i},997786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClickthrough_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"}],type:"Pin",abstractKey:null};i.hash="f56870994667cb51da2ca3c4833d8927";let a=i},148452:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCommerceData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null}],type:"Pin",abstractKey:null};i.hash="1b446350cec79dea7b3946321fdb0a52";let a=i},549359:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFragmentWithoutSuspenseDONOTUSENoOpQuery",selections:i=[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useFragmentWithoutSuspenseDONOTUSENoOpQuery",selections:i},params:{cacheID:"9d9a0b4361770e7457fb22c606b3e5f1",id:null,metadata:{},name:"useFragmentWithoutSuspenseDONOTUSENoOpQuery",operationKind:"query",text:null}};a.hash="de96be885f09f9032378528575433b38";let l=a;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(a.default||a)},844107:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetFeedbackType_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="09058e2c22f768d113516b357e48e9cd";let l=a},498896:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin2"}],type:"Pin",abstractKey:null};i.hash="6016b14b2081c4349ad3f3a910cc2ea7";let a=i},157485:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin2",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};a.hash="4ffad4c63399ee2e54c9a3a86d114984";let l=a},817985:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};i.hash="461a57fcc8f7958e3742c217e4cc45a2";let a=i},644566:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="a3cbf6d55cf89d97d6e04c32195968d9";let l=a},890030:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};a.hash="b7ea441f2c20a68b323088ebe3847835";let l=a},537695:(e,t,n)=>{var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:a=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};l.hash="6588018e2880f2695fc6c4ba45aab606";let r=l},971737:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="11d828252f89045bc37e6aa5eb3fbea6";let a=i},855237:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};a.hash="b49953855cdc69f6ee2c8d4925149d23";let l=a},937320:(e,t,n)=>{var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescription_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:"headerContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionHeader",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:"boldContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionStringBold",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="84cd56e2bb28541afc7f6f1c8f5d4d97";let l=a},161881:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(216167),l=n(415199),r=n(413110),s=n(930822),o=n(64819),d=n(232518),c=n(937310);let u={[r.o.aggregatedComment]:"AggregatedCommentReplyResource",[r.o.pin]:"AggregatedCommentResource",[r.o.didIt]:"DidItCommentsResource"};function p(){let e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,l.nf)();return async({force:i=!0,fromUnifiedComment:l,objectId:r,objectType:p,orbacSubjectId:m,pinId:g,replyToCommentId:_,tags:h,text:y})=>{let f=u[p],b={force:i,objectId:r,pinId:g,tags:h,text:y,replyToCommentId:_,...m?{orbacSubjectId:m}:{}},S=c.Z.AGGREGATED_COMMENTS;l&&(S="pin"===p?c.Z.UNIFIED_COMMENTS:c.Z.AGGREGATED_COMMENT_REPLIES);let x=await a.Z.create(f,b).callCreate({showError:!1}),v=x.resource_response.data;return t(r,v),e((0,o.vX)({feedType:S,feedId:r,itemIds:[v.id],itemType:v.type,prepend:!0})),"aggregatedComment"===p?n(r,1):"pin"!==p&&e((0,s.L8)(r,1)),g&&e((0,d.R)(g,1)),v.id||x}}},197404:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(667294),a=n(616550),l=n(140017),r=n(5859),s=n(340523);function o({surfaceType:e}){let{checkExperiment:t}=(0,s.F)();return"flashlight"===e||t("mweb_image_search_animated_button").anyEnabled||("stela"===e||"stl"===e)&&(t("web_stela_cta").anyEnabled||t("mweb_unified_visual_features_expansion").anyEnabled||t("web_unified_visual_features_expansion").anyEnabled)}var d=n(883119),c=n(696534),u=n(513911),p=n(554786),m=n(785893);function g({buttonText:e,onButtonClick:t,handleAnimationEnd:n,iconType:a,styleOptions:s,textRef:o,textColor:g}){let _=(0,l.ZP)(),{isRTL:h}=(0,r.B)(),y=!(0,p.HG)()&&(0,c.Yc)(),f=_._('closeup image action button', 'closeup.image.button.defaultAccessibilityLabel', 'accessibility label for the button on the closeup image overlay. This button navigates users to the image search landing page. buttonText: image search button text'),b=e||f,S=(0,m.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:s.buttonStyle},children:e&&(0,m.jsx)(d.xu,{ref:o??void 0,dangerouslySetInlineStyle:{__style:s.textStyle},children:(0,m.jsx)(d.xv,{color:g,weight:"bold",children:e})})}),x=(u.Nv-u.ZG)/2,v=(0,m.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{bottom:x,right:h?void 0:x,left:h?x:void 0}},position:"absolute",children:(0,m.jsx)(d.JO,{accessibilityLabel:b,color:"default",icon:a,size:u.ZG})});return(0,m.jsx)(d.iP,{accessibilityLabel:b,onTap:t,rounding:"circle",children:(0,m.jsx)(d.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{backgroundColor:y?"rgba(17, 17, 17, 0.9)":"rgba(255, 255, 255, 0.9)"}},"data-test-id":"shop-button",display:"flex",justifyContent:"center",minHeight:u.Nv,minWidth:u.Nv,onAnimationEnd:n,padding:3,position:"relative",rounding:"pill",children:(0,m.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",children:h?(0,m.jsxs)(i.Fragment,{children:[v,S]}):(0,m.jsxs)(i.Fragment,{children:[S,v]})})})})}var _=n(587703),h=n(406893),y=n(704043),f=n(233440),b=n(494125),S=n(755453);function x({actionUrl:e,animateShopButton:t,id:n,imageSignature:s,onAnimationComplete:d,surfaceType:c}){let u=(0,i.useRef)(),p=(0,_.Z)(),x=o({surfaceType:c}),v=(0,a.k6)(),[P,k]=(0,i.useState)(),[w,T]=(0,i.useState)(),[I,E]=(0,i.useState)(),A=function({surfaceType:e,showButton:t}){let n=(0,l.ZP)(),{isAuthenticated:i}=(0,r.B)(),a=o({surfaceType:e});if(!t)return null;if(!i)return n._('Image search', 'closeup.visualSearchButton.flashlightVariant1', 'clicking on this text will open a visual search feed');if(a)return n._('Image search', 'closeup.shopButton.similarProducts', 'clicking on this text will open a feed similar shoppable Pins');switch(e){case"stela":return n._('Shop similar items', 'closeup.shopButton.similarProducts', 'clicking on this text will open a feed similar shoppable Pins');case"stl":return n._('Shop this look', 'closeup.overlay.stl.shopButtonText', 'clicking on this text will show the stl flyout with exact match products');case"flashlight":return"";default:return null}}({surfaceType:c,showButton:t});(0,b.Z)(()=>{"stl"===c?p({event_type:120,element:11963,view_type:3,aux_data:{image_signature:s}}):p({event_type:120,component:128,element:234,view_type:3,aux_data:{image_signature:s}})}),(0,i.useEffect)(()=>{if(u.current&&!P&&t){let e=u.current.getBoundingClientRect().width;e&&k(e)}},[u,P,t]),(0,i.useEffect)(()=>{t&&(T("shopButtonSlideInThenOut 3s ease-in-out forwards"),E("stelaSlideInThenOut 3s ease-in-out forwards"))},[t]);let C=t=>{f.Z.setItem("VISUAL_SEARCH_SOURCE","FLASH_LIGHT_BUTTON"),["flashlight","stela"].includes(c)&&p({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:s}}),t&&t.stopPropagation(),e&&null!=c?v.push(e):v.push((0,S.Z)({pinId:n,isProductPage:!1,surfaceType:c}))};return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(h.Z,{unsafeCSS:(0,y.Z)(P||0)}),(0,m.jsx)(g,{buttonText:A,handleAnimationEnd:d,iconType:"flashlight"===c||x?"flashlight":"shopping-bag",onButtonClick:({event:e})=>C(e),styleOptions:{buttonStyle:{animation:w},textStyle:{animation:I,whiteSpace:"nowrap"}},textColor:"default",textRef:u})]})}},160408:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(140017),r=n(340523),s=n(5859),o=n(785893);function d({collapsed:e,displayViewState:t,forceTappableHeader:n,headerHeight:d,headerPaddingRight:c,headerPreview:u,heading:p,onClick:m,showArrow:g}){let _=(0,l.ZP)(),{checkExperiment:h}=(0,r.F)(),{isAuthenticated:y}=(0,s.B)(),f=y?h("auth_closeup_redesign").anyEnabled:h("unauth_closeup_redesign").anyEnabled;return(0,o.jsx)(i.Fragment,{children:n||null!==t?(0,o.jsx)(a.iP,{onTap:m,children:(0,o.jsxs)(a.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:d,justifyContent:"between",children:[(0,o.jsx)(a.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:f?"300":"400",children:p}),(0,o.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:c}},direction:"row",display:"flex",children:[e&&u,g&&(0,o.jsx)(a.xu,{alignItems:"center","data-test-id":"collapse-button",display:"flex",justifyContent:"center",marginStart:u?2:0,width:48,children:(0,o.jsx)(a.JO,{accessibilityLabel:_._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:e?"arrow-down":"arrow-up"})})]})]})}):(0,o.jsx)(a.X6,{accessibilityLevel:2,align:"start",id:"comments-heading",size:"400",children:p})})}},328566:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(883119),a=n(772667),l=n(230556),r=n(650384),s=n(785893);let o=({description:e,userMentionTags:t})=>(0,s.jsx)(r.Z,{description:e,mentionLinkColor:"link",shouldAdjustOffset:!0,shouldMakeHashtagLinksFromText:!0,textSize:l.n,userMentionTags:t});var d=n(923368);function c({description:e}){let{stackedCloseupEnabled:t}=(0,d.x4)();return(0,s.jsx)(i.xu,{children:(0,a.Z)({stackedCloseupEnabled:t,text:e})})}function u({description:e,userMentionTags:t}){let n=e=>e.replace(/\s+/g," "),a=e.split(/\n/)||[],l=({descriptionLine:t,userMentionTags:n})=>{let i=e.indexOf(t);return n.map(e=>e&&"number"==typeof e.offset&&e.offset>=i?{...e,offset:e.offset-i}:null).filter(e=>null!==e)||[]};return a.map((e,a)=>{let r=`description-broken-by-line-breaks-${a}`;if(!t||0===t.length)return(0,s.jsx)(c,{description:e},r);let d=l({descriptionLine:e,userMentionTags:t});return d.length>0?(0,s.jsx)(i.xu,{children:(0,s.jsx)(o,{description:n(e),userMentionTags:d})},r):(0,s.jsx)(c,{description:e},r)})}},169609:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),l=n(230556),r=n(140017),s=n(923368),o=n(626468),d=n(236817),c=n(785893);function u({isDarkMode:e,onPress:t,testID:n,label:i}){return(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":n,display:"inlineBlock",children:(0,c.jsx)(a.iP,{fullWidth:!1,onTap:t,children:(0,c.jsxs)(a.xv,{size:l.n,weight:"bold",children:["...",i]})})})}function p({children:e,isDarkMode:t,descriptionDir:n}){let p=(0,i.useRef)(null),[m,g]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1,showToggle:!1}),{isFirstLoad:_,isTruncated:h,showToggle:y}=m,f=(0,r.ZP)(),{stackedCloseupEnabled:b}=(0,s.x4)(),S=b?2:3;return(0,i.useEffect)(()=>{if(_&&p.current){let e;let t=(0,o.xW)(p.current),n=(e=p.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;g({isTruncated:n,isFirstLoad:!1,showToggle:t>=S&&n})}},[_,h,S]),(0,c.jsx)(a.xu,{"data-test-id":"truncated-description",flex:"grow",position:"relative",children:(0,c.jsx)(d.Z,{dir:n,children:(0,c.jsxs)(a.xv,{ref:p,align:"ltr"===n?"forceLeft":void 0,lineClamp:_||h?S:0,size:l.n,children:[e,y?(0,c.jsx)(i.Fragment,{children:h?(0,c.jsx)(a.xu,{bottom:!0,position:"absolute",right:!0,children:(0,c.jsx)(u,{isDarkMode:t,label:f._('more', 'storyPin.previewText.more', 'Story pin preview more text truncation'),onPress:()=>g({...m,isTruncated:!1}),testID:"more-description-container"})}):(0,c.jsx)(u,{isDarkMode:t,label:f._('less', 'storyPin.previewText.less', 'Story pin preview less text truncation'),onPress:()=>g({...m,isTruncated:!0}),testID:"less-description-container"})}):null]})})})}},737684:(e,t,n)=>{n.d(t,{Xw:()=>o,_B:()=>s,aW:()=>c,ff:()=>r,tD:()=>d,te:()=>a});var i=n(883119);let a={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},l=e=>e.length>33?"...":"",r=e=>`${e.substring(0,33)}${l(e)}`,s=375,o=4,d=new i.Ry(3),c=new Set(["related_modules_header","related_products_feed_header"])},46113:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(757640);let a=()=>["shuffle.{id,items,effect_data}","shuffleitem.{id,shuffle_item_image(),item_type,text,offset,scale,rotation,effect_data,mask,shuffle_asset,images[236x,750x,750x(heic)]}","shuffleasset.{id,cutout_images[originals],source_images[236x]}"],l=({shuffleId:e,shouldRenderShuffle:t})=>{let{data:n}=(0,i.Z)(e&&t?{name:"ApiResource",options:{url:`/v3/shuffles/${e}/`,data:{fields:a()}}}:null);return n}},889449:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(340523),a=n(5859),l=n(554786);let r=()=>{let{isAuthenticated:e}=(0,a.B)(),t=(0,l.HG)(),{checkExperiment:n}=(0,i.F)(),r="unauth_web_shuffle_renderer_closeup";return e&&(r=t?"auth_dweb_shuffle_renderer_closeup_v2":"auth_mweb_shuffle_renderer_closeup"),()=>{let{anyEnabled:i}=n(r);return{isShuffleRendererEnabled:i,isCollageEnabled:i&&e&&t&&n("auth_web_collage_closeup").anyEnabled}}}},230556:(e,t,n)=>{n.d(t,{n:()=>i});let i="300"},249123:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(230556),r=n(696534),s=n(140017),o=n(785893);function d({children:e,maxLines:t=10}){let n=(0,i.useRef)(null),[d,c]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),u=(0,s.ZP)(),p=(0,r.vs)()?"#111":"#fff",{isFirstLoad:m,isTruncated:g}=d;return(0,i.useEffect)(()=>{let e;m&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&c({isFirstLoad:!1,isTruncated:!0})},[m,g]),(0,o.jsxs)(a.xu,{"data-test-id":"truncated-text",position:"relative",children:[(0,o.jsx)(a.xv,{ref:n,inline:!0,lineClamp:m||g?t:0,children:e}),g&&(0,o.jsx)(a.xu,{bottom:!0,display:"block",position:"absolute",width:"100%",children:(0,o.jsxs)(a.kC,{flex:"grow",children:[(0,o.jsx)(a.xu,{display:"inlineBlock",height:"14px",width:"120px"}),(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:15,background:`linear-gradient(90deg, transparent 0%, ${p} 15%)`}},"data-test-id":"more-button",display:"inlineBlock",children:(0,o.jsx)(a.iP,{fullWidth:!1,onTap:()=>c({...d,isTruncated:!1}),children:(0,o.jsx)(a.xv,{inline:!0,size:l.n,weight:"bold",children:u._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:p}},display:"inlineBlock",flex:"grow"})]})})]})}},772667:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);let l=/^(?!.*#.*#)#[\p{L}\p{N}_]\S*$/gu;function r({stackedCloseupEnabled:e=!1,text:t}){return t.split(new RegExp(/(#\S*)/)).map((t,n)=>{let r=`${n}-${t}`;return t.match(l)?(0,a.jsx)(i.xv,{color:"link",inline:!0,size:"300",children:(0,a.jsx)(i.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(t.replace("#",""))}`,underline:"none",children:t})},r):(0,a.jsx)(i.xv,{color:e?"subtle":void 0,inline:!0,children:t},r)})}},650384:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),l=n(772667),r=n(214877),s=n(923368),o=n(785893);let d=e=>e.replace(/\s+/g," "),c=e=>null!=e&&e>-1,u=(e,t)=>{let n=t.substr(0,e);return(e??0)-(n.length-d(n).length)},p=({color:e,mention:t,tagObjectId:n,tagType:i,textSize:l})=>{let{logContextEvent:s}=(0,r.v)();return(0,o.jsx)(a.rU,{display:"inlineBlock",href:`/${t.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:11915,aux_data:{tag_id:n,tag_type:i}})},underline:"none",children:(0,o.jsx)(a.xv,{color:e,inline:!0,overflow:"normal",size:l,weight:"bold",children:t},t)},n)},m=({description:e,mentionLinkColor:t,shouldAdjustOffset:n,shouldMakeHashtagLinksFromText:r,textSize:d,userMentionTags:m})=>{let{stackedCloseupEnabled:g}=(0,s.x4)();if(0===m.length)return(0,o.jsx)(i.Fragment,{children:e});let _=0,h=[];return[...m].map(t=>n?{...t,offset:u(t.offset??0,e)}:t).sort((e,t)=>(e.offset??0)-(t.offset??0)).filter(e=>c(e.offset)&&c(e.length)).forEach(n=>{let i=n.offset??0,a=n.length??0,l=e.substr(_,i-_),r=e.substr(i,a);h.push(l),h.push((0,o.jsx)(p,{color:t,mention:r,tagObjectId:n.objectId,tagType:n.tagType,textSize:d})),_=i+a}),h.push(e.substr(_)),(r?h.flatMap(e=>"string"!=typeof e?e:(0,l.Z)({stackedCloseupEnabled:g,text:e})):h).reduce((e,t)=>(0,o.jsxs)(a.xv,{inline:!0,size:d,children:[e,t]}),null)}},554646:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),a=n(883119),l=n(69861),r=n(214877),s=n(140017),o=n(906623),d=n(618799),c=n(923368),u=n(999624),p=n(937875),m=n(785893);let g=({children:e,inMwebPdpCommentsExp:t,paddingY:n,stackedCloseupEnabled:a})=>(0,m.jsx)(i.Fragment,{children:a?(0,m.jsx)(i.Fragment,{children:e}):(0,m.jsx)(l.Z,{inMwebPdpCommentsExp:t,paddingY:n,topBorder:!0,children:e})}),_=({inCommentFeedRedesignExp:e,inMwebPdpCommentsExp:t,onOpen:n,onToggle:l,structuredDescription:r,type:g})=>{let _=(0,s.ZP)(),h=(0,o.E)(),y=(0,i.useCallback)(()=>{h&&h.markConstraintComplete("description")},[h]),f=(0,i.useRef)(null),[b,S]=(0,i.useState)(!1),{stackedCloseupEnabled:x}=(0,c.x4)();(0,i.useEffect)(()=>{let e;(f.current&&((e=f.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)||r.length>1)&&S(!0)},[f,r]);let v="expandable"===g&&r[0].type===p.X.PARAGRAPH,P=v?(0,m.jsx)(a.xv,{ref:f,lineClamp:1,size:"200",children:r[0].content}):null,k=_._('Product Details', 'productDetails.accordionHeader.text', 'text in tap area to open product description accordion panel');return!b&&P?(0,m.jsx)(i.Fragment,{children:(0,m.jsxs)(a.kC,{direction:"column",gap:e?3:0,children:[(0,m.jsx)(a.xu,{paddingY:e?0:1,children:(0,m.jsx)(a.xv,{size:"300",weight:"bold",children:k})}),(0,m.jsx)(a.xu,{marginBottom:e?0:1,marginEnd:6,children:P})]})}):(0,m.jsx)(d.Z,{arrowDirection:"expandable"===g?"arrow-down":"arrow-forward",content:(0,m.jsx)(a.xu,{paddingY:v?0:e?8:1,children:(0,m.jsx)(u.Z,{descriptions:r,onLoad:y})}),header:k,inCommentFeedRedesignExp:e,inMwebPdpCommentsExp:t,onOpen:n,onToggle:l,previewContent:x?void 0:P,previewContentHeight:v?20:0,shouldToggleOnBodyTap:!0})},h=({isOpen:e,onOpen:t,structuredDescription:n})=>{let[l,r]=(0,i.useState)(!1),d=(0,s.ZP)(),p=(0,i.useRef)(null),g=(0,o.E)(),{stackedCloseupEnabled:_}=(0,c.x4)(),h=(0,i.useCallback)(()=>{g&&p.current&&g.markConstraintComplete("description")},[g]),y=l&&!e,f=e?d._('See less', 'productDescription.productDescriptionPreview.cta', 'CTA label for collapsing the description'):d._('See more', 'productDescription.productDescriptionPreview.cta', 'CTA label for expanding the description');return(0,i.useLayoutEffect)(()=>{!(!p.current||Number.isNaN(p.current.offsetHeight)||150>Number(p.current.offsetHeight))&&(l||r(!0))},[l,p.current?.offsetHeight]),(0,m.jsxs)(a.xu,{"data-test-id":"product-description-preview",display:p.current?"block":"visuallyHidden",paddingY:1,children:[(0,m.jsx)(a.xv,{size:_?"400":"300",weight:"bold",children:d._('Product Details', 'productDescription.productDescriptionPreview.header', 'header for the product description')}),(0,m.jsxs)(a.xu,{marginBottom:y?0:2,marginTop:2,position:"relative",children:[(0,m.jsx)(a.xu,{ref:p,height:y?150:"auto",overflow:y?"hidden":"visible",children:(0,m.jsx)(u.Z,{descriptions:n,onLoad:h})}),l&&(0,m.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:y?1:0,position:"absolute",width:"100%"})]}),l&&(0,m.jsx)(a.iP,{onTap:t,children:(0,m.jsx)(a.xv,{size:"200",weight:"bold",children:f})})]})};function y(e){let{commerceData:t,inCommentFeedRedesignExp:n,inMwebPdpCommentsExp:a,structuredDescription:l,type:s="accordion",viewParameter:o}=e,{setIsProductDetailsExpanded:d,stackedCloseupEnabled:u}=(0,c.x4)(),{logContextEvent:y}=(0,r.v)(),[f,b]=(0,i.useState)(!1);(0,i.useEffect)(()=>{y({event_type:120,component:13597,view_type:3,view_parameter:o,aux_data:{...t}})},[]);let S=()=>{b(!f),y({event_type:101,component:13597,view_type:3,element:f?13278:13277,view_parameter:o,aux_data:{...t}}),y({event_type:101,component:13597,view_type:3,element:10492,view_parameter:o,aux_data:{...t}})};if(0===l.length)return null;let x="expandable"===s&&l[0].type===p.X.PARAGRAPH;return"preview"===s?(0,m.jsx)(h,{...e,isOpen:f,onOpen:S}):(0,m.jsx)(g,{inMwebPdpCommentsExp:a,paddingY:x?n?4:3:0,stackedCloseupEnabled:u,children:(0,m.jsx)(_,{...e,onOpen:S,onToggle:e=>{d&&d(e)}})})}},69861:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),a=n(213377),l=n(923368),r=n(894965),s=n(312244),o=n(785893);function d({children:e,inMwebPdpCommentsExp:t,paddingY:n,topBorder:d,marginBottom:c,marginEnd:u}){let{stackedCloseupEnabled:p}=(0,l.x4)();return(0,o.jsxs)(i.xu,{children:[t?(0,o.jsx)(s.Z,{marginStart:a.D6+r.x}):null,(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderTop:!d||t||p?void 0:"1px solid #efefef"}},"data-test-id":"product-metadata-border",marginBottom:c,marginEnd:u,paddingY:n,width:"100%",children:e})]})}},7860:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(89856),l=n(140017),r=n(785893);function s({colorOverride:e,isSoldOut:t,isStale:n,productDetails:s,showSalesPrice:o,type:d}){let{maxPrice:c,minPrice:u,price:p,standardPrice:m}=s,g=!!p&&!!m&&p!==m,_="100";"heading"===d?_="400":"mobileHeading"===d?_="300":"cutout"===d&&(_="200");let h=(0,l.ZP)(),y=h._('See price on site', 'product.price.stale', 'Product is stale'),f=h._('Sold out', 'product.price.soldOut', 'Product is sold out');return n?(0,r.jsx)(i.xv,{color:"subtle",size:_,weight:"bold",children:y}):(0,r.jsxs)(i.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[t&&(0,r.jsx)(i.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,r.jsx)(i.xv,{color:"subtle",size:_,weight:"bold",children:f})}),(!!p||!!u||!!c)&&(0,r.jsx)(i.xv,{color:e||(g?"shopping":"default"),size:_,weight:"bold",children:(0,r.jsx)("span",{children:(0,a.Z)({maxPrice:c,minPrice:u,price:p})})}),g&&!o&&(0,r.jsx)(i.xu,{marginStart:1,children:(0,r.jsx)(i.xv,{color:"cutout"===d?"dark":"subtle",size:_,weight:["heading","mobileHeading"].includes(d)?"normal":"bold",children:(0,r.jsx)("span",{style:{textDecoration:"line-through"},children:m})})})]})}},98068:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(883119),a=n(612541),l=n(140017),r=n(72461),s=n(339001),o=n(686769),d=n(5859);function c({count:e,rating:t}){return!!(t&&"None"!==t&&Number.isFinite(e))}var u=n(785893);let p=({rating:e,textSize:t,type:n})=>{if("single"===n){let n=parseFloat(e);return Number.isNaN(n)?null:(0,u.jsxs)(i.kC,{alignItems:"center",children:[(0,u.jsx)(o.A,{fill:"full"}),(0,u.jsx)(i.xv,{size:t,children:n.toFixed(1)})]})}return(0,u.jsx)(o.Z,{rating:e})},m=({bracket:e,count:t,countFormat:n,countType:a,marginStart:o,textSize:c,underline:p,isInUnauthPdpPlus:m})=>{let{locale:g}=(0,d.B)(),_=(0,l.ZP)(),h=(0,r.Z)();if(null==t)return null;let y=h(g,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){let e="review"===a?_.ngettext('{{ count }} review', '{{ count }} reviews', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):_.ngettext('{{ count }} rating', '{{ count }} ratings', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');y=(0,s.nk)(e,{count:t}).join("")}return e&&(y=`(${y})`),(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:o,children:(0,u.jsx)(i.xv,{color:p?"subtle":"default",size:c,underline:p,children:(0,u.jsx)(i.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:m?`(${y})`:y})})})};function g({bracket:e,count:t,countFormat:n,countType:a,rating:l,textSize:r,underline:s,isInUnauthPdpPlus:o}){return c({count:t,rating:l})?(0,u.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(p,{rating:l,textSize:r,type:"multiple"}),(0,u.jsx)(m,{bracket:e,count:t,countFormat:n,countType:a,isInUnauthPdpPlus:o,textSize:r,underline:s})]}):null}let _=({count:e,countFormat:t,ratingValue:n,shippingInfo:l,isInUnauthPdpPlus:r})=>(0,u.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsx)(g,{count:e,countFormat:t,isInUnauthPdpPlus:r,rating:n,textSize:"200"}),(0,u.jsx)(i.xu,{marginTop:c({count:e,rating:n})?1:0,children:(0,u.jsx)(a.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:l?.freeShippingPrice,freeShippingValue:l?.freeShippingValue})})]}),h=({count:e,countType:t,countFormat:n,hideSeparationDot:l,bracket:r,ratingValue:s,isInUnauthPdpPlus:o,shippingInfo:d})=>(0,u.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,u.jsx)(g,{bracket:r,count:e,countFormat:n,countType:t,isInUnauthPdpPlus:o,rating:s,textSize:"300"}),(0,u.jsx)(i.xu,{marginStart:c({count:e,rating:s})&&l?2:0,children:(0,u.jsx)(a.Z,{customStyles:{color:"default",size:"300"},freeShippingPrice:d?.freeShippingPrice,freeShippingValue:d?.freeShippingValue,showPrevDot:c({count:e,rating:s})&&!l})})]});function y(e){return e.isGridView?(0,u.jsx)(_,{...e}):(0,u.jsx)(h,{...e})}},89856:(e,t,n)=>{n.d(t,{Z:()=>i});function i({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}},439917:(e,t,n)=>{n.d(t,{N:()=>d,d:()=>o});var i=n(667294),a=n(797781),l=n(342513),r=n(785893);let{Provider:s,useHook:o}=(0,l.Z)("Flag"),d=({children:e})=>{let[t,n]=(0,i.useState)(),[l,o]=(0,i.useState)(a.Zw.REPORT),[d,c]=(0,i.useState)(a.qb.STARTED),[u,p]=(0,i.useState)(),[m,g]=(0,i.useState)(),_=(0,i.useMemo)(()=>({flagReason:m,flow:l,status:d,selectedReason:u,modalTitle:t,setFlagReason:g,setFlow:o,setModalTitle:n,setStatus:c,setSelectedReason:p}),[t,l,d,u,m]);return(0,r.jsx)(s,{value:_,children:e})}},797781:(e,t,n)=>{n.d(t,{Vm:()=>l,Zw:()=>i,qb:()=>a});let i={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},a={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},l={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},481177:(e,t,n)=>{n.d(t,{Z:()=>i});let i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},6619:(e,t,n)=>{n.d(t,{Z:()=>y});var i,a=n(667294);n(167912);var l=n(616550),r=n(798580),s=n(901855),o=n(214877),d=n(107366),c=n(207012),u=n(456299),p=n(558273),m=n(414131),g=n(268127),_=n(785893);let h=void 0!==i?i:i=n(467604);function y({children:e,hovered:t,pinKey:n,slotIndex:i,trafficSource:y,viewType:f}){let{logContextEvent:b}=(0,o.v)(),[S,x]=(0,a.useState)(),[v,P]=(0,a.useState)(),k=(0,c.Z)(h,n),{entityId:w,trackedLink:T,link:I}=k,E=T||I||"",A=()=>{x(!0)},C=function(e){let t=(0,l.TH)(),{previous:n}=(0,s.Hv)();return(0,r.Z)({...e,location:t,previousHistory:n})}({boardUrl:k.board?.url,pinId:w,pinnerUserName:k.pinner?.username,storyPinDataId:k.storyPinDataId,trackingParams:k.trackingParams,trackingParamsMap:(0,u.Z)(k)}),R=(0,m.Z)({hasPin:!!k,hasPinRichMetadata:!!k.richMetadata,hasPinRichMetadataProducts:!!k.richMetadata?.products,hasPinRichMetadataArticle:!!k.richMetadata?.article,hasPinRichMetadataRecipe:!!k.richMetadata?.recipe,hasPinStoryPinData:!!k.storyPinData}),j=(0,g.Z)(k),L=()=>{let e=j();(0,d.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:w,url:E,client_tracking_params:C,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:w,...i||{},...e})}}).then(t=>{t&&(b({event_type:12,object_id_str:w,view_type:f,view_parameter:R,aux_data:{clickthrough_type:"rightClick",...i||{},...e}}),b({event_type:8948,view_type:f,object_id_str:w,view_parameter:R,aux_data:{click_type:"clickthrough",closeup_navigation_type:y&&(0,p.sV)(y)?"deeplink":"click",clickthrough_type:"rightClick",...i||{},...e}}))})},F=e=>{S&&(/^\/pin/.test(e.target.activeElement.attributes.href?.value)||(L(),x(!1)),window.removeEventListener(v,F,!1))};return(0,a.useEffect)(()=>{void 0!==window?.document?.hidden?P("visibilitychange"):void 0!==window?.document?.msHidden?P("msvisibilitychange"):void 0!==window?.document?.webkitHidden&&P("webkitvisibilitychange")},[]),(0,a.useEffect)(()=>(S&&window&&window.addEventListener(v,F,!1),()=>window.removeEventListener(v,F)),[S,v]),(0,a.useEffect)(()=>(t&&window.addEventListener("contextmenu",A),()=>{window.removeEventListener("contextmenu",A)}),[t]),(0,_.jsx)(a.Fragment,{children:e})}},406893:(e,t,n)=>{n.d(t,{Z:()=>l}),n(441143);var i=n(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function l(e){let{css:t,unsafeCSS:n,...l}=e,r=String(t||"")||n||"";return r?(0,i.jsx)("style",{...l,dangerouslySetInnerHTML:{__html:String(a.factory(r))}}):null}},485756:(e,t,n)=>{n.d(t,{xR:()=>_,ZP:()=>y,vR:()=>g});var i=n(658583),a=n(622541),l=n(373314),r=n(217058),s=n(353453),o=n(953565);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},c=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],u=/www\.pinterest\.[A-Za-z]{2}/,p=/[A-Za-z]{2}\.pinterest\.com/,m=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},g=e=>{let{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case s.RL:return"iphone";case s.GW:return t.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}};function _(e){if(c.indexOf(e)>-1||u.test(e)||p.test(e))return e;for(let t in d)if(Object.prototype.hasOwnProperty.call(d,t)&&e.indexOf(t)>-1)return d[t];return"other"}let h=({moduleName:e,pageType:t,requestContext:n})=>{let s;let d=g(n),c=n.isAuthenticated?"auth":"unauth",u=m(),p=(0,l.Z)(),h=(s=!1,i.U2(a.VL)||(i.t8(a.VL,"1",(0,i.kZ)(a.VL)),s=!0),s),y=document.domain||"unknown";h&&((0,r.My)(`traffic.${d}.${p}.${e}.${c}`),(0,r.My)(`traffic_subdomain.${y}.${p}.${e}.${c}`),(0,r.My)(`traffic_subdomain.${y}.${d}.${p}.${e}.${c}`),(0,r.My)(`traffic_subdomain.${y}.${d}.${c}`),(0,r.My)(`traffic_duplo.${d}.${p}.${e}.${c}`),u&&(0,r.My)(`traffic_bot.${u}.${e}`));let f={domain:_(y),referrer:p??"unknown",platform:d??"unknown",browser:n.userAgent.browserName??"unknown",bot_type:u??"none",page_type:t??"unknown",is_auth:c??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:h??"unknown"};(0,o.nP)("webapp.traffic",{sampleRate:.1,tags:f}),("google"===p||"other"===p)&&(0,o.nP)(`webapp.traffic.${d}.${p}`,{sampleRate:.1,tags:f})};function y({pageType:e,requestContext:t,route:n}){h({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[n]||"other",pageType:e,requestContext:t})}},343902:(e,t,n)=>{n.d(t,{N:()=>r,Z:()=>l});var i=n(883119),a=n(785893);function l({children:e,fullWidth:t}){return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function r({children:e,enabled:t}){return t?(0,a.jsx)(l,{children:e}):e}},704043:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(513911);let a=(e=0)=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+i.I6}px;
  }

  85% {
    width: ${e+i.I6}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

`},513911:(e,t,n)=>{n.d(t,{I6:()=>a,Nv:()=>i,RZ:()=>l,ZG:()=>o,b9:()=>s,s0:()=>r});let i=44,a=24,l=446,r=.05,s=36,o=20},160567:(e,t,n)=>{n.d(t,{Pw:()=>i,SB:()=>a,ZP:()=>r,x9:()=>l});let i=80,a=56,l=e=>"phone"===e?a:i;function r(e,t){return t?0:l(e)}},219168:(e,t,n)=>{n.d(t,{Z:()=>g}),n(167912);var i,a=n(883119),l=n(333739),r=n(140017),s=n(339001),o=n(217058),d=n(623409),c=n(494125),u=n(785893);let p=void 0!==i?i:i=n(777346);function m({pin:e,onClose:t,zIndex:n}){let i=e?.board?.name,l=e?.board?.privacy==="protected"?null:e?.board?.url,p=(0,r.ZP)(),m=(0,d.Z)(),g=l&&i?{boardName:i,boardUrl:l,username:l.split("/")[1]}:null;return(0,c.Z)(()=>{e?.description?.trim()||g||(0,o.My)("lop.dweb.plp.more_info.empty")}),(0,u.jsx)("div",{"data-test-id":"more-information-modal",onClick:()=>{m({action:"click",item:"close-more-information-modal"}),t()},style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:n||2},children:(0,u.jsxs)(a.xu,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:2,width:414,children:[(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},display:"flex",height:60,justifyContent:"end",children:[(0,u.jsx)("div",{onClick:()=>t(),onKeyUp:()=>t(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:"0",children:(0,u.jsx)(a.xu,{"data-test-id":"close-more-information-modal",children:(0,u.jsx)(a.JO,{accessibilityLabel:p._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",inline:!0,size:18})})}),(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},marginTop:5,position:"absolute",children:p._('More information', 'more information label', 'more information label')})]}),(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!e?.description&&(0,u.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:e.description}),!!g&&(0,u.jsx)(a.xu,{marginTop:3,children:(0,u.jsx)(a.xv,{children:(0,s.nk)(p._('Find this Pin and more on {{ board_link }} by {{ profile_link }}.', 'Link to pin\'s board and board\'s owner', 'Link to pin\'s board and board\'s owner'),{board_link:(0,u.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(a.rU,{display:"inlineBlock",href:g.boardUrl,onClick:()=>(0,o.NC)("click_vase_modal_board",!0),underline:"hover",children:g.boardName},"board-link")}),profile_link:(0,u.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(a.rU,{display:"inlineBlock",href:`/${g.username}/`,onClick:()=>(0,o.NC)("click_vase_modal_profile",!0),underline:"hover",children:e?.pinner?.fullName||g.username},"profile-link")})})})})]})]})})}function g({pinKey:e,...t}){let{data:n}=(0,l.sr)(p,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},description:e.description,pinner:e.pinner&&{fullName:e.pinner.full_name}})});return!!n&&(0,u.jsx)(m,{...t,pin:n})}},109615:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(883119),l=n(587703),r=n(140017),s=n(673020),o=n(785893);let d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){let m=(0,r.ZP)(),[g,_]=(0,i.useState)(!1),{dangerousInlineStyle:h,iconColor:y}=(0,s.W)(!!e),f=(0,l.Z)();return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(a.iP,{onTap:()=>{f({component:13534,element:11717,event_type:102}),_(!0)},rounding:"circle",children:(0,o.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:h,"data-test-id":"verified-badge-icon",display:"flex",children:[(0,o.jsx)(a.JO,{accessibilityLabel:e?m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):m._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:y,icon:"workflow-status-ok",inline:!0,size:d[t]}),n&&!c&&(0,o.jsx)(a.xu,{marginStart:2,children:(0,o.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:h,children:m._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||n&&!c)&&(0,o.jsx)(s.Z,{inspirationalBadges:u,inspirationalBadgesColor:p,setShowModal:_,showModal:g})]})}},673020:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>p});var i=n(667294),a=n(883119),l=n(557226),r=n(587703),s=n(930837),o=n(140017),d=n(702497),c=n(785893);let u=e=>{let t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){let m=(0,o.ZP)(),[g,_]=(0,i.useState)(!0),{dangerousInlineStyle:h,iconColor:y}=u(!0),f=(0,r.Z)();return(0,i.useEffect)(()=>{n&&g&&(_(!1),f({event_type:13,component:13534}))},[n]),(0,c.jsx)(s.ZP,{accessibilityModalLabel:m._('Verified merchant information', 'creator.verifiedMerchant.accessibilityModalLabel', 'Accessibility label for modal informing about a verified merchant'),isOpen:n,mobileAccessibilityCloseIconLabel:m._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{f({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsxs)(a.xu,{"data-test-id":"verified-badge-modal",direction:"column",display:"flex",padding:2,children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:h,display:"flex",justifyContent:"center",children:(0,c.jsx)(a.JO,{accessibilityLabel:m._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:y,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(a.xv,{align:"center",color:"shopping",weight:"bold",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:h,children:m._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,c.jsx)(a.xu,{marginBottom:4,marginTop:4,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:m._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map(e=>(0,c.jsxs)(a.xu,{direction:"column",display:"flex",marginTop:4,children:[(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(a.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",display:"inlineBlock",paddingX:2,paddingY:2,rounding:1,children:e.label})})}),(0,c.jsx)(a.xu,{marginTop:2,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id)),(0,c.jsx)(a.xu,{"data-test-id":"verified-badge-modal-learn-more",display:"flex",justifyContent:"center",marginTop:8,width:"100%",children:(0,c.jsx)(a.ZP,{accessibilityLabel:m._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),href:d.vBy,size:"lg",target:"blank",text:m._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},934378:(e,t,n)=>{n.d(t,{$N:()=>m,Cu:()=>_,GY:()=>d,MZ:()=>r,NR:()=>c,bC:()=>g,fm:()=>i,kM:()=>l,q6:()=>a,qp:()=>o,uV:()=>u,ug:()=>p,xL:()=>s});let i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},l={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},s={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},o={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},u="604800",p="86400",m={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},g="click",_="view"},263032:(e,t,n)=>{n.d(t,{YS:()=>r,eF:()=>s,m_:()=>l});var i=n(934378),a=n(953565);function l(e,t,n,l,r,s){let o=new URLSearchParams,d=t.reduce((e,t)=>{if(null!=t){let n=function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);o.append(i.NR.SOURCE_EVENT_ID,e??"0"),o.append(i.NR.DESTINATION,JSON.stringify([...d])),o.append(i.NR.EXPIRY,n?i.uV:i.ug),o.append(i.NR.PRIORITY,n?i.NR.CLICK_PRIORITY:i.NR.VIEW_PRIORITY),r&&o.append(i.NR.ADVERTISER_ID,r),l&&o.append(i.NR.CAMPAIGN_ID,l),o.append(i.NR.SOURCE_EVENT_TYPE,n?i.bC:i.Cu);try{let{hostname:e}=new URL(window.location.href);s&&"www.pinterest.com"!==e&&o.append(i.NR.HOSTNAME,e)}catch(e){(0,a.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return s?"https://www.pinterest.com/attribution_source/?"+o.toString():"/attribution_source/?"+o.toString()}async function r(e,t,n,i,r,s,o,d,c,u){let p;let{appType:m,osType:g}=s||{},_="",h="";if(["Pin","pinImpressions"].includes(e)&&t&&(i||d||c)){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:m,osType:g}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:m,osType:g}});return}_=l(n,[i,d,c],!1,r,o,u);try{h=new URL(window.location.href).hostname}catch(e){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(u&&h&&"www.pinterest.com"!==h)document.createElement("img").setAttribute("attributionsrc",_),(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:m,osType:g,hostname:h}});else if(!(p=await window.fetch(_,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:m,osType:g}})}catch(e){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message,appType:m,osType:g,sourceEventUrl:_,stack:e.stack.slice(0,200),hostname:h,href:window.location.href,responseStatus:p&&p.status,redirectLocation:p&&p.headers&&p.headers.get("Location")}})}}else(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:m,osType:g}})}function s(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},32346:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},922719:(e,t,n)=>{n.d(t,{CC:()=>a,Ll:()=>r,XF:()=>l});let i=(e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}),a=(e,t)=>i(t/2,e/2,2*Math.random()*Math.PI),l=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},378049:(e,t,n)=>{n.d(t,{Z:()=>m}),n(167912);var i,a=n(883119),l=n(333739),r=n(140017),s=n(217058),o=n(623409),d=n(785893);let c=void 0!==i?i:i=n(581471),u=()=>{let e=(0,r.ZP)();return(0,d.jsx)(a.xv,{size:"300",children:e._('Featured in Pinterest\'s article', 'Title of suggesting articles module in the pin.', 'unauth.main_pin.featured_in_articles')})};function p({isDesktop:e,pin:t}){let n=(0,r.ZP)(),i=(0,o.Z)(),{_id:l,mainImageUrl:c,title:p,urlPath:m}=t?.relatedArticle||{};if(!l&&!c&&!p&&!m)return null;let g=()=>{(0,s.tj)("mweb.unauth.featured_in_article_text.plp.touch",{article_id:l}),i({action:"click",item:"pin-featured-in-article"})};return(0,d.jsxs)(a.xu,{marginTop:10,children:[(0,d.jsx)(a.iz,{}),!e&&(0,d.jsx)(a.xu,{marginBottom:-2,marginTop:4,children:(0,d.jsx)(u,{})}),(0,d.jsxs)(a.xu,{direction:"row",display:"flex",marginBottom:4,marginTop:4,children:[(0,d.jsx)(a.xu,{alignSelf:"center",children:(0,d.jsx)(a.zd,{height:48,rounding:3,width:48,children:c&&(0,d.jsx)(a.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:c})})}),(0,d.jsxs)(a.xu,{alignSelf:"center",marginEnd:2,marginStart:2,children:[e&&(0,d.jsx)(u,{}),(0,d.jsx)(a.rU,{href:m||"",onClick:()=>g(),tapStyle:"compress",underline:"none",children:(0,d.jsx)(a.xv,{overflow:"normal",size:"300",weight:"bold",children:p})})]}),(0,d.jsx)(a.xu,{"data-test-id":"view-button",marginStart:"auto",children:(0,d.jsx)(a.ZP,{fullWidth:!0,href:m||"",onClick:()=>g(),size:"lg",text:n._('View', 'Button that takes the user from a pin to the article the pin is featured on', 'unauth.main_pin.view_featured_in_articles')})})]})]})}let m=({pinKey:e,...t})=>{let{data:n}=(0,l.sr)(c,e,{type:"pin",useLegacyAdapter:e=>({relatedArticle:e.related_article&&{_id:e.related_article.id,mainImageUrl:e.related_article.main_image_url,title:e.related_article.title,urlPath:e.related_article.url_path}})});return!!n&&(0,d.jsx)(p,{...t,pin:n})}},755704:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return e.replace("ad.doubleclick.net","ad.doubleClick.net").replaceAll(/&epik=[^&]+/g,"")}},86785:(e,t,n)=>{n.d(t,{G6:()=>l,i7:()=>r,oi:()=>i,u$:()=>a,un:()=>o,vU:()=>s,w1:()=>d});let i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?i.CHROME:e.includes("Safari")?i.SAFARI:e.includes("Firefox")?i.FIREFOX:e.includes("Opera")?i.OPERA:e.includes("IE")?i.IE:e.includes("Edge")?i.EDGE:i.OTHER:i.OTHER;function l(e){return a(e)===i.SAFARI}function r(e){return a(e)===i.CHROME}function s(e){return a(e)===i.FIREFOX}function o(e){return a(e)===i.EDGE}function d(e){return a(e)===i.IE}},286988:(e,t,n)=>{n.d(t,{Z:()=>a,v:()=>i});let i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function a(){if(!i())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},557226:(e,t,n)=>{n.d(t,{Bu:()=>g,Dm:()=>s,I:()=>y,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>m,eT:()=>_,hm:()=>h,yQ:()=>o,ym:()=>f});var i=n(743079);let a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),l=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),r=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),s=[...Object.keys(a).map(e=>a[e]),...Object.keys(l).map(e=>l[e])],o=[...Object.keys(r).map(e=>r[e])],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",m="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function g({verifiedMerchant:e}){let t=e?.isVerifiedMerchant,n=e?.inspirational_signal?.is_inspirational,i=e?.inspirational_signal?.is_eligible_for_storefront_badges;return!!(t&&n&&i)}function _(e){return e.badge_details?e.badge_details.map(e=>e.id):[]}function h(e){return e?.profile_badges||[]}function y(e,t,n){return t&&n?t.map(e=>n.find(t=>t.id===e.trim())).filter(Boolean):[]}function f(e){let t=e||c[0];return{backgroundColor:t,color:function(e){let t=(0,i.oo)(e);if(!t)return"white";let[n,a,l]=t;return(0,i.DW)(n,a,l)<=i.I?"white":"black"}(t)}}},893912:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t=!1){return e?[...t?[e["736x"],e["564x"]]:[e["564x"],e["736x"]],e["474x"],e["236x"]].find(e=>e?.url)??null:null}},848264:(e,t,n)=>{n.d(t,{P:()=>m,Z:()=>p});var i,a,l,r,s=n(167912),o=n(807023);let d=({height:e,url:t,width:n})=>({height:e,url:t,width:n}),c=e=>Object.entries(e).reduce((e,[t,n])=>({...e,[t]:n&&d(n)}),{});var u=n(333739);function p(e){let{childDataKey__DEPRECATED:t}=(0,o.Q)(void 0!==r?r:r=n(817985),e,{useLegacyAdapter:()=>({})}),d=function(e){let{data:t}=(0,o.Q)(void 0!==i?i:i=n(644566),e,{useLegacyAdapter:e=>({carouselData:e.carousel_data&&{entityId:e.carousel_data.id??"",index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?.map(e=>({details:e.details,imageSignature:e.image_signature,image236x:e.images?.["236x"]&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},image474x:e.images?.["474x"]&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},image564x:e.images?.["564x"]&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},image736x:e.images?.["736x"]&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},slotId:e.id,title:e.title}))??[]}})});return t?.carouselData?{index:t.carouselData.index,carouselId:t.carouselData.entityId,carouselSlots:t.carouselData.carouselSlots?.map(({details:e,imageSignature:t,image236x:n,image474x:i,image564x:a,image736x:l,slotId:r,title:s})=>({details:e,imageSignature:t,imageSizeMap:[["236x",n],["474x",i],["564x",a],["736x",l]].reduce((e,[t,n])=>({...e,[t]:n}),{}),slotId:r,title:s}))??[]}:null}(t),p=function({pinKey:e,index:t}){let i;return i=null==e?{type:"deprecated",data:null}:"graphqlRef"===e.type?e:{type:"deprecated",data:e.data},(0,u.Zm)(void 0!==l?l:l=n(537695),i,{useGraphQLAdapter:e=>{let i=(e.richMetadata||e.richSummary)?.products?.[0],l=function(e){let t=(0,s.useFragment)(void 0!==a?a:a=n(855237),e);if(!t)return[];let i={},{image236x:l,image474x:r,image564x:o,image736x:d}=t;return[[l,"236x"],[r,"474x"],[o,"564x"],[d,"736x"]].forEach(([e,t])=>{(e??[]).forEach(({canonicalImage:e,imageSignature:n})=>{n&&e&&(i={...i,[n]:{...i[n],[t]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(i).map(([e,t])=>({imageSignature:e,imageSizeMap:t}))}(i);return i&&l.length?{carouselId:i.productId,carouselSlots:[{imageSignature:null,imageSizeMap:[["236x",e.image236x],["474x",e.image474x],["564x",e.image564x],["736x",e.image736x]].reduce((e,[t,n])=>({...e,[t]:n&&{height:n.height,url:n.url,width:n.width}}),{})},...l],index:t}:null},useLegacyAdapter:e=>{let n=(e?.rich_metadata||e?.rich_summary)?.products?.[0],i=(n?.additional_images??[]).reduce((e,{canonical_images:t,image_signature:n})=>e.concat(t&&n?[{imageSignature:n,imageSizeMap:Object.keys(t).reduce((e,n)=>t[n]?{...e,[n]:{height:t[n].height,url:t[n].url,width:t[n].width}}:e,{})}]:[]),[]);return e&&n&&i.length?{carouselId:n.id,carouselSlots:[...e.images?[{imageSignature:null,imageSizeMap:c(e.images)}]:[],...i],index:t}:null}}).data}({pinKey:t,index:d?.index});return p?{...p,carouselSlots:p.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:d}function m({children:e,pinKey:t}){return e(p(t))}},798580:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(624797);let a=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,l=(e,t)=>t?e.substring(t.length).split("/")[0]:e,r=({boardUrl:e,path:t,pinId:n,pinnerUserName:r,search:s,storyPinDataId:o})=>{if(!t)return"";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case r&&`/${r}/pins/`:return"UserPinsResource";case r&&`/${r}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return o?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case r&&`/${r}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:let d=l(t,"/pin/");if(n!==d)return`RelatedPinFeedResource_${d}`;break;case/\/search\//.test(t)&&t:if(s){let e=(0,i.mB)(s,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(t)&&t:let c=l(t,"/categories/");return`CategoryFeedResource_${c}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:let u=l(t,"/news_hub/");return`NewsHubDetailsResource_${u}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:let p=l(t,"/topics/");return`TopicFeedResource_${p}`;case/\/source\//.test(t)&&t:let m=l(t,"/source/");return`DomainFeedResource_${m}`;case/\/explore\//.test(t)&&t:let g=l(t,"/explore/");return`SearchResource_${g}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case a.test(t)&&t:let _=t.match(a)?.[2]||"unknown";return`TodayArticleFeedResource_${_}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(s){let{feed_type:e,request_params:t}=(0,i.mB)(s);return`StoryFeedResource_${e}_${t}`}}return""},s=e=>{let t=e?.pathname;return t?(t.match(/\/search\//)&&e?.search&&(t+=e.search),t.toLowerCase()):""},o=({boardUrl:e,location:t,pinId:n,pinnerUserName:i,previousHistory:a,storyPinDataId:l,trackingParams:o,trackingParamsMap:d={}})=>{let c,u;if(!n||!o||!t)return;if(!d)return`${o??""}~0`;let{pathname:p,search:m}=t,g=r({boardUrl:e,path:p,pinId:n,pinnerUserName:i,search:m,storyPinDataId:l,trackingParams:o,trackingParamsMap:d}),_=Object.keys(d);if((p||"").startsWith("/pin/")){let e=_.find(e=>"PinResource"!==e);c=e?d[e]:d.PinResource}else c=d[g];return!c&&a&&a.length&&(u=r({boardUrl:e,path:s(a[a.length-1].location),pinId:n,pinnerUserName:i,search:m,storyPinDataId:l,trackingParams:o,trackingParamsMap:d}),c=d[u]),c||(c=`${o||""}~0`),c}},259866:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return function e(t,n){let i;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let a=n.find(e=>e.value===t);if(a)return a.result;let l=Object.prototype.toString.call(t);switch(l){case"[object Array]":i=Array(t.length);break;case"[object Set]":i=new Set;break;case"[object Object]":case"[object Arguments]":i={};break;case"[object Map]":i=new Map;break;default:return t}let r=[...n,{value:t,result:i}];switch(l){case"[object Array]":t.forEach((t,n)=>{i[n]=e(t,r)});break;case"[object Set]":t.forEach(t=>{i.add(e(t,r))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,n])=>{i[t]=e(n,r)});break;case"[object Map]":t.forEach((t,n)=>{i.set(n,e(t,r))})}return i}(e,[])}},899165:(e,t,n)=>{n.d(t,{Z:()=>i});function i({isHiddenPin:e,isUnsafePin:t}){return!e&&!t}},743079:(e,t,n)=>{n.d(t,{DW:()=>l,I:()=>a,oo:()=>i,zI:()=>r});let i=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,l=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,r=e=>{let t=e.replace("#",""),n=parseInt(t.substr(0,2),16);return(299*n+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155}},13930:(e,t,n)=>{n.d(t,{Z:()=>U});var i=n(667294),a=n(702664),l=n(473727),r=n(240684),s=n(883119),o=n(161881),d=n(439917),c=n(258656),u=n(255580),p=n(351702),m=n(903591),g=n(53264),_=n(189242),h=n(961907),y=n(214877),f=n(454514),b=n(757017),S=n(140017),x=n(339001),v=n(96452),P=n(340523),k=n(5859),w=n(227258),T=n(608516),I=n(13848),E=n(149722),A=n(785059),C=n(199677),R=n(415199),j=n(413110),L=n(189),F=n(541891),D=n(930822),O=n(386129),N=n(785893);let M=(0,i.lazy)(()=>n.e(93247).then(n.bind(n,193247))),Z=(0,r.ZP)({resolved:{},chunkName:()=>"app-packages-comment-CommentOverflowPopover",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(24850).then(n.bind(n,693034)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>693034}),B=(0,i.lazy)(()=>n.e(42103).then(n.bind(n,742103)));function U(e){let t;let{aggregatedPinDataId:n,closeupAttributionId:r,closeupAttributionUsername:U,comment:K,featuredCommentId:z,isDesktop:H,isReadOnly:V,isVideo:G,openOverflowMenu:$,toggleReplyComposer:W,parentId:q,parentType:Y=j.o.pin,pinId:X,storyPinDataId:J,replyingToCommentId:Q,showReactionListForComment:ee,toggleHelpful:et,toggleLike:en,userAvatarSize:ei,isORBACProfileManager:ea,pinnerId:el,reactionListCommentId:er,viewParameter:es}=e,{user:{id:eo,first_name:ed,id:ec,image_medium_url:eu,username:ep},id:em,image_signatures:eg,is_translatable:e_,comment_count:eh,helpful_count:ey,tags:ef=[]}=K,[eb,eS]=(0,i.useState)(!1),ex=eb&&K.translatedText||K.text,ev=!e_||""===K.translatedText,eP=!1,ek=0,ew=!1,eT=!!K.marked_helpful_by_me,eI=[K.user],eE="",eA=new Date;"aggregatedcomment"===K.type?(eP=K.highlighted_by_pin_owner,ek=K.reaction_counts[1],ew=K.reaction_by_me>0,eI.push(...K.tagged_users),eE=`${ep} ${ex??""}`,eA=new Date(K.created_at)):(ek=K.like_count,ew=K.liked_by_me,t=(K.images[0]||{})["150x150"],eE=`${ep} ${K.details}`,eA=new Date(K.done_at));let eC=(0,S.ZP)(),eR=(0,E.Z)(),{logContextEvent:ej}=(0,y.v)(),{country:eL,countryFromIp:eF,isBot:eD}=(0,k.B)(),{checkExperiment:eO}=(0,P.F)(),{showToast:eN}=(0,I.F9)(),eM=(0,a.useDispatch)(),eZ=(0,i.useRef)(),{anyEnabled:eB}=eO("web_m10n_business_access_orbac_ga"),eU=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"].includes(eL),{COUNTRY_CODES:eK}=F.LAW_CONFIGURATION.india||{},ez=eF&&eK&&eK.includes(eF)&&eO(H?"ce_dweb_india_law_unauth_report":"ce_mweb_india_law_unauth_report").anyEnabled,eH=!V||ez||eU,eV=1===K.comment_tag,eG=(0,A.Z)(),e$=eB?(0,C.lJ)(eR,eG):"",{nativeEngagementsHiddenForUser:eW}=(0,L.G)(),{aggregatedCommentsHiddenForUser:eq,translateAggregatedComment:eY,updateAggregatedComment:eX}=(0,R.nf)(),eJ=(0,o.Z)(),eQ="userdiditdata"===K.type,e0=(0,b.Z)(),e1=e_&&eO("dweb_comment_translations").anyEnabled,e3=eQ&&eO("dweb_photo_commenting").anyEnabled,e2=!V&&!ea&&eQ,e6=e2&&H,e4=e2&&!H&&eO("mweb_photo_comment_reactions").anyEnabled,e5=[{offset:0,length:ep.length,color:"darkGray"},...ef.map(e=>({...e,offset:(e.offset||0)+ep.length+1,color:"shopping"}))],e8={SHOW_TRANSLATION:eC._('Show translation', 'comment.translateButton.showTranslation', 'text for translation button when translation is available'),TRANSLATING:eC._('Translating...', 'comment.translateButton.translating', 'text for translation button while translating'),SHOW_ORIGINAL:eC._('Show original', 'comment.translateButton.showOriginal', 'text for translation button after translating')},e7=(0,i.useRef)(e8.SHOW_TRANSLATION),[e9,te]=(0,i.useState)(!1),[tt,tn]=(0,i.useState)(!1),[ti,ta]=(0,i.useState)(!1),[tl,tr]=(0,i.useState)(!1),[ts,to]=(0,i.useState)(!1),[td,tc]=(0,i.useState)(!1),[tu,tp]=(0,i.useState)(m.A9.NONE),tm=e=>()=>{tn(e)};(0,i.useEffect)(()=>{e1&&ej({event_type:10416,view_type:3,view_parameter:es,component:"pin"===Y?13696:13697})},[ej,Y,e1,es]),(0,i.useEffect)(()=>{eh>0&&!eD&&eM((0,w.U)("aggregatedcomment"===K.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:em,redux_normalize_feed:!0}}))},[K.type,em]);let tg=Y.toLowerCase()===j.o.aggregatedComment.toLowerCase()||Y.toLowerCase()===j.n.didIt.toLowerCase(),t_=K.user.first_name||"",th=async({contentMarkdown:e,force:t,tags:n})=>{let i,a;tr(!0);let l=K.id;if(tg&&(i=Y.toLowerCase()===j.n.didIt,l=q,a=K.id),l)try{await eJ({force:t,fromUnifiedComment:!0,objectType:eQ||i?j.o.didIt:j.o.aggregatedComment,objectId:l,orbacSubjectId:e$,tags:n,text:e,replyToCommentId:a})}catch(e){if([v.ky,v.LJ].includes(e.code)&&H)return tp(e.code===v.ky?m.A9.WARNING:m.A9.BLOCK),tr(!1),!1}return W&&W(void 0),tr(!1),!0},ty=async({contentMarkdown:e,force:t,tags:n})=>{ta(!0);try{e3?await eM((0,D.IU)({id:K.id,details:e,pinId:X??"",image_signatures:eg??[]})):await eX({commentId:K.id,force:t,orbacSubjectId:e$,tags:n,text:e})}catch(e){if([v.ky,v.LJ].includes(e.code)&&H)return tp(e.code===v.ky?m.A9.WARNING:m.A9.BLOCK),ta(!1),!1}return tn(!1),ta(!1),!0},tf=e=>()=>{te(e),tc(e),e||ej({component:14349,event_type:9408})},tb=()=>{tp(m.A9.NONE)},tS=()=>{eb||K.translatedText||eY(K.id),eb||e7.current!==e8.SHOW_TRANSLATION?eb&&e7.current===e8.SHOW_ORIGINAL&&ej({event_type:10418,view_type:3,view_parameter:es,component:"pin"===Y?13696:13697}):ej({event_type:10417,view_type:3,view_parameter:es,component:"pin"===Y?13696:13697}),eS(!eb)};(0,i.useEffect)(()=>{eb&&ev&&(eS(!eb),eN(({hideToast:e})=>(0,N.jsx)(f.ZP,{onHide:e,text:eC._('Error - couldn\'t translate', 'comment.couldNotTranslate.toast', 'error toast that shows after unsuccessful translation'),type:"error"})))},[eb,ev]),eb?e7.current=K.translatedText?e8.SHOW_ORIGINAL:e8.TRANSLATING:e7.current=e8.SHOW_TRANSLATION;let tx=t&&(0,N.jsx)(s.xu,{marginBottom:H?4:2,marginTop:1,children:(0,N.jsx)(s.zd,{height:150,rounding:2,wash:!0,width:150,children:(0,N.jsx)(s.Ee,{alt:t.url??"",color:"#efefef",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url??""},t.url)})}),tv=H?128:110,tP=K.media?.sticker?.image_url&&eO(H?"ce_dweb_comment_sticker_in_feed":"ce_mweb_comment_sticker_in_feed").anyEnabled&&(0,N.jsx)(s.xu,{height:tv,marginBottom:H?1:0,marginTop:1,width:tv,children:(0,N.jsx)(s.Ee,{alt:K.media?.sticker?.display_name??"",fit:"contain",naturalHeight:0,naturalWidth:0,src:K.media?.sticker?.image_url??""})});return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(s.$j,{accessibilityLabel:"Loading comment",show:ti}),!tt&&!ti&&(0,N.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,N.jsx)(s.xu,{marginEnd:2,children:(0,N.jsx)(l.rU,{to:`/${ep}/`,children:(0,N.jsx)(c.Z,{isQuestion:eV,name:ed||ep||"",size:ei,src:eu??""})})}),(0,N.jsxs)(s.kC,{direction:"column",flex:"grow",justifyContent:"start",children:[(0,N.jsxs)(s.kC,{justifyContent:"between",children:[(0,N.jsx)(s.kC.Item,{minWidth:0,children:(0,N.jsxs)(s.kC,{dataTestId:"author-and-comment-container",direction:"column",children:[!H&&tx,(0,N.jsx)(h.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:eI,tags:e5,text:eE}),H&&tx,tP,e1&&(0,N.jsx)(s.xu,{marginBottom:2,marginTop:2,children:(0,N.jsx)(s.iP,{onTap:()=>tS(),children:(0,N.jsx)(s.xv,{color:"subtle",size:"300",weight:"bold",children:e7.current})})})]})}),z===em&&(0,N.jsx)(s.xu,{alignSelf:"center",color:"primary",height:8,minWidth:8,rounding:"pill"})]}),eP&&(0,N.jsx)(s.xu,{marginBottom:3,marginTop:4,children:(0,N.jsx)(s.xv,{size:"100",children:(0,x.nk)(eC._('Highlighted by @{{ closeupAttributionUsername }}', 'comment.highlighted.label', 'label on comment that has been highlighted by the Pin creator'),{closeupAttributionUsername:U})})}),eH&&(0,N.jsxs)(s.xu,{alignItems:"center",display:"flex",height:H?25:"100%",justifyContent:"between",position:"relative",children:[(0,N.jsxs)(s.kC,{alignItems:"center",gap:{row:5,column:0},children:[!V&&(0,N.jsx)(s.xu,{"data-test-id":"comments-time-passed",children:(0,N.jsx)(s.xv,{color:"subtle",size:"200",children:e0(eA,!0)})}),!V&&(!ea||eB)&&(0,N.jsx)(s.xu,{"data-test-id":"comment-reply-button-container",children:(0,N.jsx)(s.iP,{onTap:()=>{W&&W(K,q,Y)},children:(0,N.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:eC._('Reply', 'comment.button.reply', 'entry point to reply to comment')})})}),!V&&!ea&&(!eQ||e6||e4)&&(H?(0,N.jsx)(p.ZP,{commentId:em,dismissReactionList:()=>{ee(void 0)},helpfulCount:ey,isLovedByMe:ew,isMarkedHelpfulByMe:eT,isReactionListOpen:er===em,isTry:eQ,lovedCount:ek,onReactionCountHover:()=>{ee(em),ej({event_type:9906,component:"pin"===Y?13696:13697,view_type:3,view_parameter:es})},onToggleHelpful:e=>()=>{eT!==e&&et(em,!e,eQ)()},onToggleLove:e=>()=>{ew!==e&&en(em,!e,eQ)()}}):(0,N.jsxs)(s.xu,{alignItems:"center","data-test-id":"reactions-likeWithCountButton",display:"flex",children:[(0,N.jsx)(s.hU,{accessibilityLabel:eC._('Like', 'comment.button.like', 'like or unlike comment'),icon:"heart",iconColor:ew?"red":"gray",onClick:en(em,ew,eQ),size:"xs"}),ek>0&&(0,N.jsx)(s.xu,{"data-test-id":"love-count-container",children:(0,N.jsx)(s.xv,{color:"subtle",size:"100",weight:"bold",children:ek})})]})),!(eR.id===ec&&eV)&&(!ea||eB)&&(0,N.jsx)(s.xu,{ref:eZ,"data-test-id":"comment-more-options",children:(0,N.jsx)(s.hU,{accessibilityLabel:eC._('More', 'comment.button.more', 'see more options for comment'),icon:"ellipsis",iconColor:"gray",onClick:()=>{H?te(!e9):$&&$(K,{showIndiaLawReporting:!!ez,showNetzDGReporting:!!eU})},size:"xs"})})]}),!V&&!ea&&!H&&(!eQ||e4)&&(0,N.jsx)(s.xu,{marginStart:6,children:(0,N.jsx)(s.iP,{fullWidth:!1,onTap:et(em,eT,eQ),children:(0,N.jsxs)(s.kC,{alignItems:"center",dataTestId:"helpful-reaction",gap:{row:1,column:0},height:"100%",children:[(0,N.jsx)(u.Z,{color:"subtle",isMarkedHelpful:eT}),(0,N.jsx)(s.xv,{color:"subtle",size:"200",weight:"bold",children:eC._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful')}),ey>0&&(0,N.jsx)(s.xu,{"data-test-id":"helpful-count-container",children:(0,N.jsx)(s.xv,{color:"subtle",size:"100",weight:"bold",children:ey})})]})})})]})]})]}),H&&(0,N.jsxs)(i.Fragment,{children:[tt&&(0,N.jsx)(s.xu,{marginTop:3,children:(0,N.jsx)(g.Z,{commentWarningModalState:tu,dismissCommentWarningModal:tb,initialTags:K.tags,initialText:"aggregatedcomment"===K.type?K.text:K.details,isEditing:!0,objectType:j.o.aggregatedComment,onAddItem:ty,onCancelItem:tm(!1),postedPhoto:t,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:es})}),Q===em&&(0,N.jsx)(s.xu,{marginStart:tg?0:12,marginTop:3,children:(0,N.jsx)(g.Z,{commentWarningModalState:tu,dismissCommentWarningModal:tb,initialTags:tg?[{offset:0,object_id:eo,length:t_.length,tag_type:1}]:[],initialText:tg?`${t_} `:"",isReplying:!0,objectType:j.o.aggregatedComment,onAddItem:th,onCancelItem:()=>{W&&W()},showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:es})})]}),(eh>0||tl)&&(0,N.jsx)(s.xu,{marginStart:12,marginTop:4,children:(0,N.jsx)(_.Z,{aggregatedPinDataId:n,closeupAttributionId:r,closeupAttributionUsername:U,featuredCommentId:z,isDesktop:H,isLoading:tl,isORBACProfileManager:ea,isReadOnly:V,isVideo:G,openOverflowMenu:$,parentId:em,parentType:K.type,pinId:X,pinnerId:el,reactionListCommentId:er,replyingToCommentId:Q,showReactionListForComment:ee,storyPinDataId:J,toggleHelpful:et,toggleLike:en,toggleReplyComposer:W,viewParameter:es})}),H&&eH&&(0,N.jsx)(Z,{aggregatedPinDataId:n,anchor:eZ.current,closeupAttributionId:r,comment:K,dismiss:e=>{te(!1),e||ej({component:14349,event_type:10128})},isOpen:e9,isReply:tg,onEdit:tm(!0),onShowBlockUserModal:tf(!0),parentId:q,pinId:X,pinnerId:el,showIndiaLawReporting:!!ez,showNetzDGReporting:eU}),ts&&(0,N.jsx)(T.Z,{children:(0,N.jsx)(d.N,{children:(0,N.jsx)(B,{aggregatedPinDataId:n,didItDataId:em,onClose:e=>()=>{to(!e)},pinId:X??"",username:ep,users:[K.user]})})}),td&&(0,N.jsx)(T.Z,{children:(0,N.jsx)(M,{firstName:ed??"",onBlockUser:()=>{eM((0,O.Ge)({id:eo,orbacSubjectId:e$,blockSource:"comment",blockContext:em,logContextEvent:ej})),eq(eo),eW(eo),ej({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:eR.isAuth?eR.id:null}}),ej({component:14349,event_type:9407}),tc(!1),eN(({hideToast:e})=>(0,N.jsx)(f.ZP,{onHide:e,text:(0,x.nk)(eC._('You\'ve blocked {{ username }}', 'comment.blockAuthor.toast', 'confirmation toast that shows after user blocks comment author'),{username:ep}).join("")}))},onClearModal:tf(!1)})})]})}},258656:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(205841),l=n(140017),r=n(785893);let s=({isQuestion:e,name:t,size:n,src:s})=>{let o=(0,l.ZP)();return(0,r.jsxs)(i.xu,{"data-test-id":"comment-avatar-container",position:"relative",children:[(0,r.jsx)(a.qE,{name:t,size:n,src:s}),e&&(0,r.jsxs)(i.xu,{alignItems:"center",bottom:!0,display:"flex",height:16,justifyContent:"center",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,width:16,children:[(0,r.jsx)(i.xu,{position:"absolute",children:(0,r.jsx)(i.JO,{accessibilityLabel:o._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"dark",icon:"speech"})}),(0,r.jsx)(i.xu,{position:"absolute",children:(0,r.jsx)(i.JO,{accessibilityLabel:o._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"light",icon:"question-mark",size:8})})]})]})}},255580:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(140017),l=n(785893);let r=({color:e,isMarkedHelpful:t})=>{let n=(0,a.ZP)();return(0,l.jsx)(i.JO,{accessibilityLabel:n._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful'),color:t?"brandPrimary":e,icon:"thumbs-up",inline:!0,size:12})}},351702:(e,t,n)=>{n.d(t,{ZP:()=>b});var i=n(667294),a=n(883119),l=n(311716),r=n(559113),s=n(205841),o=n(785893);let d={helpfulStyle:{backgroundImage:`url(${l})`},lovedStyle:{backgroundImage:`url(${r})`}},c=({response:e})=>{let t=14===e.reaction_type,n=1===e.reaction_type,i=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,o.jsxs)(a.kC,{alignItems:"center",children:[(0,o.jsx)(a.Tg,{href:`/${e.user.username}/`,children:(0,o.jsxs)(a.kC,{alignItems:"center",children:[(0,o.jsx)(a.xu,{maxWidth:40,children:(0,o.jsx)(s.qE,{accessibilityLabel:"",name:i,outline:!0,size:"sm",src:e.user.image_medium_url})}),(0,o.jsx)(a.xu,{marginStart:2,maxWidth:80,children:(0,o.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:i})})]})}),(0,o.jsxs)(a.xu,{alignContent:"end",display:"flex",padding:2,children:[n&&(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:d.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),t&&(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:d.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var u=n(757640),p=n(149722);let m=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],g=({commentId:e,isMarkedHelpfulByMe:t,isLovedByMe:n,isTry:l})=>{let r=(0,p.Z)(),s=(0,u.Z)({name:"ApiResource",options:{url:l?`/v3/did_it/${e}/reacted_by/`:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:m}}),d=s.data?.filter(e=>e.user.id!==r.id);(n||t)&&d&&(d=[{id:e,reaction_type:n?1:14,user:{first_name:r.isAuth?r.firstName:"",full_name:r.isAuth?r.fullName:"",id:r.isAuth?r.id:"",image_medium_url:r.isAuth?r.imageMediumUrl:"",is_private_profile:!!r.isAuth&&!!r.isPrivateProfile,username:r.isAuth?r.username:""}},...d]);let g=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let{current:e}=g,t=()=>{s.isFetching||(s.isAtEnd?e?.removeEventListener("scroll",t):s.fetchMore())};return e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[s]),(0,o.jsx)(a.xu,{ref:g,color:"selected",maxHeight:140,overflow:"scroll",rounding:2,width:180,children:d?.map(e=>o.jsx(a.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:o.jsx(c,{response:e})},e.id))})};var _=n(140017),h=n(608516),y=n(604625);let f=(0,i.lazy)(()=>n.e(77048).then(n.bind(n,177048))),b=({commentId:e,dismissReactionList:t,helpfulCount:n,isMarkedHelpfulByMe:s,isLovedByMe:d,isReactionListOpen:c,isTry:u,lovedCount:p,onReactionCountHover:m,onToggleHelpful:b,onToggleLove:S})=>{let x=(0,_.ZP)(),v=(0,i.useRef)(),[P,k]=(0,i.useState)(!1),w=!1,T=(p||0)+(n||0);s&&d&&(T-=1);let I=e=>()=>{k(e)},E=()=>{w=!0,m()},A=()=>{w=!1,setTimeout(()=>{w||t()},1e3)},C=(0,o.jsx)(a.xu,{"data-test-id":"comment-reaction-container-entry-point",children:P?(0,o.jsx)(a.iP,{onMouseDown:I(!1),onMouseLeave:I(!1),children:(0,o.jsx)(h.Z,{children:(0,o.jsx)(f,{setHelpful:b(!0),setLoved:S(!0)})})}):(0,o.jsx)(a.iP,{onMouseEnter:I(!0),children:(0,o.jsx)(a.JO,{accessibilityLabel:x._('React', 'comment.actionbar.react', 'accessibility label entry point to react to a comment'),color:"subtle",icon:"heart-outline",size:16})})});return(0,o.jsxs)(a.kC,{alignItems:"center",gap:{row:1,column:0},children:[s||d?(0,o.jsx)(a.iP,{onMouseDown:()=>{b(!1)(),S(!1)()},children:(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${d?r:l})`}},"data-test-id":d?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):C,T>0&&(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(a.iP,{onMouseEnter:E,onMouseLeave:A,children:(0,o.jsx)(a.xu,{ref:v,"data-test-id":"comment-reaction-container-reaction-count",children:(0,o.jsx)(a.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:T})})}),c&&(0,o.jsx)(a.mh,{zIndex:y.lI,children:(0,o.jsx)(a.J2,{anchor:v.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,children:(0,o.jsx)(a.iP,{onMouseEnter:E,onMouseLeave:A,children:(0,o.jsx)(g,{commentId:e,isLovedByMe:d,isMarkedHelpfulByMe:s,isTry:u})})})})]})]})}},478261:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(13930),l=n(903591),r=n(140017),s=n(666472),o=n(923368),d=n(785893);function c(e){let t;let{aggregatedPinDataId:n,comments:c,commentsDisabled:u,featuredCommentId:p,gapSize:m=6,inCommentFeedRedesignExp:g,isDesktop:_,isLoaded:h=!1,isLoading:y=!1,isReadOnly:f,openOverflowMenu:b,toggleReplyComposer:S,parentId:x,parentType:v,replyingToCommentId:P,toggleHelpful:k,toggleLike:w,userAvatarSize:T,isORBACProfileManager:I,isVideo:E,storyPinDataId:A,pinId:C,closeupAttributionId:R,closeupAttributionUsername:j,pinnerId:L,showReactionListForComment:F,reactionListCommentId:D,viewParameter:O}=e,N=(0,r.ZP)(),{stackedCloseupEnabled:M}=(0,o.x4)(),Z=_&&g?(0,l.mz)(N):N._('No comments yet! Add one to start the conversation.', 'commentThread.emptyState.message', 'comment thread empty state message');return(t=A?"story":E?"video":"pin",u)?(0,d.jsx)(i.xu,{alignSelf:"center","data-test-id":"comments-disabled-label",width:"100%",children:(0,d.jsx)(i.xv,{align:_?"start":"center",color:"subtle",children:N._('Comments are turned off for this Pin', 'commentThread.disabledState.message', 'Comments are turned off or disabled for this pin')})}):c.length>0?(0,d.jsxs)(i.kC,{dataTestId:"aggregated-comment-list",direction:"column",gap:{row:0,column:m},maxHeight:"100%",width:"100%",children:[c.map((e,l)=>(0,d.jsx)(s.F,{componentType:"pin"===v?13696:13697,impressionAuxFields:{commentId:e.id,pinId:C,pinOwnerUserId:R,pinType:t,parentId:x,parentType:v,commentType:"aggregatedComment"},impressionType:"Comment",loggingId:e.id,slotIndex:l,viewType:_?3:98,children:({impressionTrackerRef:t})=>(0,d.jsx)(i.xu,{ref:t,"data-test-id":"commentThread-comment",children:(0,d.jsx)(a.Z,{aggregatedPinDataId:n,closeupAttributionId:R,closeupAttributionUsername:j,comment:e,featuredCommentId:p,isDesktop:_,isORBACProfileManager:I,isReadOnly:f,isVideo:E,openOverflowMenu:b,parentId:x,parentType:v,pinId:C,pinnerId:L,reactionListCommentId:D,replyingToCommentId:P,showReactionListForComment:F,storyPinDataId:A,toggleHelpful:k,toggleLike:w,toggleReplyComposer:S,userAvatarSize:T,viewParameter:O})})},e.id)),!M&&y&&(0,d.jsx)(i.$j,{accessibilityLabel:N._('Comments loading', ' - ', ' -- '),show:y})]}):(0,d.jsxs)(i.xu,{alignSelf:"center",width:"100%",children:[(0,d.jsx)(i.$j,{accessibilityLabel:N._('Comments loading', ' - ', ' -- '),show:y}),h&&(0,d.jsx)(i.xv,{align:_?"start":"center",color:"subtle",children:Z})]})}},53264:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(14583),l=n(785893);let r=(0,i.lazy)(()=>n.e(81694).then(n.bind(n,589773)));function s(e){return(0,l.jsx)(a.Z,{fallback:null,children:(0,l.jsx)(r,{...e})})}},189242:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),l=n(883119),r=n(478261),s=n(140017),o=n(339001),d=n(415199),c=n(937310),u=n(785893);function p(e){let{featuredCommentId:t,parentId:n,parentType:p,isDesktop:m,isLoading:g,isReadOnly:_,openOverflowMenu:h,replyingToCommentId:y,toggleHelpful:f,toggleLike:b,toggleReplyComposer:S,isORBACProfileManager:x,isVideo:v,storyPinDataId:P,pinId:k,closeupAttributionId:w,aggregatedPinDataId:T,closeupAttributionUsername:I,pinnerId:E,reactionListCommentId:A,showReactionListForComment:C,viewParameter:R}=e,j=(0,s.ZP)(),L=(0,d.lV)(),F=(0,a.useSelector)(({feeds:e})=>{let t=e[`${c.Z.AGGREGATED_COMMENT_REPLIES}:${n}`]||[],i=e[`${c.Z.AGGREGATED_COMMENTS}:${n}`]||[];return t.concat(i).reduceRight((e,{id:t})=>{let n=L[t];return n?[...e,n]:e},[])}),[D,O]=(0,i.useState)(1),N=D===F.length;return(0,u.jsxs)(i.Fragment,{children:[F.length>1&&(0,u.jsx)(l.iP,{onTap:()=>{O(N?0:F.length)},children:(0,u.jsxs)(l.xu,{marginBottom:4,children:[(0,u.jsx)(l.xu,{display:"inlineBlock",marginEnd:2,children:(0,u.jsx)(l.xv,{color:"subtle",size:"200",weight:"bold",children:""})}),(0,u.jsx)(l.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:N?j._('Hide replies', 'comment.button.hideReplies', 'hide comment replies'):(0,o.nk)(j.ngettext('View {{ commentCount }} reply', 'View {{ commentCount }} replies', F.length, 'comment.button.showReplies', 'show comment replies'),{commentCount:F.length})})]})}),(0,u.jsx)(r.Z,{aggregatedPinDataId:T,closeupAttributionId:w,closeupAttributionUsername:I,comments:F.slice(0,D),commentsDisabled:!1,featuredCommentId:t,gapSize:2,isDesktop:m,isLoading:g,isORBACProfileManager:x,isReadOnly:_,isVideo:v,openOverflowMenu:h,parentId:n,parentType:p,pinId:k,pinnerId:E,reactionListCommentId:A,replyingToCommentId:y,showReactionListForComment:C,storyPinDataId:P,toggleHelpful:f,toggleLike:b,toggleReplyComposer:S,userAvatarSize:"sm",viewParameter:R})]})}},961907:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),l=n(696534),r=n(140017),s=n(785893);let o=({hasManyComments:e,inCommentFeedPreview:t,isFirstTaggedUserAuthor:n,isInCommentModule:o,shouldShowFirstNameOnly:d,tags:c,taggedUsers:u,text:p})=>{let m=(0,r.ZP)(),g=(0,i.useRef)(null),_=(0,l.Yc)()?"#111111":"#FFFFFF",[h,y]=(0,i.useState)(!1),f=m._('...view', 'comment.module.toggle.view', 'label on comment module to open coment thread'),b=m._('...view all', 'comment.module.toggle.viewAll', 'label on comment module to open coment thread'),S=e?b:f,x=t||o;(0,i.useEffect)(()=>{g.current&&y(g.current.scrollHeight>g.current.offsetHeight)},[g,y,p]);let v=(e,t)=>(0,s.jsx)(a.xv,{inline:!0,overflow:"normal",children:(0,s.jsx)("span",{className:"text-container",children:e})},t),P=(e,t,i,l)=>{let r=d||0===i&&n?u[i].first_name||u[i].username[0]:t;return(0,s.jsx)(a.xv,{color:e,inline:!0,overflow:"normal",weight:"bold",children:x?r:(0,s.jsx)(a.rU,{display:"inlineBlock",href:`/${u[i].username}`,underline:"hover",children:r})},l)};return(0,s.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!c.length||!u||c.length!==u.length)return v(p,"1");let e=0,n=[];return c.forEach((t,i)=>{let a=p.substring(e,t.offset);e=t.offset+t.length;let l=p.substring(t.offset,e);n=n.concat(v(a,`${i}a`)).concat(P(t.color,l,i,`${i}b`))}),n=n.concat(v(p.substring(e),"2")),(0,s.jsx)(a.xu,{marginEnd:3,position:"relative",children:(0,s.jsxs)(a.xv,{ref:g,inline:!0,lineClamp:o?2:t?1:void 0,children:[n,o&&!h&&(0,s.jsxs)(a.xv,{inline:!0,weight:"bold",children:["",S]}),o&&h&&(0,s.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${_} 50%, ${_}00 100%)`}},display:"inlineBlock",position:"absolute",right:!0,width:140,children:(0,s.jsxs)(a.xv,{align:"end",weight:"bold",children:["",S]})})]})})})()})}},903591:(e,t,n)=>{n.d(t,{A9:()=>d,F1:()=>_,Ff:()=>g,G_:()=>m,LH:()=>l,Rv:()=>r,TJ:()=>s,i$:()=>c,iB:()=>a,mz:()=>p,pW:()=>o,zs:()=>u});var i=n(427514);let a=48,l=56,r=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),s="comment_featured_ids",o="did_it_featured_ids",d={NONE:"none",WARNING:"warning",BLOCK:"block"},c=(e,t)=>e?(0,i.Z)(t.ngettext('{{ count }} Comment', '{{ count }} Comments', e, 'closeup.commentThread.heading.commentCount', 'Comment count on a Pin. count: number of comments'),{count:e.toString()}):t._('No comments yet', 'closeup.commentThread.heading.noComments', 'Prompt for user to comment on Pin'),u=(e,t)=>[{offset:0,length:e.length,color:"darkGray"},...t.map(t=>({...t,offset:(t.offset||0)+e.length+1,color:"shopping"}))],p=e=>e._('Add one to start the conversation', 'closeup.commentThread.emptyState.message', 'Comment thread empty state message'),m=e=>e._('Post', 'commentComposer.button.post', 'Post new comment'),g=e=>e._('posted a photo', 'comment.preview.text.photo', 'Comment preview text for an image that a user posted'),_=e=>e._('posted a sticker', 'comment.preview.text.sticker', 'Comment preview text for a sticker that a user posted')},214877:(e,t,n)=>{n.d(t,{B:()=>o,v:()=>s});var i=n(525364),a=n(342513),l=n(785893);let{Provider:r,useHook:s}=(0,a.Z)("ContextLogger");function o({children:e,value:t}){let{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,l.jsx)(r,{value:t,children:e})}},587703:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(214877);let a=()=>(0,i.v)().logContextEvent},287434:(e,t,n)=>{n.d(t,{Z:()=>i});let i=()=>1e6*Date.now()},696534:(e,t,n)=>{n.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>o,vs:()=>d});var i=n(667294),a=n(191313),l=n(217058);let r="theme",s="dark"===(0,a.qn)(r),o=()=>s;function d(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(o())},[t]),e}let c=()=>{(0,a.Nh)(r,"dark"),(0,l.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,a.L_)(r),(0,l.My)("mweb.dark_mode.disable"),window.location.reload()}},11109:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>Math.floor(new Date(e).getTime()/1e3)},105737:(e,t,n)=>{function i(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(!l(e[i],t[i],n+1))return!1;return!0}function a(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!(i in t)||!l(e[i],t[i],n+1))return!1;return!0}function l(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let l=Object.prototype.toString.call(e);if(l!==Object.prototype.toString.call(t))return!1;switch(l){case"[object Array]":return i(e,t,n);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return a(e,t,n);case"[object Map]":return a(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function r(e,t){return l(e,t,0)}n.d(t,{ZP:()=>r,qP:()=>i})},541841:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(973935);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends i.Component{constructor(...e){super(...e),l(this,"observer",null),l(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}let s=r},877457:(e,t,n)=>{n.d(t,{g:()=>r,t:()=>l});var i=n(667294);let a=(0,i.createContext)(null),l=a.Provider,r=()=>(0,i.useContext)(a)},103322:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(701785),l=n(953565);function r(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,n=this.props.type||"secondary";(0,a.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),(0,l.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,l.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},510989:(e,t,n)=>{n.d(t,{Z:()=>i});let i=n(103322).Z},401429:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(702664),l=n(587703),r=n(25919),s=n(216167);let o=(e,t,n,i)=>(a,l)=>o=>{if(a&&a.id){let d=s.Z.create(e,{placed_experience_id:a.id,extra_context:{}});switch(t){case"dismissed":d.callDelete().then(()=>{o((0,r.fO)()),n&&i&&n({event_type:i,object_id_str:a.id.toString()})});break;case"completed":d.callUpdate().then(()=>{l||o((0,r.fO)()),n&&i&&n({event_type:i,object_id_str:a.id.toString()})});break;case"viewed":d.callUpdate().then(()=>{n&&i&&n({event_type:i,object_id_str:a.id.toString()})})}}},d=e=>o("UserExperienceCompletedResource","completed",e,6567),c=o("UserExperienceResource","dismissed"),u=e=>o("UserExperienceViewedResource","viewed",e,4503);var p=n(785893);function m(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(...e){super(...e),m(this,"state",{hasCompleted:[],hasDismissed:[]}),m(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))}),m(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:a,preventRemoval:l,targeting:r}=this.props,s=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){let{placement_id:e,experience_id:o}=i||{},d=l||2===s;(1===s||d)&&e&&o&&(a?n(i,d):r?t(e,o,d,r):t(e,o,d),this.setState(e=>({hasCompleted:[...e.hasCompleted,o]})))}}),m(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:a,targeting:l}=this.props,{placement_id:r,experience_id:s}=n||{};n&&!this.state.hasDismissed.includes(s)&&(i?t(n):l?e(r,s,!!a,l):e(r,s,!!a),this.setState(e=>({hasDismissed:[...e.hasDismissed,s]})))}),m(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:a}=this.props,{experience_id:l,type:r}=e;return t&&t.length?t.includes(l):n&&n.length?n.includes(r):i?i(e):!a||a===r})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,n=this.props.experience;n&&this.isEligibleExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function _(e){let t=(0,a.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),n=(0,a.useDispatch)(),i=(0,r.be)(),s=(0,r.Am)(),o=(0,r.Ig)(),m=(0,l.Z)();return(0,p.jsx)(g,{...e,completeExperience:(e,t,a,l)=>n(i(e,t,a,!1,{},l)),completeExperienceObject:(e,t)=>n(d(m)(e,t)),dismissExperience:(e,t,i,a)=>n(s(e,t,i,void 0,a)),dismissExperienceObject:e=>n(c(e)),experience:t,viewExperience:(e,t,i)=>n(o(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n(u(m)(e))})}m(g,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},73006:(e,t,n)=>{n.d(t,{Z:()=>E});var i=n(667294),a=n(883119),l=n(401429),r=n(554786),s=n(785893);let o=({data:e,buttonType:t,calloutType:n})=>{let{accessibilityLabel:i,disabled:l,label:o}=e,d=(0,r.HG)(),c="transparent";"primary"===t&&(c="upsell"===n?"red":"gray");let u="md";switch(n){case"neutral":u=d?"sm":"md";break;case"upsell":u=d?"md":"sm";break;default:u="md"}return(0,s.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:1,children:"link"===e.role?(0,s.jsx)(a.ZP,{accessibilityLabel:i,color:c,disabled:l,fullWidth:!0,href:e.href,onClick:e.onClick,rel:e.rel,size:u,target:e.target,text:o}):(0,s.jsx)(a.zx,{accessibilityLabel:i,color:c,disabled:l,fullWidth:!0,onClick:e.onClick,size:u,text:o})})};var d=n(140017);function c({dismissButton:e,message:t,primaryAction:n,secondaryAction:i,title:l}){let c=(0,r.HG)(),u=n||i,p=(0,d.ZP)(),m=e&&(0,s.jsx)(a.xu,{alignSelf:"baseline",children:(0,s.jsx)(a.hU,{accessibilityLabel:e.accessibilityLabel||p._('Dismiss callout', 'experiences.ExperienceCallout.CalloutNeutral.dismissLabel', 'Accessibility label for the X button to dismiss a callout'),icon:"cancel",iconColor:"darkGray",onClick:e.onDismiss,size:"xs"})});return(0,s.jsxs)(a.xu,{borderStyle:"sm",color:"transparent",direction:"row",display:"flex",marginBottom:4,padding:4,rounding:4,children:[(0,s.jsxs)(a.kC,{direction:c?"row":"column",width:"100%",wrap:!c,children:[(0,s.jsxs)(a.kC,{flex:"grow",justifyContent:"between",minWidth:0,children:[(0,s.jsxs)(a.kC,{direction:"column",flex:"shrink",children:[l&&(0,s.jsx)(a.xu,{marginBottom:2,children:(0,s.jsx)(a.xv,{size:"400",weight:"bold",children:l})}),(0,s.jsx)(a.xv,{children:t})]}),!c&&m]}),u&&(0,s.jsxs)(a.xu,{display:"flex",flex:"none",marginStart:"auto",marginTop:c?0:2,children:[i&&(0,s.jsx)(o,{buttonType:"secondary",calloutType:"neutral",data:i}),n&&(0,s.jsx)(o,{buttonType:"primary",calloutType:"neutral",data:n})]})]}),c&&m]})}var u=n(213377),p=n(406893);let m=(u.yF+u.lX)*u.yc-u.lX,g=Array.from(Array(u.g5-u.yc).keys()).reduce((e,t)=>{let n=t+u.yc,i=(u.yF+u.lX)*n-u.lX;return e+(0,u.KN)(u.yF,n,n,`.masonry-width-wrapper {
          width: ${i}px;
          min-width: ${i}px;
          margin: 0 auto;

        }`,u.lX)},`.masonry-width-wrapper {
      width: ${m}px;
      min-width: ${m}px;
      margin: 0 auto;

  }`),_=({children:e})=>{let t=(0,r.HG)();return(0,s.jsxs)(i.Fragment,{children:[t&&(0,s.jsx)(p.Z,{unsafeCSS:g})," ",(0,s.jsx)("div",{className:"masonry-width-wrapper",children:e})]})};var h=n(696534);function y({dismissButton:e,imageData:t,message:n,primaryAction:i,secondaryAction:l,title:c}){let u;let p=t?.component&&t.component.type===a.Ee,m=(0,r.HG)(),g=(0,d.ZP)(),_=!!(i||l);"string"==typeof n&&(u=(0,s.jsx)(a.xv,{children:n}));let y=g._('Dismiss callout', 'experiences.ExperienceCallout.UpsellCallout.dismissLabel', 'Accessibility label for the X button to dismiss an upsell callout'),f=e&&(0,s.jsx)(a.xu,{alignSelf:m?"center":"baseline",children:(0,s.jsx)(a.hU,{accessibilityLabel:e.accessibilityLabel||y,icon:"cancel",iconColor:"darkGray",onClick:e.onDismiss,size:"xs"})});return(0,s.jsxs)(a.xu,{borderStyle:"shadow",color:(0,h.Yc)()&&!m?"elevationFloating":"default",direction:"row",display:"flex",maxWidth:m?900:348,minWidth:m?380:348,padding:4,position:"relative",rounding:4,children:[(0,s.jsxs)(a.kC,{direction:m?"row":"column",width:"100%",wrap:!m,children:[(0,s.jsxs)(a.kC,{alignItems:m?"center":"start",flex:"grow",justifyContent:"between",minWidth:0,children:[t&&(0,s.jsx)(a.xu,{flex:"none",marginEnd:4,width:p?Math.min(t.width||128,128):void 0,children:(0,s.jsx)(a.zd,{rounding:t.mask?.rounding||0,wash:t.mask?.wash||!1,children:t.component})}),(0,s.jsx)(a.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:"auto",marginEnd:0,marginStart:0,marginTop:"auto",smDisplay:"block",smMarginEnd:6,smMarginStart:t?6:0,children:(0,s.jsxs)(a.xu,{maxWidth:648,children:[c&&(0,s.jsx)(a.xu,{marginBottom:2,children:(0,s.jsx)(a.xv,{size:"400",weight:"bold",children:c})}),u||n]})}),!m&&f]}),_&&(0,s.jsxs)(a.xu,{display:"flex",flex:"none",marginStart:"auto",marginTop:m?0:2,children:[l&&(0,s.jsx)(o,{buttonType:"secondary",calloutType:"upsell",data:l}),i&&(0,s.jsx)(o,{buttonType:"primary",calloutType:"upsell",data:i})]})]}),m&&f]})}var f=n(703404),b=n(444781),S=n(325362),x=n(862249),v=n(983983),P=n(33767);let k=new a.Ry(v.fe),w=new a.H3([k]),T=(e,t,n)=>e&&e.url?{label:e.text,accessibilityLabel:t,href:e.url,role:"link",rel:(0,x.Z)({url:e.url})?"nofollow":"none",onClick:n}:{label:e.text,accessibilityLabel:t,onClick:n},I=(e,t)=>{let n,i;switch(e){case 2:n="pinterest";break;case 1:n="sparkle";break;case 5:n="add";break;case 7:n="angled-pin";break;case 4:n="flashlight";break;case 3:n="search";break;case 6:n="speech-ellipsis";break;case 8:n="instagram";break;case 9:n="camera";break;case 10:n="camera-roll";break;case 11:n="board";break;case 12:n="layout";break;case 13:n="hand-pointing";break;case 14:n="share";break;case 15:n="download";break;case 16:n="shopping-bag";break;case 17:n="check";break;case 18:n="alert";break;case 19:n="bell";break;case 20:n="person";break;case 21:n="flag";break;case 22:n="lightbulb";break;case 23:n="home";break;case 24:n="speech-heart";break;case 25:n="speech-outline";break;case 26:n="heart-outline";break;case 27:n="smiley-outline";break;case 28:n="face-tryon";break;case 29:n="star-outline";break;case 30:n="ads-stats";break;default:n=void 0}switch(t){case 1:i="default";break;case 2:case 3:i="subtle";break;case 4:i="inverse";break;case 5:i="info";break;case 6:i="success";break;case 7:i="warning";break;case 8:i="error";break;case 9:i="recommendation";break;case 10:i="brandPrimary";break;case 11:i="light";break;case 12:i="dark";break;default:i=void 0}return n?(0,s.jsx)(a.JO,{accessibilityLabel:"",color:i,icon:n,size:32}):null},E=({experience:e,placementId:t,customFooterHeight:n})=>{let o=(0,r.HG)(),u=(0,d.ZP)(),{navFooterHeight:p}=(0,P.U)();return(0,s.jsx)(l.Z,{eligibleTypes:[27,28],experience:e,placementId:t,children:({complete:e,dismiss:t,experience:l})=>{let r=(0,b.Z)(S.Z)(l.display_data),d=u._('Dismiss callout', 'experiences.ExperienceCallout.dismissLabel', 'Accessibility label for the X button to dismiss an callout'),m=r.completeButton?T(r.completeButton,d,()=>e()):void 0,g=r.dismissButton&&!r.dismissButton.hideDismissButton?T(r.dismissButton,d,()=>t()):void 0;switch(l.type){case 27:return(0,s.jsx)(_,{children:(0,s.jsx)(c,{dismissButton:{onDismiss:()=>t(),accessibilityLabel:d},message:(0,f.fL)(r.message),primaryAction:m,secondaryAction:g,title:r.title})});case 28:let h=I(r.icon,r.iconColor);return(0,s.jsx)(a.mh,{zIndex:w,children:(0,s.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:o?24:(n??p)+8,transition:"margin-bottom 300ms ease-in-out"}},display:"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,children:(0,s.jsx)(a.xu,{children:(0,s.jsx)(y,{dismissButton:{onDismiss:()=>t(),accessibilityLabel:d},imageData:h?{component:h}:void 0,message:(0,f.fL)(r.message),primaryAction:m,secondaryAction:g,title:r.title})})})});default:return(0,s.jsx)(i.Fragment,{})}}})}},179370:(e,t,n)=>{n.d(t,{F:()=>p,M:()=>u});var i=n(667294),a=n(702664),l=n(14890),r=n(342513),s=n(25919),o=n(957753),d=n(785893);let{Provider:c,useHook:u}=(0,r.Z)("ExperienceContext");function p({children:e}){let[t,n]=(0,i.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let n={...e};return delete n.mountedPlacements[t.payload],delete n.registerdAfterActionPlacements[t.payload],n}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:r,registerdAfterActionPlacements:u}=t,p=(0,a.useDispatch)(),m=(0,a.useSelector)(e=>e.experiences),g=(0,s.be)(),_=(0,s.Am)(),h=(0,s.Ig)(),y=(0,i.useMemo)(()=>{let e=(0,l.bindActionCreators)({completeExperience:g,dismissExperience:_,fetchAllExperiences:s.fO,fetchAllExperiencesMulti:o.NW,fetchExperienceForPlacements:s.pz,mountPlacement:s.N,triggerExperimentsForPlacement:s.kd,viewExperience:h},p);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{n({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[g,_,p,n,h]),f=(0,i.useMemo)(()=>({experiences:m,mountedPlacements:r,registerdAfterActionPlacements:u,...y}),[m,r,u,y]);return(0,d.jsx)(c,{value:f,children:e})}},219651:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(702664),l=n(883119),r=n(401429),s=n(930837),o=n(444781),d=n(325362),c=n(554786),u=n(32346),p=n(844683),m=n(140017),g=n(30378),_=n(55202),h=n(239821),y=n(785893);let f=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},b=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function S({accessibilityModalLabel:e,allowScroll:t=!1,children:n,closeOnOutsideClick:a=!0,footer:r,isOpen:s,modalWidth:o,onDismiss:d,zIndex:c}){let S=(0,m.ZP)(),x=(0,i.useRef)(!1),{setAppFocusState:v}=(0,h.I)();return((0,i.useEffect)(()=>(x.current=(0,u.Z)(()=>{}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&x.current&&(window.cancelAnimationFrame(x.current),x.current=null)}),[]),(0,i.useEffect)(()=>(s?(g.Z.pause(),v(!1)):(g.Z.resume(),v(!0)),()=>{s&&(g.Z.resume(),v(!0))}),[v,s]),(0,i.useEffect)(()=>{let e=s&&!t;return e&&f(),()=>{e&&b()}},[s,t]),s)?(0,y.jsx)(_.Z,{children:(0,y.jsx)(l.mh,{children:(0,y.jsxs)(l.xu,{"aria-label":e,position:"relative",role:"dialog",zIndex:c||p.b7,children:[(0,y.jsx)(l.iP,{accessibilityLabel:S._('Mobile Popup Modal Mask', 'mweb.experience_popup_modal.mask', 'The acessibility label for the mask of popup modal'),onTap:()=>{a&&d()},tapStyle:"none",children:(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1)})}),(0,y.jsxs)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},overflow:"hidden",position:"fixed",rounding:4,top:!0,width:o,zIndex:new l.Ry(1),children:[n,r]})]})})}):null}var x=n(282778),v=n(983983);let P=new l.Ry(v.fe),k=new l.H3([P]);function w(e){let t=(0,a.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),n=t?.display_data?.delay_in_millis,[u,p]=(0,i.useState)(t&&!n),m=(0,c.HG)();return(0,i.useEffect)(()=>{p(t&&!t.display_data?.delay_in_millis)},[t]),(0,i.useEffect)(()=>{let e;return n&&(e=setTimeout(()=>{p(!0)},n)),()=>clearTimeout(e)},[n]),(0,y.jsx)(i.Fragment,{children:u&&(0,y.jsx)(r.Z,{eligibleTypes:[26],experience:t,placementId:e.placementId,children:({complete:e,dismiss:t,experience:{display_data:n}})=>{let i=(0,o.Z)(d.Z)(n),{title:a,body:r,completeButton:c}=i;return a&&r&&c.text?m?(0,y.jsx)(l.mh,{zIndex:k,children:(0,y.jsx)(s.ZP,{accessibilityModalLabel:"",onDismiss:t,size:"sm",children:(0,y.jsx)(x.Z,{displayData:i,handleComplete:e,handleDismiss:t,isMobile:!1})})}):(0,y.jsx)(S,{accessibilityModalLabel:i?.title,isOpen:!0,modalWidth:320,onDismiss:t,children:(0,y.jsx)(x.Z,{displayData:i,handleComplete:e,handleDismiss:t,isMobile:!0})}):null}})})}},368885:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var i=n(667294),a=n(401429),l=n(883119),r=n(930837),s=n(140017),o=n(862249),d=n(785893);function c(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{surveyLoaded:!1}),c(this,"loadSurvey",()=>{this.setState({surveyLoaded:!0}),this.props.view?.()}),c(this,"handleDismiss",()=>{this.props.dismiss(),this.setState({surveyLoaded:!1})}),c(this,"handleComplete",()=>{this.props.complete(),this.setState({surveyLoaded:!1})})}componentDidMount(){let{displayData:{delay:e}}=this.props;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}componentWillUnmount(){clearTimeout(this.surveyTimer)}render(){if(!this.state.surveyLoaded)return null;let{displayData:{buttons:e,detailed_text:t,title_text:n}}=this.props;return(0,d.jsx)(r.ZP,{accessibilityModalLabel:this.props.i18n._('Would you mind taking a survey?', 'User eval survey', 'User eval survey'),footer:(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"end",children:e.map(e=>{if(!e.uri)return(0,d.jsx)(l.xu,{marginStart:1,children:(0,d.jsx)(l.zx,{fullWidth:!0,onClick:this.handleDismiss,text:e.text})},e.text);{let t=e.uri,n=(0,o.Z)({url:t});return(0,d.jsx)(l.xu,{marginStart:1,children:(0,d.jsx)(l.ZP,{color:"red",fullWidth:!0,href:t,onClick:this.handleComplete,rel:n?"nofollow":"none",target:"blank",text:e.text})},e.text)}})}),heading:n,onDismiss:this.handleDismiss,size:"sm",children:(0,d.jsx)(l.xu,{padding:3,children:(0,d.jsx)(l.xv,{children:t})})})}}function p(e){let t=(0,s.ZP)();return(0,d.jsx)(u,{...e,i18n:t})}var m=n(616550),g=n(340523);function _(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),_(this,"isOnClose",this.props.onCloseEnabled&&2===this.props.actionTrigger),_(this,"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1,showSurveyOnClose:this.isOnClose}),_(this,"loadSurvey",(e=!0)=>{let{onView:t}=this.props;e&&t(),this.setState({surveyLoaded:!0})}),_(this,"processIFrameMessage",e=>{let{presentationDelay:t=5e3,onComplete:n,surveyLink:i,onCloseEnabled:a}=this.props,l=e.origin||e.originalEvent.origin;i.startsWith(l)&&("surveyFinished"===e.data?n():"surveyLoaded"===e.data&&(window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.showSurveyOnLeavingPage(),a?this.actionTriggerHandler():this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)))}),_(this,"handleShowSurvey",()=>{this.setState({surveyAccepted:!0})})}componentDidMount(){window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout(()=>{this.state.surveyLoaded||(window.clearTimeout(this.loadSurveyTimeout),this.setState({surveyLoadFailed:!0}))},15e3)}componentWillUnmount(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.props.unblock()}actionTriggerHandler(){let{actionTrigger:e,presentationDelay:t=5e3}=this.props;switch(e){case 1:this.loadSurvey();break;case 2:this.loadSurvey(!1);break;default:this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)}}showSurveyOnLeavingPage(){let{onView:e,block:t}=this.props;t(()=>{e(),this.setState({showSurveyOnClose:!1})})}render(){let{surveyAccepted:e,surveyLoadFailed:t,surveyLoaded:n,showSurveyOnClose:i}=this.state;if(t)return null;let{acceptButtonText:a,bodyText:r,declineButtonText:s,onDismiss:o,subtitleText:c,surveyLink:u,titleText:p}=this.props,m=(0,d.jsx)("iframe",{"data-test-id":"anket-iframe",src:u,style:e?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},title:this.props.i18n._('Pinterest Survey', 'Accessible label for survey frame', 'Accessible label for survey frame')});return n&&!i?(0,d.jsx)(l.xu,{position:"absolute",zIndex:new l.Ry(1e3),children:(0,d.jsxs)(l.u_,{accessibilityModalLabel:this.props.i18n._('Have a few minutes to take a survey?', 'User evaluation survey', 'User evaluation survey'),footer:!e&&(0,d.jsxs)(l.xu,{display:"flex",justifyContent:"end",paddingX:1,children:[(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,d.jsx)(l.zx,{fullWidth:!0,onClick:()=>{this.setState({surveyAccepted:!1}),o()},text:s})}),(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,d.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:this.handleShowSurvey,text:a})})]}),heading:e?"":p,onDismiss:o,padding:"none",role:"alertdialog",size:e?"lg":"md",children:[(0,d.jsx)(l.xu,{children:m}),!e&&(0,d.jsxs)(l.xu,{padding:3,children:[(0,d.jsx)(l.xv,{children:c}),(0,d.jsx)(l.xv,{children:r})]})]})}):m}}let y=function(e){let t=(0,s.ZP)(),{checkExperiment:n}=(0,g.F)(),a=(0,m.k6)(),[l,r]=(0,i.useState)(null),o=(0,i.useRef)(null);return(0,d.jsx)(h,{...e,block:e=>{o.current=a.block((t,n)=>(r({location:t,action:n}),e(),!1))},i18n:t,onCloseEnabled:n("discovery_measurements_on_close_survey").anyEnabled,unblock:()=>{if(o&&o.current?.(),l){let{location:e,action:t}=l;"PUSH"===t?a.push(`${e.pathname}${e.search}`):"POP"===t&&a.goBack()}}})},f=e=>{let{complete:t,dismiss:n,view:i,displayData:a}=e,{anket:l,buttons:r,delay:s,detailed_text:o,subtitle_text:c,title_text:u,action_trigger:m=3}=a,[g,_]=r;return l?(0,d.jsx)(y,{acceptButtonText:_.text,actionTrigger:m,bodyText:o,declineButtonText:g.text,onComplete:t,onDismiss:n,onView:i,presentationDelay:s,subtitleText:c,surveyLink:_.uri,titleText:u}):(0,d.jsx)(p,{complete:t,dismiss:n,displayData:a,view:i})},b=e=>{let{experienceId:t,displayData:n}=e,{delay:a=0}=n,l={...n,delay:0},r={...e,displayData:{...l}},s=(0,i.useRef)(),[o,c]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=["/pin-builder","/idea-pin-builder"],t=e=>window.location.pathname.includes(e),n=()=>e.some(t),i=()=>{n()?s.current=setTimeout(()=>i(),3e3):c(!0)};return s.current=setTimeout(()=>i(),a),()=>{clearTimeout(s.current)}},[t,a]),o?(0,d.jsx)(f,{...r}):null};function S(e){let{placementId:t,experience:n,targeting:i,eligibleIds:l}=e;return(0,d.jsx)(a.Z,{disableAutoView:!0,eligibleIds:l||[],eligibleTypes:[5],experience:n,placementId:t,targeting:i,children:({complete:e,dismiss:n,view:i,experience:a})=>{let l=a.display_data,r=a.experience_id;return 1000421===t?(0,d.jsx)(b,{complete:e,dismiss:n,displayData:l,experienceId:r,view:i}):(0,d.jsx)(f,{complete:e,dismiss:n,displayData:l,view:i})}})}},810961:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(73006),l=n(179370),r=n(219651),s=n(368885),o=n(321329),d=n(785893);let c=({placementId:e})=>{let{experienceForPlacement:t}=(0,o.Z)(e),{unmountPlacement:n,registerAfterActionPlacement:c}=(0,l.M)();return(0,i.useEffect)(()=>(c(e),()=>{n(e)}),[e,n,c]),(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(r.Z,{experience:t}),(0,d.jsx)(s.default,{experience:t}),(0,d.jsx)(a.Z,{experience:t})]})}},82531:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(810961),l=n(190971),r=n(822987),s=n(785893);let o=({placementId:e})=>{let t=(0,l.c)(),n=(0,r.w)();return(0,i.useEffect)(()=>{let e=e=>{let{clickthroughProperties:n,offsiteTimedPair:i}=e;(n?.aux_data?.time_to_offsite??5e8)<5e8&&t("Clickthrough",{is_promoted:n?.aux_data?.is_promoted,pin_id:n?.object_id_str,clickthrough_duration_ns:i?.duration})};return e&&n?.onOffsiteEnd(e),()=>{e&&n?.removeOnOffsiteEnd(e)}},[t,n]),(0,s.jsx)(a.Z,{placementId:e})}},25919:(e,t,n)=>{let i;n.d(t,{Am:()=>y,Ig:()=>_,N:()=>x,Sd:()=>f,YX:()=>S,be:()=>h,fO:()=>p,kd:()=>b,pz:()=>m});var a=n(667294),l=n(216167),r=n(587703),s=n(703404),o=n(957753),d=n(107366),c=n(953565);let u=(e,t,n={})=>(0,c.nP)(`${e}.${t}`,{sampleRate:1,tags:n}),p=(e,t)=>n=>l.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?n((0,o.OD)(e.resource_response.data)):void 0),m=(e,t,n,a)=>(r,d)=>{if(t)return Promise.resolve();if(a&&(i=a),1===e.length){let t=e[0],i=d().experiences[t];if(JSON.stringify(i?.extraContext||null)===JSON.stringify(n)||(0,s.E3)(i)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return l.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:a}).callGet().then(e=>e.resource_response?r((0,o.cL)(e.resource_response.data)):void 0)},g=(e,t,n,a)=>(r,s,d,c=!1,u,m)=>(g,_)=>{let{experiences:h,experiencesMulti:y}=_(),f=null,b=!0;if(c||(f=(b=h[r]&&h[r].experience_id===s)?h[r]:Array.isArray(y[r])&&y[r]?.find(e=>e.experience_id===s)),f&&f.experience_id===s||c&&r&&s){let c=l.Z.create(e,{placed_experience_id:`${r}%3A${s}`,extra_context:u??{},targeting:m}),_=b?o.Yb:o.xW;switch(t){case"dismissed":return c.callDelete().then(()=>{g(_(r,s,t)),g(p(void 0,i)),n&&a&&n({event_type:a,object_id_str:s.toString()})});case"completed":return c.callUpdate().then(()=>{!d&&(g(_(r,s,t)),g(p(void 0,i)),n&&a&&n({event_type:a,object_id_str:s.toString()}))});case"viewed":return g(_(r,s,t)),c.callUpdate().then(()=>{1000162===r&&g(p()),n&&a&&n({event_type:a,object_id_str:s.toString()})});case"completedWithoutHomefeed":return c.callUpdate().then(()=>{d||g(_(r,s,t)),n&&a&&n({event_type:a,object_id_str:s.toString()})})}}return Promise.resolve()},_=()=>{let e=(0,r.Z)();return(0,a.useCallback)(g("UserExperienceViewedResource","viewed",e,4503),[e])},h=()=>{let e=(0,r.Z)();return(0,a.useCallback)(g("UserExperienceCompletedResource","completed",e,6567),[e])},y=()=>{let e=(0,r.Z)();return(0,a.useCallback)(g("UserExperienceResource","dismissed",e,6568),[e])},f=()=>{let e=(0,r.Z)();return(0,a.useCallback)(g("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},b=(e,t)=>(n,i)=>{let{experiences:a}=i(),l=a[e];l&&l.triggerable_placed_exps&&l.triggerable_placed_exps.length&&l.triggerable_placed_exps.forEach(n=>{let[,i]=n.split(":"),a=t;l.metadata&&l.metadata[i]&&(a={...t,...l.metadata[i]}),(0,d.Z)({url:`/v3/experiences/${n.replace(":","%3A")}/trigger/`,method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(()=>{u("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})},S=e=>(t,n)=>{t(b(e));let{experiences:i}=n();return i[e]},x=(e,t,n)=>a=>{n&&(i=n),a(b(e,t)),t&&Object.keys(t).length>0&&a(m([e],!1,t,n))}},703404:(e,t,n)=>{n.d(t,{A0:()=>o,E3:()=>r,MQ:()=>s,fL:()=>d});var i=n(883119),a=n(862249),l=n(785893);function r(e){return!!e&&0!==e.type}let s=(e,t,n)=>{let i=e[n];return t[n]&&r(i)?i:null};function o(e){return e.display_data?.anchor}let d=e=>{let t=new DOMParser().parseFromString(e,"text/html"),n=[...t.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,l.jsx)(i.xv,{inline:!0,children:e.textContent});{let t=e.href||"",n=(0,a.Z)({url:t});return(0,l.jsx)(i.rU,{display:"inline",externalLinkIcon:n?"default":"none",href:t,rel:n?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,l.jsx)(i.xv,{inline:!0,children:n})}},26616:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>a,_4:()=>r,iY:()=>s,mR:()=>l});let i="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",l="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957753:(e,t,n)=>{n.d(t,{NW:()=>s,OD:()=>d,Yb:()=>o,cL:()=>c,xW:()=>r});var i=n(216167),a=n(26616);let l=e=>({type:a.$S,payload:{experiencesMulti:e}}),r=(e,t,n)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:n}}),s=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(l(e.resource_response.data)):void 0),o=(e,t,n)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:n}}),d=e=>({type:a._4,payload:{experiences:e}}),c=e=>({type:a.mR,payload:{experiences:e}})},190971:(e,t,n)=>{n.d(t,{c:()=>p});var i=n(667294),a=n(616550),l=n(179370),r=n(96157),s=n(624797),o=n(554786);let d=(e,t)=>((0,r.XU)(e)&&e.state?.from&&(e=e.state.from),(0,r.HV)(e))?t?1000503:1000558:(0,r.En)(e)?t?1000506:1000559:(0,r.L6)(e)?t?1000141:1000494:void 0,c=(e,t)=>{if(t&&(0,r.L6)(e))return 1000564},u=(e,t)=>{if(t){if((0,r.HV)(e))return 1000541;if((0,r.En)(e))return 1000542;if((0,r.L6)(e))return 1000140}else if((0,r.HV)(e))return 1000544;else if((0,r.En)(e))return 1000543;else if((0,r.L6)(e))return 1000540},p=()=>{let{mountPlacement:e,registerdAfterActionPlacements:t}=(0,l.M)(),n=(0,o.HG)(),p=(0,a.TH)();return(0,i.useCallback)((i,a,l)=>{let o;switch(i){case"Save":o=d(p,n);break;case"Download":(0,r.L6)(p)&&(o=n?1000499:1000500);break;case"Clickthrough":o=u(p,n);break;case"NoAction":o=c(p,n)}null!=o&&((0,r.En)(p)&&(a={...a,search_query:(0,s.mB)(p.search)}),null!=o&&(t[o]||(0,r.XU)(p))&&e(o,a,l))},[t,e,p,n])}},200201:(e,t,n)=>{n.d(t,{_:()=>o,a:()=>d});var i=n(667294),a=n(702664),l=n(105737),r=n(25919),s=n(5859);let o=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{let o=(0,i.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,a.useSelector)(e=>e.experiences[t]);return(0,i.useEffect)(()=>{d((0,r.kd)(t))},[d,u,t]),(0,i.useEffect)(()=>{n||(0,l.ZP)(o.current,e)||(d((0,r.pz)([t],c,e)),o.current=e)},[d,e,c,t,n]),u},d=e=>(o(e),(0,a.useSelector)(t=>t.experiencesMulti[e.id]))},321329:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(179370),l=n(703404),r=n(5859);function s(e){let{mountedPlacements:t,completeExperience:n,dismissExperience:s,experiences:o,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:m}=(0,a.M)(),{isBot:g}=(0,r.B)(),_=e&&!g?(0,l.MQ)(o,t,e):null;return(0,i.useMemo)(()=>({completeExperience:n,dismissExperience:s,experienceForPlacement:_,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:m}),[n,s,_,d,c,u,p,m])}},172203:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),l=n(442279),r=n(179370),s=n(5859),o=n(953565);let d=(0,l.P1)(e=>e.experiences,(e,t)=>t,(e,t)=>e[t]),c=(e,t,n={})=>(0,o.nP)(`${e}.${t}`,{sampleRate:1,tags:n}),u=(e,t)=>"function"==typeof t?t(e):t,p=(e,t={},n=!1)=>{let[l,o]=(0,i.useReducer)(u,t),{isBot:p}=(0,s.B)(),{fetchExperienceForPlacements:m,mountPlacement:g,triggerExperimentsForPlacement:_,unmountPlacement:h}=(0,r.M)();(0,i.useDebugValue)(`Placement Hook ID - ${e}`),(0,i.useEffect)(()=>{let t={...l},i=n&&t?.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return g(e,t,i),()=>{h(e)}},[]),(0,i.useEffect)(()=>{Object.keys(l).length>0&&m([e],p,l)},[l]);let y=(0,a.useSelector)(t=>d(t,e)),f=(0,a.useSelector)(t=>t.experiencesMulti[e]),b=y?y.triggerable_placed_exps:[];return(0,i.useEffect)(()=>{c("experienceservice","placementHookExperimentTrigger.1",{platform:"web",placement_id:e,...b}),_(e,l)},[JSON.stringify(b)]),{experience:y,experiencesMulti:f,setExtraContext:o}}},869801:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"white",height:"55",rx:"27.5",stroke:"#CDCDCD",width:"55",x:"0.5",y:"0.5"}),(0,i.jsx)("path",{d:"M21.773 32.5718C16.3702 32.5718 11.9998 27.9614 11.9998 22.2859C11.9998 16.6104 16.3702 12.0003 21.773 12.0003H31.941C37.3438 12.0003 41.7142 16.6106 41.7142 22.2859C41.7142 27.9613 37.3438 32.5716 31.941 32.5716L21.773 32.5718Z",fill:"#86A9FF"}),(0,i.jsx)("path",{d:"M28.3636 36.7279V42.9999C28.3636 43.5456 27.9241 43.9999 27.3973 43.9999C27.1394 43.9981 26.8936 43.8914 26.7161 43.7044L17.1846 33.8872C15.3178 31.9787 14.2858 29.3656 14.2858 26.6609C14.2858 21.0934 18.6561 16.5712 24.0589 16.5712H34.2269C39.6298 16.5712 44.0001 21.0936 44.0001 26.6609C44.0001 32.2282 39.6298 36.7506 34.2269 36.7506H28.3636V36.7279Z",fill:"#578CFF"}),(0,i.jsx)("path",{d:"M21.7258 32.5713H31.9183C37.3338 32.5713 41.7142 27.8541 41.7142 22.0468C41.7142 21.3593 41.6479 20.6959 41.5382 20.0319C39.7554 17.8988 37.1578 16.5714 34.2738 16.5714H24.0818C18.6663 16.5714 14.2858 21.2886 14.2858 27.096C14.2858 27.7835 14.3521 28.4468 14.4618 29.0868C16.2446 31.22 18.8423 32.5713 21.7263 32.5713H21.7258Z",fill:"#0057CC"})]})},41005:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})},661257:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"url(#paint0_linear_4144_9512)",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_4144_9512",x1:"28.4444",x2:"28.4444",y1:"52.2827",y2:"6.94986",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})},94149:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})},958399:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"#fff",height:"56",rx:"28",width:"56"}),(0,i.jsx)("rect",{height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4",width:"55",x:".5",y:".5"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649_messenger)"}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(18.16 43.826) scale(34.8672)",gradientUnits:"userSpaceOnUse",id:"paint0_radial_3730_649_messenger",r:"1",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})},892878:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M28 56C43.464 56 56 43.464 56 28C56 12.536 43.464 0 28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56Z",fill:"url(#paint0_linear_3_21)"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"M12.6745 27.7045C20.837 24.1482 26.28 21.8037 29.0034 20.6709C36.7793 17.4366 38.3951 16.8748 39.4482 16.8563C39.6799 16.8522 40.1978 16.9096 40.5332 17.1818C40.8165 17.4116 40.8944 17.7221 40.9317 17.9401C40.969 18.158 41.0155 18.6544 40.9786 19.0423C40.5572 23.4698 38.7339 34.2141 37.8063 39.1729C37.4138 41.2712 36.641 41.9747 35.8928 42.0436C34.2667 42.1932 33.032 40.969 31.4571 39.9366C28.9928 38.3212 27.6006 37.3156 25.2085 35.7393C22.444 33.9175 24.2361 32.9162 25.8116 31.2799C26.2239 30.8517 33.3881 24.3352 33.5268 23.7441C33.5441 23.6701 33.5602 23.3946 33.3965 23.249C33.2328 23.1035 32.9911 23.1533 32.8168 23.1929C32.5696 23.249 28.6328 25.8511 21.0062 30.9992C19.8887 31.7665 18.8766 32.1404 17.9697 32.1208C16.97 32.0992 15.0469 31.5555 13.6172 31.0908C11.8637 30.5208 10.4701 30.2195 10.5914 29.2514C10.6547 28.7472 11.349 28.2316 12.6745 27.7045Z",fill:"white",fillRule:"evenodd"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_3_21",x1:"2800",x2:"2800",y1:"0",y2:"5558.47",children:[(0,i.jsx)("stop",{stopColor:"#2AABEE"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#229ED9"})]})})]})},406693:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"#7360F2",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff",fillRule:"evenodd"})]})},329395:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);let a=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{fill:"#25D366",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff",fillRule:"evenodd"})]})},847069:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(696534),a=n(785893);let l=({size:e=56})=>{let t=(0,i.vs)();return(0,a.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{fill:t?"white":"#111111",height:"56",rx:"28",width:"56"}),(0,a.jsx)("path",{d:"M30.3055 25.8561L40.505 14H38.088L29.2318 24.2945L22.1584 14H14L24.6964 29.5671L14 42H16.4171L25.7695 31.1287L33.2396 42H41.3979L30.3049 25.8561H30.3055ZM26.995 29.7042L25.9112 28.1541L17.288 15.8196H21.0005L27.9595 25.7739L29.0433 27.324L38.0892 40.2632H34.3767L26.995 29.7048V29.7042Z",fill:t?"#111111":"white"})]})}},262032:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(883119);let l=(0,i.createContext)();var r=n(785893);function s(e){(0,i.useContext)(l);let{alt:t,color:n,children:s,crossOrigin:o,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:g,naturalWidth:_,onError:h,onLoad:y,role:f,sizes:b,src:S,srcSet:x,_fixCompletedOnLoad:v}=e;return(0,r.jsx)(a.Ee,{_fixCompletedOnLoad:v,alt:t,color:n,crossOrigin:o,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:g,naturalWidth:_,onError:h,onLoad:y,role:f,sizes:b,src:S,srcSet:x,children:s})}},547643:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(340523),a=n(5859);function l(e){let{isAuthenticated:t}=(0,a.B)(),n=t?"web_masonry_v2_auth":"web_masonry_v2_unauth",{checkExperiment:l}=(0,i.F)(),{anyEnabled:r,group:s}=l(n,{dangerouslySkipActivation:e?.skipActivation??!1});return{expName:n,anyEnabled:r,group:s,isMeasureAllEnabled:"enabled_measure_all"===s||"enabled_measure_all_impression_fix"===s,isImpressionFixEnabled:"control_impression_fix"===s||"enabled_impression_fix"===s||"enabled_measure_all_impression_fix"===s}}},930837:(e,t,n)=>{n.d(t,{ZP:()=>d,b7:()=>r.b7,bN:()=>s,p4:()=>o});var i=n(240684),a=n(554786),l=n(785893),r=n(844683);let s=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,980536)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>980536}),o=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,119936)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>119936});function d(e){let t=(0,a.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){let{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:a,mobileIsFullscreen:r,mobileIsSlideUp:o,type:d,mobileIsFooter:c,zIndex:u,...p}=e;return(0,l.jsx)(s,{...p})}let{allowMediaPlay:i,allowScroll:r,role:d,size:c,_dangerouslyDisableScrollBoundaryContainer:u,...p}=e;return(0,l.jsx)(o,{...p,isOpen:n})}},119936:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var i=n(667294),a=n(883119),l=n(32346),r=n(844683),s=n(140017),o=n(30378),d=n(5859),c=n(55202),u=n(217058),p=n(554786),m=n(239821),g=n(785893);let _=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},h=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:t="center",allowClickAndDrag:n,allowScroll:y=!1,children:f,closeOnOutsideClick:b=!0,footer:S,heading:x,isOpen:v,mobileAccessibilityCloseIconLabel:P,mobileHideCloseIcon:k,mobileIsFooter:w,mobileIsFullscreen:T,mobileIsSlideUp:I,onDismiss:E,subHeading:A,type:C,zIndex:R}){let j=(0,s.ZP)(),{isRTL:L}=(0,d.B)(),F=(0,i.useRef)(!1),[D,O]=(0,i.useState)(!1),{setAppFocusState:N}=(0,m.I)(),M=(0,p.ZP)();return((0,i.useEffect)(()=>(F.current=(0,l.Z)(()=>{F.current&&O(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&F.current&&(window.cancelAnimationFrame(F.current),F.current=null)}),[]),(0,i.useEffect)(()=>(v?(o.Z.pause(),N(!1),(0,u.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.true`)):(o.Z.resume(),N(!0)),()=>{v&&(o.Z.resume(),N(!0),(0,u.My)(`mweb_unauth.mobile_modal.${C||"unknown_type"}.did_mount.is_open.false`))}),[N,v]),(0,i.useEffect)(()=>{let e=v&&!y;return e&&_(),()=>{e&&h()}},[v,y]),v)?(0,g.jsx)(c.Z,{allowClickAndDrag:n,children:(0,g.jsx)(a.mh,{children:(0,g.jsxs)(a.xu,{"aria-label":e,display:"inlineBlock",position:"relative",role:"dialog",zIndex:R||r.ZM,children:[(0,g.jsx)(a.iP,{accessibilityLabel:j._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),dataTestId:"mobile-modal-mask-overlay",onTap:({event:e})=>{e.clientX&&e.clientY&&(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${C||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),b&&E()},tapStyle:"none",children:(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1)})}),(0,g.jsxs)(a.xu,{color:"default",dangerouslySetInlineStyle:I?(0,r.Vf)({isFullscreen:T,isTablet:"tablet"===M,isShowing:D,isRelatedInterestsModal:"related_interests_modal"===C}):(0,r.JN)({variant:T?"fullscreen":"tablet"===M?"tablet":w?"footer":"signup"===C?"signup":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,g.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",width:"100%",children:[P&&!k?(0,g.jsx)(a.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,g.jsx)(a.hU,{accessibilityLabel:P,icon:"cancel",iconColor:"darkGray",onClick:E,padding:4,size:"sm"})}):null,x?(0,g.jsx)(a.kC.Item,{flex:"grow",children:(0,g.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,g.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:P&&!k?{marginRight:L?-10:50,marginLeft:L?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[T?x:(0,g.jsx)(a.xv,{align:t,size:"400",weight:"bold",children:x}),A?(0,g.jsx)(a.xv,{align:t,children:A}):null]})})}):null]}),(0,g.jsxs)(a.xu,{overflow:"auto",children:[f,S]})]})]})})}):null}},844683:(e,t,n)=>{n.d(t,{JN:()=>d,Vf:()=>c,ZM:()=>s,b7:()=>r,i_:()=>o});var i=n(883119),a=n(696534),l=n(425040);let r=new i.Ry(1e3),s=new i.H3([l.Z]),o=12,d=({variant:e})=>({__style:"fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,a.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF",overflow:"auto"}:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}),c=({isFullscreen:e,isTablet:t,isShowing:n,isRelatedInterestsModal:i})=>{let l={border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},r=n?"translateY(0)":"translateY(100vh)";return l.height=e?"100vh":"",t&&i&&(l={...l,width:425,left:"50%",transform:"translateX(-50%)"},r=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...l,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:r}}}},454514:(e,t,n)=>{n.d(t,{UZ:()=>d,Vg:()=>o,ZP:()=>c});var i=n(667294),a=n(883119),l=n(554786),r=n(494125),s=n(785893);let o=200,d=({deviceType:e,hiding:t,visible:n})=>{let i="desktop"===e,a=0,l=i?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",s="hidden";return n&&!t&&(a=1,l="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",s="visible"),n&&t&&(l="scale(1.1)",r="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:l,transition:r,visibility:s}};function c({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:c,dismissButton:u,helperLink:p,thumbnail:m,type:g,dataTestId:_,duration:h=2e3,onHide:y,href:f,onClick:b,openNewPage:S,imageUrl:x}){let v;let P=(0,l.ZP)(),[k,w]=(0,i.useState)(!1),[T,I]=(0,i.useState)(!1),E=(0,i.useRef)(),A=()=>{w(!0),E.current=setTimeout(y,o)},C=()=>{E.current=setTimeout(A,h)},R=()=>{E.current&&clearTimeout(E.current)};(0,r.Z)(()=>(setTimeout(()=>I(!0),100),C(),R)),x&&(v={image:(0,s.jsx)(a.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:x})});let j=(0,s.jsx)(a.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:u,helperLink:p,primaryAction:c,text:n,thumbnail:v??m,type:g}),{marginTop:L,opacity:F,pointerEvents:D,position:O,transform:N,transition:M,visibility:Z}=d({deviceType:P,hiding:k,visible:T});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:N,transition:M,visibility:Z,pointerEvents:D}},"data-test-id":_??"toast",display:"flex",marginTop:L,onMouseEnter:R,onMouseLeave:C,opacity:F,position:O,children:f?(0,s.jsx)(a.Tg,{href:f,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{f.startsWith("#")&&(e.preventDefault(),t()),b?.(e)},rounding:"pill",target:S?"blank":null,children:j}):j})}},205841:(e,t,n)=>{n.d(t,{qE:()=>s,u_:()=>o.ZP});var i=n(883119),a=n(785893);let l=(e,t)=>!!(e?.includes("images/user/default")&&t);function r({accessibilityLabel:e,name:t,outline:n,size:r,src:s,verified:o}){return(0,a.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:l(s,t)?void 0:s,verified:o})}r.displayName="Avatar";let s=r;var o=n(930837);n(454514)},288088:(e,t,n)=>{n.d(t,{G:()=>d,Z:()=>p});var i=n(441143),a=n.n(i),l=n(244311),r=n(698681),s=n(226618),o=n(953565);let d=Symbol("inlineFragmentSpread"),c=({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:i,selections:l,legacyData:o,paginationInfo:u,refetchInfo:p})=>{l.forEach(l=>{switch(l.kind){case"ScalarField":{let{alias:e,name:t}=l;n[e??t]=(0,r.mC)(t,i,o);break}case"LinkedField":{let{alias:s,name:d,concreteType:m,plural:g,selections:_}=l,h=s??d,y=(0,r.LJ)(o,i,l);if(null==y){n[h]=y;return}if(g){let i=(0,r.cG)({untypedInput:y,concreteType:m}),l=n[h];a()(!l||Array.isArray(l),"plural data must be an array"),n[h]=i?.filter(Boolean).map((n,i)=>{let a=l?.[i]??{};return c({conditionContext:e,fragmentName:t,mutableOutput:a,parentType:m,selections:_,legacyData:n,refetchInfo:p,paginationInfo:u}),a})}else{a()("object"==typeof y,`Value for ${d} must be an object${m?` with type ${m}`:""}, but a ${typeof y} is given`);let i=n[h]??{};n[h]=i,c({conditionContext:e,fragmentName:t,mutableOutput:i,parentType:m,selections:_,legacyData:y,refetchInfo:p,paginationInfo:u})}break}case"InlineFragment":{let{abstractKey:i,type:s,selections:d}=l;if(a()(null!=s&&null===i,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==o)break;let m=(0,r.uC)(o);null!=m&&(0,r.Z1)(s,m)&&c({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:s,selections:d,legacyData:o,paginationInfo:u,refetchInfo:p});break}case"Condition":{let{condition:a,selections:r}=l,s=!0;"isAuth"===a?s=e.isAuth===l.passingValue:"isDesktop"===a&&(s=e.isDesktop===l.passingValue),s&&c({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:i,selections:r,legacyData:o,paginationInfo:u,refetchInfo:p});break}case"FragmentSpread":(0,s.I9)(n,{data:o,refetchInfo:p,paginationInfo:u});break;case"ClientExtension":c({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:i,selections:l.selections,legacyData:o,paginationInfo:u,refetchInfo:p});break;case"InlineDataFragmentSpread":{let t={},{selections:a,name:r}=l;c({conditionContext:e,fragmentName:r,mutableOutput:t,parentType:i,selections:a,legacyData:o,paginationInfo:u,refetchInfo:p}),n[d]||(n[d]={}),n[d][r]=t;break}case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"RelayLiveResolver":case"AliasedFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"AliasedInlineFragmentSpread":throw Error(`The selection type '${l.kind}' is not supported yet. Contact @jackhsu or @robertbalicki`);default:throw Error(`Unexpected selection type '${l.kind}'`)}})},u=new Set;function p({conditionContext:e,fragment:t,legacyData:n,paginationInfo:i,refetchInfo:s}){let d;let p=(0,l.getFragment)(t);try{d=function({conditionContext:e,fragment:t,legacyData:n,paginationInfo:i,refetchInfo:l}){if(null==t.abstractKey){let e=null!=n?(0,r.uC)(n):null;null!=e&&a()((0,r.Z1)(t.type,e),`fragment data type '${t.type}' does not match legacy data type '${e}'. See http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.`)}let s={};return c({conditionContext:e,fragmentName:t.name,mutableOutput:s,parentType:t.type,selections:t.selections,legacyData:n,paginationInfo:i,refetchInfo:l}),s}({conditionContext:e,fragment:p,legacyData:n,paginationInfo:i,refetchInfo:s})}catch(t){throw u.has(p.name)||(u.add(p.name),(0,o.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:p.name,rootId:n.id,rootType:n.type,url:window.location.href,isAuth:e.isAuth}})),t}return d}},698681:(e,t,n)=>{n.d(t,{Cs:()=>_,LJ:()=>w,Z1:()=>I,cG:()=>P,mC:()=>v,uC:()=>C});var i=n(441143),a=n.n(i);let l={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},r=/(\d\d0P)(\d\d0K)/,s=/QVBR(8|10)/,o=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,d=/^v/,c=e=>l[e]??e.replace(o,"_$1").replace(r,"$1_$2").replace(s,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(d,"V"),u=/[A-Z]/g,p=e=>e.replace(u,e=>`_${e.toLowerCase()}`),m=/^_/,g=e=>e.replace(m,""),_=e=>g(p(e)),h=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],y=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],f=(e,t)=>{if(y.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return a()(t.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return _(e)}},b=e=>"StoryPinPage"===e||"StoryPinImageBlock"===e,S=(e,t,n)=>{if(b(n)){if("images"===e)return"image";if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===n&&"image"===e)return"images";if("VideoDetail"===t)return c(e);if(h.includes(e))return e;switch(e){case"reactionCountsData":return"reaction_counts";case"videoData":return"video";case"formattedCloseupDescription":return"formatted_description";default:return _(e)}},x=(e,t)=>{switch(e){case"reactionType":return"string"==typeof t?Number(t):t;case"campaignId":case"pinPromotionId":return"number"==typeof t?String(t):t;default:return t}},v=(e,t,n)=>"Video"===t&&"duration"===e?n?.duration!=null?n.duration:Object.values(n?.video_list||{}).find(e=>e?.duration!=null)?.duration:"__typename"===e?t:x(e,n?.[f(e,n)]),P=({untypedInput:e,concreteType:t})=>{if(!e)return null;switch(a()("object"==typeof e,"legacy data must be an object"),t){case"ReactionCountModel":return Object.entries(e).map(([e,t])=>({reaction_type:e,reaction_count:t}));case"PinThroughProperties":case"ThroughProperties":case"TrackingParamsMap":return Object.entries(e).map(([e,t])=>({key:e,data:t}));default:if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,value:t}))}},k=({args:e,name:t})=>{let n=e.find(e=>e.name===t);return n&&"string"==typeof n.value?n.value:null},w=(e,t,n)=>{let{args:i,name:l}=n;if("PinTagChipImagesPerSpec"===t&&"image"===l)return e?.images?.["750x"];let r=e?.[S(l,n.concreteType,t)];if(!r)return r;let s=k({args:i??[],name:"spec"});if(s){if(a()("object"==typeof r,"value must be an object"),b(t)){let{dominant_color:e,images:t}=r;if(!t)return t;a()("object"==typeof t,"images must be an object");let n=t["orig"===s?"originals":s];return n&&e?{...n,dominant_color:e}:n}return r[s]}return r},T={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock",DescriptionString:"FormattedDescriptionParagraphComponent",DescriptionHeader:"FormattedDescriptionHeaderComponent",DescriptionPoints:"FormattedDescriptionPointsComponent",DescriptionStringBold:"FormattedDescriptionBoldComponent",DescriptionTable:"FormattedDescriptionTableComponent",DescriptionSpecs:"FormattedDescriptionSpecsComponent"},I=(e,t)=>(T[e]??e).toLowerCase()===t,E={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},A=/_/g,C=e=>"string"==typeof e.type?e.type.replace(A,"").toLowerCase():"number"==typeof e.block_type?E[e.block_type].toLowerCase():void 0},695238:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(14583),l=n(785893);function r({useGraphQLAdapter:e,useLegacyAdapter:t}){let n=({children:t,data:n})=>t({enabled:!0,data:e(n)}),r=({children:e,data:n})=>e({enabled:!1,data:t(n)});return function({children:e,input:t}){let s=t.enabled?(0,l.jsx)(n,{data:t.data,children:e}):(0,l.jsx)(r,{data:t.data,children:e}),o=t.suspense?.dangerouslyServerRender?i.Suspense:a.Z;return t.suspense?(0,l.jsx)(o,{fallback:t.suspense.fallback,children:s}):s}}},91402:(e,t,n)=>{n.d(t,{g:()=>l,j:()=>r});var i=n(226618),a=n(953565);function l(e){if(Array.isArray(e)){let t=e[0];if(null==t)return{kind:"PluralLegacy",data:[],paginationInfo:null,refetchInfo:null};if(null!=t.__fragments)return{kind:"GraphQL",data:e};let n=(0,i.G5)(t);return null!=n?{kind:"PluralLegacy",data:e.map(e=>(0,i.Be)(e).data),paginationInfo:n.paginationInfo,refetchInfo:n.refetchInfo}:((0,a.nP)("autoLegacyAdapter.invalidPluralDataKey",{sampleRate:1}),{kind:"PluralLegacy",data:e.map(e=>(0,i.Be)(e).data),paginationInfo:null,refetchInfo:null})}let t=(0,i.G5)(e);if(null!=t){let{data:e,refetchInfo:n,paginationInfo:i}=t;return{kind:"SingularLegacy",data:e,refetchInfo:n,paginationInfo:i}}if(e.__fragments)return{kind:"GraphQL",data:e};if("graphqlRef"===e.type)return{kind:"GraphQL",data:e.data};if("deprecated"===e.type){let{data:t}=e;return Array.isArray(t)?{kind:"PluralLegacy",data:t,refetchInfo:null,paginationInfo:null}:{kind:"SingularLegacy",data:t,refetchInfo:null,paginationInfo:null}}throw Error("Invalid value")}function r(e){let t=(0,i.G5)(e);return null!=t?{type:"deprecated",data:t.data}:e.__fragments?{type:"graphqlRef",data:e}:e}},226618:(e,t,n)=>{n.d(t,{Be:()=>l,G5:()=>a,I9:()=>r});let i=Symbol("legacyData");function a(e){return e[i]}function l(e){return e[i]}function r(e,t){return e[i]=t,e}},333739:(e,t,n)=>{n.d(t,{qH:()=>T,tx:()=>I,Zm:()=>y,HF:()=>k,sr:()=>w,O7:()=>f,V4:()=>P});var i=n(702664),a=n(288088);function l(e){return null==e?"null or undefined":Array.isArray(e)?"Array":typeof e}function r(e,t,n){return"Manual"===t?{path:e,message:`Value found only in legacy adapter, where it had type ${l(n)}. (Or it was null in the auto-legacy adapter.)`,kind:"MissingInLegacy"}:{path:e,message:`Value found only in auto-legacy adapter, where it had type ${l(n)}. (Or it was null in the legacy adapter.)`,kind:"MissingInAutoLegacy"}}function s(e,t,n){let i=l(t),a=l(n);return{path:e,message:`Found item of type ${i} in the legacy adapter result, and an item of type ${a} in the auto-legacy result.`,kind:"Type"}}var o=n(226618),d=n(582008),c=n(340523),u=n(5859),p=n(554786),m=n(19447),g=n(953565);let _={},h=new Set;function y(e,t,{useGraphQLAdapter:n,useLegacyAdapter:i,renderStrategy__DO_NOT_USE:a}){if("deprecated"===t.type)return{data:i(t.data),childDataKey__DEPRECATED:t};let l=(0,d.h)(e,t.data,a??null);return{data:n(l),childDataKey__DEPRECATED:{type:"graphqlRef",data:l}}}let f=()=>{let{isAuthenticated:e}=(0,u.B)();return{isAuth:!!e,isDesktop:(0,p.HG)()}};function b(){return"undefined"!=typeof performance?performance.now():Date.now()}function S(e){let t=b();return[e(),b()-t]}let x=new Map;function v(e,t,n,i){let a=x.get(i);if(a){if(!a.has(t)){let[i,l]=S(e);return a.add(t),(0,g.LY)(t,l,{sampleRate:n.isParallel?1:.1,tags:n}),i}}else{let[a,l]=S(e);return x.set(i,new Set([t])),(0,g.LY)(t,l,{sampleRate:n.isParallel?1:.1,tags:n}),a}return e()}function P(e,t){let{checkExperiment:n}=(0,c.F)(),{isAuthenticated:i}=(0,u.B)(),{group:d,anyEnabled:p}=n(i?"web_graphql_auto_legacy_adapters_auth":"web_graphql_auto_legacy_adapters_unauth"),m=f();return d.includes("parallel")?n=>{let i=v(()=>(0,o.I9)(t(n),{data:n,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{isParallel:!0,fragmentName:e.name},e.name);return"object"==typeof window&&function(e,t,n,i){let o;try{o=v(()=>(0,a.Z)({conditionContext:t,fragment:e,legacyData:n,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!0},e.name)}catch{return}try{var d;let t=(d=o,function e(t,n,i){let a=[],o=Object.keys(n),d=Object.keys(i);for(let d of o){let o=n[d],c=i[d];a.push(...function t(n,i,a){return null!=i&&null==a?[r(n,"Manual",i)]:i===a||null==i&&null==a?[]:Array.isArray(i)?Array.isArray(a)?function(e,n,i){if(n.length!==i.length)return[{path:e,message:`legacyResult is an array of length ${n.length}; autoLegacyResult is an array of length ${i.length}`,kind:"Length"}];let a=[];for(let l=0;l<n.length;l+=1){let r=n[l],s=i[l];a.push(...t(`${e}[]`,r,s))}return a}(n,i,a):[s(n,i,a)]:"object"==typeof i?"object"==typeof a&&null!==a&&null!==i?e(n,i,a):[s(n,i,a)]:[typeof i!=typeof a?s(n,i,a):{path:n,message:`Found items of type ${l(i)}, but their values did not match.`,kind:"Value"}]}(`${t}.${d}`,o,c))}for(let e of d){let l=n[e],s=i[e];null!=s&&null==l&&a.push(r(`${t}.${e}`,"Auto",s))}return a}("",i,d));if(t.length>0){window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn({differences:t,fragment:e.name}),_[e.name]=_[e.name]??new Set;let n=_[e.name];for(let i of t)n.has(i.path)||(n.add(i.path),(0,g.nP)("autoLegacyAdapter.inconsistentReadResults",{sampleRate:1,tags:{fragmentName:e.name,path:i.path,kind:i.kind}}))}}catch(t){h.has(e.name)||(h.add(e.name),window.SHOULD_LOG_ADAPTER_DIFFERENCES&&console.warn(`comparing results threw for fragment ${e.name}`),(0,g.nP)("autoLegacyAdapter.erroredCompareResults",{sampleRate:1,tags:{fragmentName:e.name}}))}}(e,m,n,i),i}:p?t=>v(()=>(0,a.Z)({conditionContext:m,fragment:e,legacyData:t,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.autoLegacyTiming",{fragmentName:e.name,isParallel:!1},e.name):n=>v(()=>(0,o.I9)(t(n),{data:n,refetchInfo:null,paginationInfo:null}),"autoLegacyAdapter.legacyTiming",{fragmentName:e.name,isParallel:!1},e.name)}function k(e,t,n){let a;switch(n.type){case"article":a=e=>{let t=(0,i.useSelector)(({articles:t})=>t[e]);return t?n.useLegacyAdapter(t):null};break;case"story":a=e=>{let t=(0,i.useSelector)(({stories:t})=>t[e]);return t?n.useLegacyAdapter(t):null};break;default:a=e=>{let t=(0,m.S6)()(e);return t?n.useLegacyAdapter(t):null}}return y(e,t,{useGraphQLAdapter:n.useGraphQLAdapter,useLegacyAdapter:a,renderStrategy__DO_NOT_USE:n.renderStrategy__DO_NOT_USE??null})}function w(e,t,n){let i=P(e,n.useLegacyAdapter);return k(e,t,{...n,useGraphQLAdapter:e=>e,useLegacyAdapter:i})}let T=void 0,I={" $fragmentSpreads":T," $fragmentType":void 0}},259743:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(422578),a=n(244311),l=n(288088);let r=function(e,t){let n=t[l.G];return n?n[(0,a.getInlineDataFragment)(e).name]:(0,i.readInlineData)(e,t)}},207012:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(422578),a=n(288088),l=n(91402),r=n(333739);let s=function(e,t){let n=(0,r.O7)();if(null==t)return null;let s=(0,l.g)(t);switch(s.kind){case"SingularLegacy":{let{data:t,refetchInfo:i,paginationInfo:l}=s;return(0,a.Z)({conditionContext:n,fragment:e,legacyData:t,paginationInfo:l,refetchInfo:i})}case"PluralLegacy":{let{data:t,refetchInfo:i,paginationInfo:l}=s;return t.map(t=>(0,a.Z)({conditionContext:n,fragment:e,legacyData:t,paginationInfo:l,refetchInfo:i}))}case"GraphQL":return(0,i.useFragment)(e,s.data);default:throw Error("Unexpected case")}}},807023:(e,t,n)=>{n.d(t,{Q:()=>r});var i=n(167912),a=n(91402),l=n(333739);function r(e,t,{useLegacyAdapter:n}){if(null==t)return{data:null,childDataKey__DEPRECATED:null};let r=(0,a.j)(t);if("deprecated"===r.type){let{data:t}=r;return null==t?{data:null,childDataKey__DEPRECATED:r}:{data:(0,l.V4)(e,n)(t),childDataKey__DEPRECATED:r}}let s=(0,i.useFragment)(e,r.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},582008:(e,t,n)=>{n.d(t,{P:()=>u,h:()=>p});var i,a=n(667294),l=n(422578),r=n(244311),s=n(91402),o=n(207012);function d(e,t,a){return a.lookup({kind:"SingularReaderSelector",dataID:t.__id,isWithinUnmatchedTypeRefinement:!1,node:(0,r.getFragment)(e),owner:{identifier:Math.random()+"",node:(0,r.getRequest)(void 0!==i?i:i=n(549359)),variables:t.__fragmentOwner.variables,cacheConfig:null},variables:t.__fragmentOwner.variables})}function c(e,t,n){switch(n??"SuspendOnMissingData"){case"SuspendOnMissingData":default:return(0,l.useFragment)(e,t);case"RenderWithMissingData":{let n=(0,l.useRelayEnvironment)();if(null==t)return null;return d(e,t,n).data}case"RenderWithMissingDataAndSubscribe":return function(e,t){let n=t?.__fragmentOwner.identifier,i=(0,l.useRelayEnvironment)(),[r,s]=(0,a.useState)(()=>({fragmentRefIdentifier:n,snapshot:null!=t?d(e,t,i):null}));return r.fragmentRefIdentifier!==n&&s({fragmentRefIdentifier:n,snapshot:null!=t?d(e,t,i):null}),(0,a.useEffect)(()=>{if(null!=r.snapshot){let e=i.subscribe(r.snapshot,e=>{s({fragmentRefIdentifier:n,snapshot:e})});return()=>e.dispose()}},[n]),r.snapshot?.data??null}(e,t)}}let u=function(e,t,n){if(null==t)return null;let i=(0,s.g)(t);return"GraphQL"===i.kind?c(e,i.data,n):(0,o.Z)(e,t)},p=c},213377:(e,t,n)=>{n.d(t,{$H:()=>r,$q:()=>f,D6:()=>d,KN:()=>S,Lo:()=>a,P2:()=>_,TS:()=>x,Wv:()=>b,ZZ:()=>u,g5:()=>p,jC:()=>s,lX:()=>g,nW:()=>m,oX:()=>h,qG:()=>y,tG:()=>l,yF:()=>i,yc:()=>c,yt:()=>o});let i=236,a=157.33333333333334,l=175,r=24,s=4,o=8,d=2,c=2,u=14,p=16,m=12,g=16,_=24,h=16,y=-1,f=(e=!1,t=!1)=>e?t?g:m:_,b=({contentVisibleItemCount:e,gap:t,isDesktop:n,moduleWidth:a})=>e||a?Math.min((a-Math.ceil(e)*t)/e,n?i:l):i,S=(e,t,n,i,a=u)=>{let l=e+a;return`
@media (min-width: ${t*l}px) and (max-width: ${(n+1)*l-1}px) {
  ${i}
}
`},x=(e,t,n)=>{let a=n?3:2,r=t?5:a,s=t?i:l,d=t?h:o,c=s*r+d*r-(t?12:!t&&n?12:6);if(!e)return c;for(let t=r;t>=2&&!(e>c);t-=1)c=s*t+d*t;return c}},388769:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(72461),a=n(5859),l=n(785893);let r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:r,shortformMaximumFractionDigits:s,formatStyle:o,uplimit:d,value:c})=>{let u=(0,i.Z)();return(0,l.jsx)(a.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:r,shortform_maximum_fraction_digits:s,style:o,uplimit:d})})}},757017:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(188349),a=n(140017),l=n(339001);function r(){let e=(0,a.ZP)();return function(t,n){let a=new Date(t).getTime(),r=Date.now()-a,s=Math.floor(r/i.FS),o=Math.floor(r/i.UK),d=Math.floor(r/i.F4),c=Math.floor(r/i.VL),u=Math.floor(r/i.N9),p=Math.floor(r/i.N1),m=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),g=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', o, ' - ', ' -- '),_=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),h=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),y=e.ngettext('{{ months }} month ago', '{{ months }} months ago', u, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),f=e.ngettext('{{ years }} year ago', '{{ years }} years ago', p, ' - ', ' -- '),b=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),S=e.ngettext('{{ hours }}h', '{{ hours }}h', o, 'hours ago abbreviated', 'hours ago abbreviated'),x=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),v=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),P=e.ngettext('{{ months }}mo', '{{ months }}mo', u, 'months ago abbreviated', 'months ago abbreviated'),k=e.ngettext('{{ years }}y', '{{ years }}y', p, 'years ago abbreviated', 'years ago abbreviated');return p>0?(0,l.nk)(n?k:f,{years:p}).join(""):u>0?(0,l.nk)(n?P:y,{months:u}).join(""):c>0?(0,l.nk)(n?v:h,{weeks:c}).join(""):d>0?(0,l.nk)(n?x:_,{days:d}).join(""):o>0?(0,l.nk)(n?S:g,{hours:o}).join(""):s>0?(0,l.nk)(n?b:m,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},140017:(e,t,n)=>{n.d(t,{ZP:()=>r,oz:()=>a,q6:()=>i});let{Provider:i,Consumer:a,useHook:l}=(0,n(342513).Z)("i18n"),r=l},72461:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(140017),a=n(427514);let l=(e,t)=>{let n=t||0,i=10**n,a=+(n?e*i:e).toFixed(8),l=Math.floor(a),r=a-l,s=r>.49999999&&r<.50000001?l%2==0?l:l+1:Math.round(a);return n?s/i:s},r=({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{let a={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...a,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:a},s=e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0},o=(e,t)=>{if(t){let{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){let e=(0,i.ZP)();return(t,n,i)=>{let d=0,c=0,u=i&&i.style||void 0,p=i&&i.shortform||!1,m=i&&i.uplimit||void 0,g=i&&i.currency||void 0,_=!!m&&n>=m,h=m&&_?m:n;if("currency"===u){let{minimumFractionDigits:e,maximumFractionDigits:n}=o(t,g);d=void 0===i||void 0===i.maximum_fraction_digits?n:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else d=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(p&&h>999&&(d=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,c=0),d<c)return String(h);let y=h,f="",b=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],S=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],x=/^zh|ja|ko/.test(t);if(p&&h>999){let e=x?b:S;for(let t=0;t<e.length;t+=1){let n=Object.keys(e[t])[0],i=e[t][n].value;if(h>=i){y=l(h/i*Math.pow(10,d))/Math.pow(10,d),f=e[t][n].localeKey;break}}}if(null==y)return"";let v=y.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],r({maximumFractionDigits:d,minimumFractionDigits:c,currency:g,style:u}));return f&&f.length>0?(0,a.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:v,numberSuffix:f})+(_?"+":""):v+(_?"+":"")}}},666472:(e,t,n)=>{n.d(t,{F:()=>_,Z:()=>g});var i=n(667294),a=n(263032),l=n(214877),r=n(547643),s=n(30378),o=n(5859),d=n(554786),c=n(369708),u=n(953565),p=n(84768);let m={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function g({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:g,contextLogData:_,clientTrackingParams:h,elementType:y,impressionAuxFields:f,inImpressionExp:b,impressionType:S,impressionsFramework:x,isPaused:v,loggingId:P,objectIdStr:k,slotIndex:w,trackCarousel:T,viewData:I,viewParameter:E,viewType:A,isPromoted:C,storyPinProductEventData:R,pinData:j}){let{logContextEvent:L}=(0,l.v)(),{logMrcVideoAdEventOnPlay:F}=(0,c.rG)(),D=x||s.Z,O=(0,i.useRef)(null),N=i=>{let l=m[S],r=l.idType,s={clientTrackingParams:h,endTime:i.endTime,[r]:P,slotIndex:w,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...f,forcedExit:"removed"===i.forcedExit?0:void 0},o={};if("Pin"===S&&(s={...s,pinCellWidth:O.current?.offsetWidth||0,pinCellHeight:O.current?.offsetHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},f?.chromeAraViewExp&&j&&j.isPromoted)){let{attributionSourceId:e}=j;(0,a.YS)(S,j.isPromoted??null,e??null,j.link??null,j.campaignId??null,f.araAuxData??null,j.advertiserId??null,j.domain??null,j.adDestinationUrl??null,f?.araHardcodedReportingUrlExp),o={is_arapi:!0,attribution_source_id:e||""}}let d={component:g,object_id_str:k,view_type:A,view_data:I||{},view_parameter:E};if(T)e&&T&&L({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...s,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...d,aux_data:{..._,...o}});else{let e={clientTrackingParams:h,event_type:l.eventType,...d,element:y,event_data:{[l.impressionType]:"Story"===S?s:[s],...R?{storyPinProductEventData:R}:{}},aux_data:{closeup_navigation_type:n,..._,...o}};L(e),F(e)}},{expName:M,group:Z}=(0,r.Z)({skipActivation:!0}),B=(0,d.ZP)(),U=(0,p.MM)(),{isAuthenticated:K}=(0,o.B)(),z=(0,i.useCallback)(()=>{try{let{current:e}=O;e instanceof HTMLElement&&(!C||e.getElementsByTagName("img").length>0)&&(D.start(e).onExitViewport(N).setDebugId(P||"unknown"),Z&&(0,u.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:B,experimentName:M,group:Z,handlerId:U,isAuthenticated:K,slotIndex:w??"unknown"}}))}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[O.current]);return(0,i.useEffect)(()=>(b&&!D.inExperiment&&D.setExperimentStatus(!0),v||z(),()=>{let{current:e}=O;e instanceof HTMLElement&&(!C||e.getElementsByTagName("img").length>0)&&D.stop(e)}),[v,z]),O}let _=({children:e,...t})=>e({impressionTrackerRef:g(t)})},307772:(e,t,n)=>{function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>u,LU:()=>p,ZP:()=>m});let a=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,l={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},r={},s={background:"#FF8A8A",transform:"scale(.98)"},o={init:e=>({transform:`scale(${r[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[l.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[l.exit]:s,[l.stopped]:s,[l.paused]:s,[l.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){i(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),i(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),i(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),i(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(l.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(l.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,a&&Object.assign(this.node.style,o.init(e)),this}pause(){return this.inViewport&&(this._debug(l.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(l.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(l.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(a)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),o[e]&&Object.assign(this.node.style,o[e]),e){case l.flushed:case l.paused:case l.exit:r[this.debugId]=!0}}}function c(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=!0,p=!1;class m{constructor(){c(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),c(this,"_handleMutations",(e,t)=>{let n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=u){(e!==p||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:n}=t.getBoundingClientRect();return n>e?n:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:n}=t.getBoundingClientRect();return n<e?n:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,n)=>{n.d(t,{Z:()=>i});let i=new(n(307772)).ZP},339001:(e,t,n)=>{n.d(t,{Wc:()=>o,bF:()=>c,nk:()=>s,r7:()=>u});var i=n(667294),a=n(785893);function l(e,t,n){return e.split(n).map(e=>{if(e.match(n)){let n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}let r=/(\{\{\s*\w+\s*\}\})/g;function s(e,t){return l(e,t,r)}function o(e,t){return l(e,t,r).join("")}let d=/(\{\s*\w+\s*\})/g;function c(e,t){return l(e,t,d)}let u=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,a.jsx)(i.Fragment,{children:e},t)):e},59545:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),a(this,"ref",(0,i.createRef)()),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let r=l},579814:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(107366),a=n(624797);let l=(e=()=>{})=>{let t=(0,a.mB)(window.location.search),{invite_code:n}=t;if(!n){e(t);return}let l=encodeURIComponent(encodeURIComponent(n));(0,i.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:l}})}},639435:(e,t,n)=>{n.d(t,{U:()=>y});var i=n(953565);let a="nic_v3",l=`${a}=1a`,r=`${a}=1b`,s=[l,r],o=["invite_code","invite","board_invite_code","sender"],d=e=>!!o.find(t=>e.includes(t)),c=e=>!!s.find(t=>e.includes(t)),u=e=>e.pathname.includes("/pin/")&&!d(e.search)&&!c(e.search),p=e=>e.includes("sender"),m=e=>!d(e)&&!p(e)&&e.includes(a),g=(e,t,n)=>{let i=e.search?"&":"?";return e.pathname+e.search+(i+(n?r:l)+t)},_=(e,t,n=!1,l)=>{if(!u(e))return;let r=n?"mweb":"web";if(!t){(0,i.nP)(`${r}.${a}.social_tracking_pin_non_invite.insert.no_encrypted_id`);return}(0,i.nP)(`${r}.${a}.social_tracking_pin_non_invite.insert.attempt`);try{let s=g(e,t,n);(0,i.nP)(`${r}.${a}.social_tracking_pin_non_invite.insert.success`),l(s)}catch{(0,i.nP)(`${r}.${a}.social_tracking_pin_non_invite.insert.caught_exception`)}},h=(e,t,n=!1,i)=>_(e,"",n,i),y=(e,t,n,l,r)=>{let s=n?"mweb":"web";(0,i.nP)(`${s}.${a}.social_tracking_pin_non_invite.attempt`);try{!n&&l&&u(e)?((0,i.nP)(`${s}.${a}.social_tracking_pin_non_invite.search_string_eligible`),h(e,t,n,r)):m(e.search)&&(0,i.nP)(`${s}.${a}.social_tracking_pin_non_invite.search_string_land`)}catch{(0,i.nP)(`${s}.${a}.social_tracking_pin_non_invite.caught_exception`)}}},681508:(e,t,n)=>{n.d(t,{Q4:()=>u,Rq:()=>l,Vf:()=>r,ab:()=>d,jd:()=>s,nw:()=>c,oy:()=>o});var i=n(658583),a=n(622541);let l=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,s=e=>window.innerHeight>=748&&l(e),o=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},d=()=>{i.t8(a.oj,String(!0),(0,i.kZ)(a.oj))},c=()=>!!i.U2(a.oj),u=()=>{o()&&!c()&&(d(),"undefined"!=typeof window&&window.location.reload(!0))}},431405:(e,t,n)=>{n.d(t,{Z:()=>i});function i({browserName:e,browserType:t,browserVersion:n,enableModernBundlesForBots:i,isBot:a}){if(a&&i)return!0;if("Electron"===e)return Number(n?.split(".")[0])>=3;if(t&&n){let e=Number(n.split(".")[0]);if(1===t||4===t)return e>=105;if(2===t)return e>=15;if(7===t)return e>=105}return!1}},422210:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){if(!e)return!1;let t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}},201417:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}},588664:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t,n=28){let a;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;a=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let l=new Date,r=a?new Date(a):l;return r.setDate(r.getDate()+n),new Date().getTime()<r.getTime()}},317540:(e,t,n)=>{n.d(t,{Z:()=>i});let i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},165706:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>p,FixedFooter:()=>_,FixedHeader:()=>g});var i=n(667294),a=n(883119),l=n(876594),r=n(696534),s=n(30378),o=n(71328);function d(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),d(this,"lastScrollPos",0),d(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),d(this,"handleScroll",(0,o.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,i=window.scrollY,a=i-this.lastScrollPos,l="none",{scrollHeight:r,clientHeight:s}=document.documentElement||{};Number.isNaN(r)||Number.isNaN(s)||(l=a<0?i<=Math.abs((window.scrollMinY||0)+Math.max(a,20))?"start":"none":i>=(window.scrollMaxY||r-s)-Math.max(a,20)?"end":"none");let o=t?.isModal?0:55;e?a>20&&n&&i>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(a<-20&&!n||i<=o)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===l&&!n||i<=o?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>o||"end"===l)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(a<-20||"start"===l)&&n||i<=o?(this.updateHiddenState(!1),t?.onScroll(!1)):(a>20||"end"===l)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}var u=n(785893);let p=64;function m({children:e,footerConfig:t,headerConfig:n,height:o,hideOnScroll:d,hideOnScrollState:{isHidden:c,updateHiddenState:m},noPadding:g,paddingY:_=3,type:h,zIndex:y}){let f,b;let{headerLimitedOverflow:S,ignoreObstructions:x,zIndexForGestaltBug:v}=n||{},{appUpsellFooterConfig:P,footerInLego:k,navFooterConfig:w}=t||{},T=!!P,I="header"===h?"top":"bottom",E=(0,r.vs)(),A=(0,i.useRef)(null),C=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!x){let e=A.current;C.current=S&&e&&Array.isArray(e.children)?e.children[0]:e,C.current instanceof HTMLElement&&s.Z.addObstruction(I,C.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!x&&C.current instanceof HTMLElement&&s.Z.removeObstruction(I,C.current)}},[x,S,I,E]);let R="top"===I?"relative":"fixed",j=(o??p)+(n?.overrideTop||0),L=d||w?{transition:k?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...c?{transform:`translateY(${"top"===I?-j:j}px)`,opacity:k?0:1}:Object.freeze({})}:{},F="relative"!==R||n?.noGutter?0:2,D=F?-F:0;return E&&("header"===h?f=-1:b=-1),(0,u.jsx)(a.xu,{ref:A,bottom:"footer"===h,dangerouslySetInlineStyle:{__style:{top:f,bottomStyle:b,...!y||v?{zIndex:v||1}:Object.freeze({}),...S?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...L}},"data-test-id":h,display:T?"flex":void 0,height:o&&!k?o:void 0,left:!0,marginEnd:k?"auto":D,marginStart:k?"auto":D,onTransitionEnd:()=>{(d||w)&&C.current&&(c?s.Z.removeObstruction(I,C.current):s.Z.addObstruction(I,C.current))},position:R,right:!0,top:"header"===h,width:k||"fixed"!==R?void 0:"100%",zIndex:v?void 0:y,children:(0,u.jsx)(a.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:n?.isTranslucent&&(E?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||n?.isTransparentBackground&&l.o7L||l.k95,height:k?T?void 0:o??p:"100%",boxShadow:k?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:k&&!w?.docked?16:void 0,...S?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:k||t?.alignCenter?"flex":void 0,marginEnd:k?"auto":void 0,marginStart:k?"auto":void 0,paddingX:("footer"!==h||g?0:4)+F,paddingY:g?0:_,position:"relative",rounding:k&&!w?.docked?"pill":void 0,width:w?w.footerWidth:T?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:m}):e})})}function g({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:l,noGutter:r,overrideTop:s,useRoundedCorners:o,zIndexForGestaltBug:d,...p}){let{noPadding:g,paddingY:_=3,zIndex:h}=p;return(0,u.jsx)(a.Le,{height:t?44+8*(g?0:_):void 0,top:s||0,zIndex:h||void 0,children:(0,u.jsx)(c,{hideOnScroll:p.hideOnScroll,children:a=>(0,u.jsx)(m,{...p,headerConfig:{isTranslucent:i,isTransparentBackground:l,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:r,overrideTop:s,zIndexForGestaltBug:d,useRoundedCorners:o},hideOnScrollState:a,type:"header"})})})}function _({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a,...l}){return(0,u.jsx)(c,{appUpsellFooterConfig:t,hideOnScroll:l.hideOnScroll,navFooterConfig:a?.scrollConfig,children:r=>(0,u.jsx)(m,{...l,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a},hideOnScrollState:r,type:"footer"})})}},160133:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(213377),l=n(403862),r=n(554786),s=n(785893);let o=({children:e,roundedForLargeDevice:t})=>{let n="phone"!==(0,r.ZP)()&&t;return(0,l.V)()?(0,s.jsx)(i.xu,{marginEnd:-a.D6,marginStart:-a.D6,overflow:n?"hidden":void 0,rounding:n?6:void 0,children:(0,s.jsx)(l.C,{value:!1,children:e})}):e}},179425:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(883119),a=n(213377),l=n(681508),r=n(403862),s=n(5859),o=n(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{let m=(0,s.B)(),g=(0,l.jd)(m.userAgent.platform)?l.Vf:0;return(0,o.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${g}px)`:c,paddingX:d?a.D6:void 0,paddingY:n||u?void 0:3,children:(0,o.jsx)(r.C,{value:!!d,children:e})})}},403862:(e,t,n)=>{n.d(t,{C:()=>l,V:()=>r});var i=n(667294);let a=(0,i.createContext)(!1),l=a.Provider,r=()=>(0,i.useContext)(a)},263148:(e,t,n)=>{n.d(t,{Se:()=>y,iw:()=>b,gV:()=>_,G3:()=>S,Gj:()=>f,Jd:()=>g,$3:()=>h});var i=n(29156),a=n(658583),l=n(622541),r=n(107366),s=n(460270);let o=e=>"string"!=typeof e&&e?e.state:null;var d=n(337478),c=n(940910),u=n(998449),p=n(797258),m=n(467139);let g=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},_=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),h=({location:e,pinId:t,surface:n})=>!!n&&!m.ZF.includes(n)||e.pathname.includes(t),y=(e,t)=>{let n=Math.round(1e3*Math.random())+"",i=Math.round(1e3*Math.random())+"";a.t8((0,l.GS)(n),i);let r={token:`${n}-${i}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,d.Z)(r)}`},f=(e,t)=>{(0,i.Z)(y(e,t),!0,t?.features)},b=async({clientTrackingParams:e,href:t,isMounted:n,pinId:i,spamCheckCallback:a})=>{let l=await (0,r.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!l.resource_response.error&&n){let{message:e,redirect_status:t,url:n}=l.resource_response.data||{};a({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:n})}},S=({event:e,onHistoryChange:t,href:n,history:a,target:l})=>{let r=(0,s.Z)(n),d=o(n)??{},m=(0,c.Z)(r);m===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===l?(0,i.Z)(r,"blank"===l):a&&m===p.Z.SAME_ORIGIN&&(a.push((0,u.Z)({url:r}),{from:a.location,...d}),t&&t({event:e}))}},340370:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(616550),l=n(798580),r=n(263148),s=n(96761),o=n(460270),d=n(862249),c=n(557874),u=n(953565);function p(e){let{externalData:t,href:n,onHistoryChange:p,target:m}=e,[g,_]=(0,i.useState)(null),[h,y]=(0,i.useState)(!1),f=(0,a.k6)(),b=(0,a.TH)(),S=(0,o.Z)(n),x=(0,d.Z)({url:S}),{showWarning:v}=(0,c.s)()??{},{pin:P,surface:k}=t||{},w=P?(0,l.Z)({boardUrl:P.board?.url,location:b,pinId:P.entityId,pinnerUserName:P.pinner?.username,storyPinDataId:P.storyPinDataId,trackingParams:P.trackingParams,trackingParamsMap:P.trackingParamsMap}):null,T=(0,s.Z)();return(0,i.useEffect)(()=>(y(!0),()=>{y(!1)}),[]),(0,i.useEffect)(()=>{x&&P&&null===g&&h&&(!P.promoter||P.isDownstreamPromotion)&&(0,r.$3)({location:b,pinId:P.entityId,surface:k})&&(0,r.iw)({clientTrackingParams:w,isMounted:h,pinId:P.entityId,spamCheckCallback:e=>_(e),href:S})},[w,P,k,S,x,h,b,g]),({event:e})=>{if(!(0,r.gV)({isOffsiteUrl:x,event:e})){if(e.preventDefault(),!n||"string"==typeof n&&n.startsWith("#")){(0,u.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:b.pathname,href:n}});return}x||t?.dangerouslyForceOffsiteUrl?T({auxData:t?.auxData,clientTrackingParams:w,pin:t?.pin&&{attributionSourceId:t.pin.attributionSourceId,campaignId:t.pin.campaignId,isPromoted:t.pin.isPromoted,pinPromotionId:t.pin.pinPromotionId,isThirdPartyAd:t.pin.isThirdPartyAd,advertiserId:t.pin.advertiserId,destinationUrl:t.pin.destinationUrl,link:t.pin.link,domain:t.pin.domain},pinId:t?.pin?.entityId,queryParams:t?.queryParams,showWarning:v,spamCheck:g,url:S}):(0,r.G3)({event:e,href:n,history:f,onHistoryChange:p,target:"blank"===m?"blank":null})}}}},96761:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(453880),a=n(934378),l=n(263032),r=n(86785),s=n(214877),o=n(263148),d=n(171966);let c=(e,t,n)=>{let i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(a.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(a.$N.ATTRIBUTE_ON,n),i.click()},u=(e,t,n,i,r,s,o,d)=>{let c=(0,l.m_)(e,[n,i,r],!0,s,o,d),u=document.createElement("a");u.setAttribute("href",t),u.setAttribute("target","_blank"),u.setAttribute("rel","noopener nofollow noreferrer"),u.style.cursor="pointer",u.style.display="block",u.setAttribute(a.NR.SOURCE,c),u.click()},p=()=>{let{logContextEvent:e}=(0,s.v)();return({attributionSourceId:t,auxData:n,campaignId:a,clientTrackingParams:l,href:s,isPromoted:d,pinId:p,pinPromotionId:m,isThirdPartyAd:g,advertiserId:_,destinationUrl:h,link:y,domain:f})=>{if(!d)return!1;let b=(0,i.Z)(),S=(0,o.Se)(s,{params:{pinId:p,csrId:null,clientTrackingParams:l,auxData:n,isThirdPartyAd:g}}),x=b?.userAgent.browserName??"";if((0,r.G6)(x)){let{group:n}=b?.experimentsClient.checkExperiment("m10n_event_conversion_measurement")??{},i=b?.userAgent.browserVersion?b.userAgent.browserVersion:"0.0",r=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&r>=14.1&&["enabled_safari"].includes(n))return c(t,S,s),e({event_type:101,clientTrackingParams:l,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:m||"",click_measurement_campaign_id:a||"",is_pcm:!0,attribution_source_id:t,page_url:s}}),!0}else if((0,r.i7)(x)&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))return u(t,S,h,y,f,a,_,b?.experimentsClient.checkExperiment("m10n_ara_hardcoded_reporting_url").anyEnabled),e({event_type:101,clientTrackingParams:l,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:m||"",click_measurement_campaign_id:a||"",is_arapi:!0,attribution_source_id:t,page_url:s}}),!0;return!1}},m=e=>{let t=p();return({auxData:n,clientTrackingParams:i,pin:a,pinId:l,queryParams:r,showWarning:s,spamCheck:c,url:u})=>{if("undefined"!=typeof window&&window.Windows){(0,d.Z)(u,{clientTrackingParams:i,pinId:l,hasPin:!!a,auxData:n,isThirdPartyAd:a?.isThirdPartyAd});return}if(!a&&!e?.isFromClickthroughLink){(0,o.Gj)(u,r?{queryParams:r}:{params:{pinId:l}});return}if(c?.blocked){s?.(c);return}a&&t({attributionSourceId:a.attributionSourceId,auxData:n,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:i,href:u,isPromoted:a.isPromoted,pinId:l,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null,destinationUrl:a.destinationUrl,link:a.link,domain:a.domain})||(0,o.Gj)(u,{params:{clientTrackingParams:i,auxData:n,pinId:l,isThirdPartyAd:a?.isThirdPartyAd}})}}},794658:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(953565);function a(e,t){return new Promise((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t){if(window.FB)n();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,(0,i.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}}else if("GSI"===t){if(window.google)n();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,(0,i.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}}else n()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>n()),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}})}},891162:(e,t,n)=>{n.d(t,{Q6:()=>c,ZP:()=>s,qe:()=>o,yU:()=>d});var i=n(520893);let a=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),l=e=>e;function r(e,t=a,n=l){return function(i){let a=[];return function(...l){let r=a.find(e=>t(e.args,n(l)));if(r)return r.result;let s=i(...l);return a.push({args:n(l),result:s}),e&&a.length>e&&a.shift(),s}}}let s=r(),o=r(1),d=r(void 0,a,e=>[JSON.stringify(e)]),c=r(0,(e,t)=>e.length===t.length&&e.every((e,n)=>(0,i.Z)(e,t[n])))},444781:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(201417);function a(e,t=!1){let n=(t,n)=>e(n);return e=>(function e(t,n=!1){return a=>{if(!(0,i.Z)(a))return n&&Array.isArray(a)?a.map(e(t,n)):a;let l={};return Object.keys(a).forEach(r=>{let s=t(a[r],r);(0,i.Z)(a[r])||n&&Array.isArray(a[r])?l[s]=e(t,n)(a[r]):l[s]=a[r]}),l}})(n,t)(e)}},996523:(e,t,n)=>{n.d(t,{Z:()=>function e(t,n,i=()=>void 0){let a=i(t,n);return void 0!==a?a:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce((t,a,l)=>(t[l]=e(t[l],n[l],i),t),[...t]):t&&"object"==typeof t&&n&&"object"==typeof n?Object.keys(n).reduce((t,a)=>(t[a]=e(t[a],n[a],i),t),{...t}):n}})},705895:(e,t,n)=>{function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});let a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},l=e=>{if(e.isHidden){let{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach(e=>e(t))}else a.windowInFocus=!0,a.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>l({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>l({isHidden:!1})),window.addEventListener("blur",()=>l({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>l({isHidden:!1})),window.addEventListener("pagehide",()=>l({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>l(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>l(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let r=a},510972:(e,t,n)=>{n.d(t,{P:()=>o,t:()=>d});var i=n(216167),a=n(107366);let l=()=>{};async function r(e,t){let n=i.Z.create("PinFeedbackResource",e);await n.callUpdate(),t()}let s={complaint:r,followBoard:async function({board_id:e},t,n){await (0,a.Z)({url:`/v3/boards/${e??""}/follow/`,method:"PUT"}),n({event_type:26,object_id_str:e}),t()},followPinner:async function(e,t){let n=i.Z.create("UserFollowResource",e);await n.callCreate(),t()},followTopic:async function(e,t,n){let a=i.Z.create("InterestFollowResource",e);await a.callCreate(),t(),n({event_type:601,object_id_str:e.interest_id})},newsHubPinHide:function(e,t){(0,a.Z)({url:e.undo?`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/undo/`:`/v3/news_hub/${e.news_id??""}/pin/${e.pin_id??""}/hide/`,method:"PUT"}).then(()=>t()),r({feedback_type:1,pin_id:e.pin_id,...e},t)},promotedComplaint:async function(e,t){let n=i.Z.create("PinFeedbackResource",e);await n.callUpdate(),t()},relatedPinHide:function(e,t){(0,a.Z)({url:e.undo?`/v3/p2p/${e.pin??""}/unhide/`:`/v3/p2p/${e.pin??""}/hide/`,method:"PUT"}).then(()=>t()),r({feedback_type:1,pin_id:e.pin,...e},t)},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:async function({board_id:e},t,n){await (0,a.Z)({url:`/v3/boards/${e??""}/follow/`,method:"DELETE"}),n({event_type:27,object_id_str:e}),t()},unfollowPinner:async function(e,t){let n=i.Z.create("UserFollowResource",e);await n.callDelete(),t()},unfollowTopic:async function(e,t,n){let a=i.Z.create("InterestFollowResource",e);await a.callDelete(),t(),n({event_type:602,object_id_str:e.interest_id})},unrelatedSearchPin:function(e,t){(0,a.Z)({url:e.undo?`/v3/search/${e.pin_id??""}/unhide/`:`/v3/search/${e.pin_id??""}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then(()=>t()),r({feedback_type:1,...e},t)}},o=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function d(e,t={},n=l,i){let a=e?s[e]:null;return a?a(t,n,i):n()}},899394:(e,t,n)=>{n.d(t,{EF:()=>p,Iv:()=>d,Ud:()=>o,hP:()=>s,nb:()=>u,oK:()=>c});var i=n(339001),a=n(510972),l=n(555933);let r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function s({boardFollowedByMe:e,feedbackType:t,viewParameter:n,promotion:i,recommendationReason:a,pinnerFollowedByMe:l}){if(i&&!i.isDownstreamPromotion)return"promoted";if(t)return t;if(a){if("FOLLOWED_INTEREST"===a.reason)return"topic";if("FOLLOWING_FEED"!==a.reason&&"RECENT_FOLLOWED_BOARD"!==a.reason)return a.hasBoard?"pfyBoard":"pfy"}if(e||l)return"followed";switch(n){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function o({feedback:e,i18n:t,makeNavigateLink:n}){switch(e.type){case"pfy":return t._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":let{recommendationReasonBoard:a}=e;return a?(0,i.nk)(t._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:n("navigation",a.url,a.name)}):null;case"topic":let{sourceInterest:l}=e;return l?(0,i.nk)(t._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:n("topicUrl",`/topics/${l.url_name}`,l.name)}):null;case"followed":let{followed:s}=e;return"pinner"===s.type?(0,i.nk)(t._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:n("pinnerUrl",`/${s.pinner?.username??""}`,r(s.pinner?.full_name??""))}):(0,i.nk)(t._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:n("boardUrl",s.board?.url??"",r(s.board?.name??""))});case"promoted":let{promotedIsPersonalized:o,isEligibleForPromotedPartnership:d,promotedPartnershipAttributionName:c,promotedPartnershipAdvertiserName:u}=e.thirdPartyAdAttributes||{};if(!o&&d)return(0,i.nk)(t._('{{ promotedPartnershipAdvertiserName }} paid, through a partnership with {{ promotedPartnershipAttributionName }}, to have this Pin show up where you\'d be more likely to notice it', 'feedbackHelpers.getRecommendationDescription.promoted.thirdParty', 'Recommendation description for ads with promoted partnership. promotedPartnershipAdvertiserName:Name of advertiser, promotedPartnershipAttributionName:Name of promoted partner'),{promotedPartnershipAdvertiserName:u,promotedPartnershipAttributionName:c});if(!e.promoter||o)return t._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');{let{full_name:a,username:l}=e.promoter,r=n("promotedLink",l?"/"+l+"/":"/",a);return(0,i.nk)(t._('{{ promoterLink }} paid to have this Pin show up where you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:r})}default:return null}}function d({sourceInterest:e,i18n:t,makeNavigateLink:n}){return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:l.X},title:"",subTitle:(0,i.nk)(t._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:n("topicUrl",`/topics/${e.url_name??""}`,e.name??"",!0)})}}function c({boardId:e,display:t,i18n:n,makeNavigateLink:a}){return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===t.type?(0,i.nk)(n._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:a("pinnerUrl",`/${t.data.username??""}`,t.data.full_name??"",!0)}):(0,i.nk)(n._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:a("boardUrl",t.data.url??"",t.data.name??"",!0)})}}function u(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,t,n,i,l,r){return()=>{let s={...e,undo:!0},o=t;"unfollowPinner"===t?o="followPinner":"unfollowBoard"===t?o="followBoard":"unfollowTopic"===t&&(o="followTopic"),(0,a.t)(o,s,void 0,r),l(),r({event_type:101,component:0,element:11181,view_type:n??void 0,view_parameter:i})}}},771177:(e,t,n)=>{n.d(t,{Z:()=>a});let i={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_TML_PRODUCT_PINS:212,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,PINNABILITY_FRESH_PRODUCT_PIN_EMBEDDINGS:209,PINNABILITY_TML_PRODUCT_PIN_EMBEDDINGS:213,PINNABILITY_MULTI_EMBEDDINGS:210,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,NOTIF_DIRECT_INJECT:207,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,ORGANIC_COENGAGEMENT:211,RECBOOST_SHOPPING:214,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_RECONSIDERATION_MODULE_PINS:215,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,SHOPPING_PRODUCT_CATEGORY_ON_SALE_MODULE_PINS:216,SHOPPING_BEST_SELLING_PRODUCT_CATEGORY_MODULE_PINS:217,SHOPPING_SHOP_SEARCH_MODULE_PINS:208,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202};function a({feedbackData:e,feedbackType:t,pinId:n,pinFeedbackType:a,recommendationReason:l,complaintReason:r,clientTrackingParams:s,isThirdPartyAd:o}){switch(t){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:e?.query,pin_id:n}};case"related":return{action:"relatedPinHide",actionOptions:{pin:n}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pin_id:n,news_id:e?.newsId}};default:var d;let c="promoted"===t,u=(d=l?.reason)&&i[d],p=l?.reasonId??l?.board?.entityId,m={complaint_reason:r||0,pin_id:n,feedback_type:a||1,promoted:c};return u&&(m.recommendation_reason_id=u),p&&(m.through_id=p),l?.throughProperties&&(m.through_properties=l.throughProperties.reduce((e,t)=>{let{key:n,data:i}=t;return n&&(e[n]=[...e[n]||[],...i||[]]),e},{})),s&&(m.client_tracking_params=s),o&&(m.is_third_party_ad=o),{action:c?"promotedComplaint":"complaint",actionOptions:m}}}},391884:(e,t,n)=>{n.d(t,{Z:()=>i});function i({embedSrc:e,embedType:t,imagesUrls:n,preferredResolution:i,excludeOriginals:a}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";if(!n)return"";if(i){let e="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(e)return e}let l=Object.keys(n).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:n[t]};return{...e,[i]:n[t]}}catch(t){return e}},{}),r=Object.keys(l);return a&&"orig"===r[r.length-1]&&r.pop(),l[r.pop()]||""}},456299:(e,t,n)=>{n.d(t,{Z:()=>r}),n(167912);var i,a=n(259743);let l=void 0!==i?i:i=n(927222),r=e=>{let t=(0,a.Z)(l,e),n=null;return t?.trackingParamsMap&&(n=t.trackingParamsMap.reduce((e,t)=>t?.key?{...e,[t.key]:t.data??""}:e,{})),n}},559655:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(100896);function a({countryFromIp:e,isBot:t,isDesktop:n,pinnerConnectionType:a,shouldRenderSIIP:l}){return l?"236x":n?void 0:(0,i.Z)(e||"",t,n)&&["Dialup","Cellular"].includes(a)?"236x":"736x"}},180593:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(567344);let a=e=>(e||"").trim().replace(/\s+/g," "),l=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:l,closeupDescription:r,closeupUnifiedDescription:s,seoDescription:o,seoNoindexReason:d})=>d&&i.eg.has(d)?a(o):e?a(t):a((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:l,closeupUnifiedDescription:s}).description)||a(s||"")||a(r)||a(t)||a(n)||""},887582:(e,t,n)=>{n.d(t,{Z:()=>i});function i(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},558273:(e,t,n)=>{n.d(t,{NK:()=>h,P6:()=>l,ZE:()=>g,Zt:()=>_,_J:()=>o,_S:()=>y,cL:()=>p,jL:()=>s,oN:()=>a,rM:()=>m,sV:()=>d,sY:()=>c});var i=n(115557);let a=5e3,l=5e3/i.gJ,r=["Uploaded by user"],s=(e,t)=>!!t&&!e,o=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),c=e=>!!e&&"gif"===e,u=e=>"pinstory"===e,p=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!c(n)&&!u(t),m=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,g=e=>/pin.it/gim.test(e||""),_=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",h=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e){for(let t of r)if(e===t)return!1;return!0}},567344:(e,t,n)=>{n.d(t,{eg:()=>r,kt:()=>_,rw:()=>m,fs:()=>c,eK:()=>u,Ly:()=>p,BY:()=>g,bN:()=>h,RC:()=>o,EU:()=>d});let i=/\s\s+/g,a=e=>e.replace(i," ");var l=n(564855);let r=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),s=e=>"string"==typeof e?e:"",o=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,d=(e,t)=>e?e.trim().length>t?(0,l.ZP)(e.trim(),t).trim():e.trim():"",c=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l})=>{let r=l||e,s=d(t,200);return s||n||i||(a&&r?r:null)},u=e=>{let{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",s=e.closeupUnifiedDescription||"",o=n.map(e=>(i||{})[e]||{name:e,url:""}),d="",c=(t||"").toLocaleLowerCase().trim(),u=r.toLocaleLowerCase().trim(),p=s.toLocaleLowerCase().trim();return s&&s.length>3&&p!==c?d=s:r&&r.length>3&&u!==c&&(d=r),d&&(d=a((0,l.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:o}},p=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l,pinJoinVisualAnnotation:s,seoNoindexReason:o,seoTitle:d})=>r.has(o??"")?d:c({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l})||s?.[0]||e,m=(e,t,n,i,a)=>{let l=s(e).trim(),r=(e,t)=>t&&t.length>0?`${e} ${t.join(", ")}`:e;return i&&i.trim().length?r(i.trim(),n):a&&a.trim().length?a.trim():l?r(l,n):n?n.join(", "):""},g=e=>`/pin/${e}/`,_=(e,t)=>{let n=`Pinterest video from ${t}: `.concat(e);return""===t?e:n},h=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:g(e)},661428:(e,t,n)=>{n.d(t,{Z:()=>r}),n(167912);var i,a=n(207012);let l=void 0!==i?i:i=n(890030),r=e=>{let t=(0,a.Z)(l,e);return[["60x60",t?.imageSpec_60x60],["136x136",t?.imageSpec_136x136],["170x",t?.imageSpec_170x],["236x",t?.imageSpec_236x],["474x",t?.imageSpec_474x],["564x",t?.imageSpec_564x],["736x",t?.imageSpec_736x],["600x315",t?.imageSpec_600x315],["orig",t?.imageSpec_orig]].reduce((e,[t,n])=>n?{...e,[t]:n.url}:e,{})}},414131:(e,t,n)=>{n.d(t,{Z:()=>i});function i({hasPin:e,hasPinRichMetadata:t,hasPinRichMetadataProducts:n,hasPinRichMetadataArticle:i,hasPinRichMetadataRecipe:a,hasPinStoryPinData:l}){if(e){if(t)return n?144:i?141:a?145:139;if(l)return 157}return 140}},776427:(e,t,n)=>{n.d(t,{GH:()=>o,JF:()=>y,Jb:()=>m,MI:()=>_,_V:()=>d,sl:()=>u,we:()=>p});var i=n(11109),a=n(107366),l=n(794658),r=n(990822),s=n(217058);let o="274266067164",d=()=>["public_profile","email","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:o,status:!0,xfbml:!0,version:"v2.7"})):e?(0,s.dy)({event:"global_object_not_found",provider:"facebook"}):(0,s.My)("pcons.non_autologin.fb.global_object_not_found")},p=(e,t)=>(t&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,l.Z)((0,r.Z)(e),"FACEBOOK").then(()=>u(t))),m=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),g=({userID:e,accessToken:t,data:{birthday:n,email:a,first_name:l,gender:r,last_name:s,picture:o}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,i.Z)(n):void 0,email:a,first_name:l,gender:r,image_url:o&&!o.data.is_silhouette?o.data.url:void 0,last_name:s});async function _(e){let t=(await (0,a.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:c}})).resource_response.data||{};return(0,s.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let h=(e,t)=>new Promise((n,i)=>{if("connected"!==e.status){i({status:e.status||"unknown"});return}let{userID:a,accessToken:l}=e.authResponse;_(l).then(e=>{n({creds:{facebook_id:a,facebook_token:l,facebook_autologin:t?.autologin||!1},signupOptions:g({userID:a,accessToken:l,data:e})})},i)}),y=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>h(e))},990822:(e,t,n)=>{n.d(t,{Z:()=>a});let i=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},a=e=>`//connect.facebook.net/${i(e)}/sdk.js`},11453:(e,t,n)=>{n.d(t,{JZ:()=>g,Qs:()=>m,jr:()=>_});var i=n(224796),a=n(86785),l=n(340523),r=n(5859),s=n(731714),o=n(554786);let d={auth_dweb_google_fedcm_onetap_modal:122,auth_mweb_google_fedcm_onetap_modal:122,dweb_google_chrome_fedcm_exempt_idp_autologin_delay:121,mweb_google_chrome_fedcm_exempt_idp_autologin_delay:121},c=["auth_dweb_google_fedcm_onetap_modal","dweb_google_chrome_fedcm_exempt_idp_autologin_delay"],u=["auth_mweb_google_fedcm_onetap_modal","mweb_google_chrome_fedcm_exempt_idp_autologin_delay"],p=(e,t,n,i)=>e.some(e=>{let a=d[e]||116,l=!e.startsWith("auth_")||i;return n>=a&&l&&t(e).anyEnabled}),m=e=>e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected&&!s.Z.getItem(i.tr),g=(e,t,n,i)=>{let l=n.browserVersion?parseInt(n.browserVersion.split(".")[0],10):0;return(0,a.i7)(n.browserName??"")&&(e&&p(c,t,l,i)||!e&&"android"===n.platform&&p(u,t,l,i))},_=e=>{let t=(0,o.HG)(),{checkExperiment:n}=(0,l.F)(),{userAgent:i}=(0,r.B)();return m(e)&&g(t,n,i,e.isAuth)}},555933:(e,t,n)=>{n.d(t,{X:()=>i});let i="favorited"},612541:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(140017),l=n(339001),r=n(629650),s=n(785893);function o(){return (0, a.ZP)()._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function d({freeShippingPrice:e}){let t=(0,a.ZP)();return(0,l.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function c({customStyles:e,showPrevDot:t,freeShippingPrice:n,freeShippingValue:a}){let l;let c=t?[""]:[],{color:u="subtle",size:p="200"}=e||{};return Number.isFinite(a)?(0===a?l=(0,s.jsx)(o,{}):n&&(l=(0,s.jsx)(d,{freeShippingPrice:n})),l&&c.push((0,s.jsx)(i.kC,{direction:"row",children:l})),0===c.length)?null:(0,s.jsx)(i.xv,{color:u,size:p,children:(0,s.jsx)(r.Z,{color:u,items:c})}):null}},448318:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(262032),l=n(785893);let r=e=>document.querySelector(`img[src="${e}"]`)||null,s=(e,t,n)=>{let a=(0,i.useRef)(null),l=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(e!==a.current||n&&n!==l.current){a.current=e;let n=r(e);n?.complete&&t()}l.current=n},[e,t,n])};function o({alt:e,children:t,color:n,elementTiming:i,isActive:r=!1,naturalHeight:o,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return s(u,c,r),(0,l.jsx)(a.Z,{alt:e,color:n,elementTiming:i,fit:p,naturalHeight:o,naturalWidth:d,onLoad:c,src:u,children:t})}},297315:(e,t,n)=>{n.d(t,{cA:()=>z,fM:()=>H,N5:()=>V});var i=n(667294),a=n(616550),l=n(707671),r=n(194087),s=n(939129),o=n(760890),d=n(45528),c=n(485756),u=n(643778),p=n(302234),m=n(371626),g=n(663678),_=n(396596);let h=({botType:e,browserName:t,deviceType:n,region:i})=>{let a=`pwtlogger.${e}.${n}`,l=["all",...i?[i.toLowerCase()]:[]];"OTHER"!==i&&l.push("ALL_EXCLUDING_OTHER");let r=[];"desktop"===n?("Chrome"===t||"Edge"===t||"Safari"===t||"Firefox"===t||"Opera"===t)&&(r=[t.toLowerCase().replace(/\s/g,"_")]):"phone"===n?("Chrome"===t||"Mobile Safari"===t||"Samsung Browser"===t||"Chrome WebView"===t||"GSA"===t)&&(r=[t.toLowerCase().replace(/\s/g,"_")]):"tablet"===n&&"Chrome"===t&&(r=[t.toLowerCase().replace(/\s/g,"_")]);let s=["all",...r],o=[];return l.forEach(e=>{s.forEach(t=>{o.push(`${a}.region_${e}.browser_${t}`)})}),o};var y=n(865611),f=n(421715);let b=e=>10*Math.round(e/10);var S=n(237040),x=n(953565);let v={pin_closeup:{LCP:"pin_closeup_lcp",INP:"pin_closeup_inp"},board:{LCP:"board_lcp",INP:"board_inp"},other_profile:{LCP:"other_profile_lcp",INP:"other_profile_inp"},topic:{LCP:"topic_lcp",INP:"topic_inp"}},P=["CA","GB","DE","FR","AU","JP","BR","MX","AU","IN"],k=({surface:e,pwtStaticContext:t})=>{switch(e){case"pin_closeup":return[(0,S.Uw)({isDesktop:"desktop"===t.deviceType,viewerType:t.isBot&&"bot"||t.isAuthenticated&&"auth"||"unauth"}),t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];case"board":return[t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];default:return[]}},w=({pwtStaticContext:e,surface:t})=>{let n=(0,u.Jx)({annotateExperiments:k({surface:t,pwtStaticContext:e}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:v[t].LCP,pwtStaticContext:e}),i=(0,u.Jx)({name:v[t].INP,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"INP"===e&&i.stop(t)}},T=({pwtStaticContext:e,surface:t,getCurrentRoute:n})=>{let i=w({pwtStaticContext:e,surface:t}),{isAuthenticated:a,isBot:l,isSocialBot:r,deviceType:s,country:o,fullPath:u,browserName:S,osName:v}=e,k={},T=({name:d,value:p,metricDetails:b})=>{if(!k[d]){let w;k[d]=!0;let T=(0,g.Z)(e),I=`${T}.${t}.${d}`,E=`${T}.tags.${t}.${d}`;if(w="iOS"===v&&"Chrome"===S?"iOS_Chrome":"CrUX","LCPCount"===d)(0,x.QX)(`${I}.sum`,p,{sampleRate:1}),(0,x.nP)(`${I}.size`,{sampleRate:1});else{let e=(0,m.Z)(o),g=(0,_.Z)(u);if("INP"===d){if(b){let{rating:t,navigationType:i}=b,{interactionTime:l,interactionType:r,loadState:s}=b.attribution,o=(0,y.Z)(l),{path:d}=n(),u={isAuth:a,path:d,CrUXSegment:w,region:e,CWVBucket:t,eventTimeGroup:o,interactionType:r,loadState:s,navigationType:i,domain:(0,c.xR)(document.domain||"unknown")};if((0,x.LY)(`${I}`,p,{sampleRate:1}),(0,x.LY)(`${E}`,p,{sampleRate:1,tags:u}),"Chrome"===S&&b.attribution){let e=(0,f.b)(b);e&&(0,x.LY)(`${I}.INPBoundary`,p,{sampleRate:1,tags:{...u,INPBoundary:e}}),["inputDelay","processingDuration","presentationDelay"].forEach(e=>{(0,x.LY)(`${I}.${e}`,b.attribution[e],{sampleRate:1,tags:u})})}}}else"LCP"===d?((0,x.LY)(`${I}`,p,{sampleRate:1}),(0,x.LY)(`${E}`,p,{sampleRate:1,tags:{isAuth:a,CrUXSegment:w,region:e,...g&&{pinType:g}}})):"CLS"===d&&((0,x.LY)(`${I}`,100*p,{sampleRate:1}),(0,x.LY)(`${E}`,100*p,{sampleRate:1,tags:{isAuth:a,CrUXSegment:w,region:e}}));!a&&P.includes(o)&&h({botType:r&&"socialBot"||l&&"bot"||"nonbot",browserName:S,deviceType:s,region:e}).forEach(e=>{(0,x.LY)(`${e}.tags.growthSEO.${t}_${d}`,p,{sampleRate:1,tags:{country:o}})}),i(d,p)}}};(0,d.NO)(({value:e})=>{T({name:"LCPCount",value:(0,p.Kj)()}),T({name:"LCP",value:b(e)})}),(0,d.a4)(({value:e})=>{T({name:"FCP",value:e})}),(0,d.Yn)(e=>{T({name:"INP",value:e.value,metricDetails:e})}),(0,d.mw)(({value:e})=>{T({name:"CLS",value:e})})};var I=n(297329),E=n(107860);let A=(0,n(608029).XV)("LayoutShiftDebugger"),C=e=>e<=.1?"good":e<=.25?"adequate":"poor",R=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&R(e.parentNode)||null,j=e=>Math.round(1e3*e),L=[],F=e=>{let t=Object.freeze({}),n=0;L.forEach(({value:e,shift:{sources:i},route:a,params:l,hadRecentNavigation:r,hadRecentScroll:s,isAuth:o})=>{if(n+=e,!i||!i.length)return;let d=e/i.length;i.forEach(({node:e})=>{let n=e?R(e)||"ROOT":"NODE_REMOVED",i={route:a,searchScope:l&&l.scope?l.scope:"none",boundaryId:n,hadRecentNavigation:r,hadRecentScroll:s,isAuth:o,domain:(0,c.xR)(document.domain||"unknown")},u=JSON.stringify(i);t={...t,[u]:{score:((t[u]||{}).score||0)+d,tags:i}}})}),Object.keys(t).forEach(n=>{let{score:i,tags:a}=t[n];(0,x.QX)(`${e}.shifts`,j(i),{sampleRate:1,tags:{...a}}),(0,x.LY)(`${e}.shifts`,j(i),{sampleRate:1,tags:{...a}})}),A("Debug CLS boundaries",n,t,L),L=[]},D=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{let i;let a=(0,u.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e}),l=0,r=e=>{l=e.timeStamp};window.addEventListener("scroll",r),window.addEventListener("beforeunload",()=>{window.removeEventListener("scroll",r)});let s=`${(0,g.Z)(e)}.CLS`,o=()=>F(s),c=0,p=0,m=0;(0,d.mw)(({entries:a,value:r})=>{if(m=r||0,a.length){let{path:s,params:o}=t();i=n();let d=a[0].startTime,u=c!==d,m=u?a:a.slice(p);u&&(c=d),L=L.concat(m.map(t=>({value:r,shift:t,route:s,params:o,hadRecentNavigation:i>0&&i+500>t.startTime,hadRecentScroll:l>0&&l+500>t.startTime,isAuth:e.isAuthenticated}))),p=a.length}},!0);let _=setInterval(()=>{if(L.length){o();let e=C(m);(0,x.QX)(`${s}.${e}`,1,{sampleRate:1}),(0,x.LY)(`${s}.${e}`,1,{sampleRate:1}),a.stop(j(m))}},1e3);window.addEventListener("beforeunload",()=>{clearInterval(_),0===m&&a.abort("no_shifts_detected")})};var O=n(279600),N=n(785893);let M=(0,i.createContext)(null),Z=(0,i.createContext)(null),B=()=>{(0,I.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||(0,I.A9)(`not_supported.window.performance.${e}`)}):(0,I.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,I.A9)("not_supported.window.PerformanceObserer"),(0,o.v)()||(0,I.A9)("not_supported.grid_profiler")},U=()=>window.performance?.now?window.performance.now():null,K=e=>["/advertiser/"].reduce((t,n)=>e.includes(n)||t,!1);function z({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:o,staticContext:d}){let c=(0,i.useRef)(null),u=(0,i.useRef)(null),m=(0,i.useRef)(t),g=(0,i.useRef)(!0),{path:_,params:h}=(0,a.$B)(),y=(0,i.useRef)(_),f=(0,i.useRef)(h),b=!d.isCachedRender&&(0,l.Z)(d.deviceType);if((0,i.useEffect)(()=>{y.current=_},[_]),(0,i.useEffect)(()=>{f.current=h},[h]),(0,i.useEffect)(()=>{if((0,O.X_)({size:n||1e3}),(0,p.UQ)(),B(),g.current=!1,b&&!r.is&&"Chrome"===d.browserName){D({staticContext:d,getCurrentRoute:()=>({path:y.current,params:f.current}),getLastNavigationTime:()=>u.current||0});let e=(0,s.e)(y.current);e&&T({pwtStaticContext:d,surface:e,getCurrentRoute:()=>({path:y.current})})}},[]),K(t.pathname)?m.current.pathname!==t.pathname:m.current!==t){m.current=t,u.current=U();let{current:e}=u;if(!g.current){let t=!c.current;(0,I.A9)("routeStart",{tags:{action:o}}),(0,O.Eg)(t),(0,p.Ux)(t),(0,p.on)(),(0,E.tl)();let{customBufferSize:n,defaultBufferSize:i}=(0,O.LH)();e&&((0,I.A9)("routeStart.customBufferSize",{count:n}),(0,I.A9)("routeStart.defaultBufferSize",{count:i}),c.current={time:e,action:o})}}return(0,N.jsx)(M.Provider,{value:b?d:null,children:(0,N.jsx)(Z.Provider,{value:c.current,children:e})})}let H=()=>(0,i.useContext)(Z),V=()=>(0,i.useContext)(M)},603642:(e,t,n)=>{n.d(t,{Z:()=>ee});var i=n(667294),a=n(705895),l=n(685679),r=n(608029),s=n(297329),o=n(107860),d=n(297315),c=n(906623),u=n(521525),p=n(819281),m=n(793250),g=n(309300);let _=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,g.jh)("constraint_",e),...(0,g.jh)("mark_",(0,o.gQ)()),...(0,g.jh)("browser_",{...t?(0,g.D3)(t):{},...(0,g.rX)()})});var h=n(840387);let y=(e,t)=>[...e.map(e=>(0,h.Z)(e,t)).filter(Boolean)];var f=n(302234),b=n(663678),S=n(953565);let x=e=>e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",v=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:a="allResources"})=>{let l=i.length;if(l>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){let r=[...i].sort((e,t)=>e.fetchStart-t.fetchStart),s=[...i].sort((e,t)=>e.responseEnd-t.responseEnd),o=1,d=t/5,c=0;for(;o<=5;){let t=0;for(;c<=l-1&&r[c].fetchStart<=d*o;)c+=1,t+=1;(0,S.S0)(`${e}.tags.${a}.fetchStartInterval${o}of5`,t,{sampleRate:.2,tags:n}),(0,S.S0)(`${e}.${a}.fetchStartInterval${o}of5`,t,{sampleRate:.2}),o+=1}let u={zeroPercentInFlight:r[0].fetchStart,twentyFivePercentInFlight:r[Math.floor(l/4)].fetchStart,fiftyPercentInFlight:r[2*Math.floor(l/4)].fetchStart,seventyFivePercentInFlight:r[3*Math.floor(l/4)].fetchStart,hundredPercentInFlight:r[l-1].fetchStart,twentyFivePercentComplete:s[Math.floor(l/4)].responseEnd,fiftyPercentComplete:s[2*Math.floor(l/4)].responseEnd,seventyFivePercentComplete:s[3*Math.floor(l/4)].responseEnd,hundredPercentComplete:s[l-1].responseEnd};for(let t in u)u[t]&&((0,S.LY)(`${e}.tags.${a}.${t}`,u[t],{sampleRate:.2,tags:n}),(0,S.LY)(`${e}.${a}.${t}`,u[t],{sampleRate:.2}))}},P=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:a})=>{let l=`${(0,b.Z)(a)}.${i.surface}`,r=[l];e&&e.forEach(e=>{let t=a.getExperimentGroup(e)||"null";r.push(`${l}.${e}.${t}`)});let s={lcpTimingBucket:x((0,f.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},o=Array.from(n.filter(e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t)),d=[],c=[],u=[],p=[],m=[];o.forEach(e=>{"img"===e.initiatorType?d.push(e):"css"===e.initiatorType?c.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&m.push(e)}),r.forEach(e=>{v({eventPrefix:e,endTime:t,tags:s,resourceArr:o}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:d,resourceType:"image"}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:c,resourceType:"css"}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:u,resourceType:"scripts"}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:p,resourceType:"xhr"}),v({eventPrefix:e,endTime:t,tags:s,resourceArr:m,resourceType:"preloadedImage"})})};var k=n(279600);let w=({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime,T=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:a,imageTimings:l,metricId:r,pwtStaticContext:s,startTime:o,traceId:d,spans:c})=>{let g;let h=(0,k.Cg)();"initial_app_load"===r.navigationType&&(g=(0,p.Z)());let f=l.map(({name:e})=>e),b=h.map(e=>(0,m.p)(e,f)).filter(({timing:e})=>!w(e,{startTime:o,endTime:a}));return("board"===r.surface||"pin_closeup"===r.surface)&&P({annotateExperiments:e,endTime:a,entries:h,metricId:r,pwtStaticContext:s}),{type:"COMPLETE",traceId:d,startTime:o,endTime:a,spans:y(b,d).concat(c),annotationMap:_({constraintMap:i,initialNavTiming:g,annotations:t}),binaryAnnotationMap:(0,u.rA)({annotateExperiments:e,binaryAnnotations:n,entries:h,metricId:r,performanceResources:b,pwtEndTime:a,pwtStaticContext:s})}};var I=n(404373);let E=!1,A=(e,t)=>{if(e&&t){if(!E)return E=!0,t;(0,s.H)("duplicated_initial_app_load_surface_pwt")}return(0,I.Z)()};var C=n(363404),R=n(367180);let j=e=>{let t=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(e=>{let n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){let n=R.rZ(e)?.width||1,a=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){let n=R.rZ(e)?.width||1,a=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:a,ratio:a/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(t=>{let{ratio:n,fileName:i,downloadedSize:a}=t;t.ratio>1.05&&(0,s.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${a}_${i}`}})})};var L=n(970126),F=n(5859);let D=(e,t)=>{let n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var O=n(184960),N=n(785893);let M=["initial_app_load","client_route_push"],Z=(0,r.XV)("PwtSurface"),B="NavigationComplete",U="VisuallyComplete",K=(e,t)=>{e.isSampled&&(0,C.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},z=(e,t,n)=>{let{metricConfig:{metricId:i,pwtStaticContext:a,annotateExperiments:r},annotations:d,binaryAnnotations:c,constraintMap:u,startTime:p,imageTimings:m,isSampled:g,spans:_}=e;(0,o.L8)(`PWT_Complete_${(0,l.KJ)(i)}`);let h=A("initial_app_load"===i.navigationType,a.serverData?.trace_id),y=T({annotateExperiments:r,annotations:d,binaryAnnotations:c,constraintMap:u,endTime:t,imageTimings:m,metricId:i,pwtStaticContext:a,startTime:p,traceId:h,spans:_});g&&!n&&(0,C.Z)({metricId:i,pwtStaticContext:a,result:y});try{j(String(y.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return{...e,result:y,status:"DONE"}},H=(e,t)=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let n=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return z(e,n,t)}return Z(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},V=(e,t)=>{let{constraint:n,time:i,disablePWTLogging:a}=t,r=(0,l.KJ)(e.metricConfig.metricId);return L.Z?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(Z(`constraint "${n}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:n,action:r}),e):(Z(`marking constraint "${n}" as complete`),(0,o.ZP)(`constraint_${n}_is_complete`),H({...e,constraintMap:{...e.constraintMap,[n]:i||L.Z.now()}},a)):(Z(`marked constraint "${n}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:r}),e)},G=(e,t)=>{if(!L.Z){let t=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}Z(`removing constraint "${t}"`);let n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:i,...a}=e.constraintMap;return H({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:n}})},$=(e,t)=>{if(!L.Z){let t=(0,l.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}Z(`updating pwt segment to "${t}"`);let n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}},W=(e,t)=>{let{metricConfig:n,startTime:i,isSampled:a,disablePWTLogging:r}=t;if(r||"TIMING"!==e.status||i===e.startTime||K(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};let o=(0,l.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap[B]?((0,s.H)("duplicated_init_route_action",{action:o}),e):(r||("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,s.A9)(`TIMING.${o}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${o}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.5})):((0,s.A9)(`TIMING.${o}`),(0,s.A9)(`TIMING.sampled.${o}`,{sampleRate:.5}))),V({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:B,disablePWTLogging:r}))},q=(e,t)=>{if(Z("dispatch action",t),"INIT_ROUTE"===t.type)return W(e,t.payload);if("TIMING"!==e.status)return Z(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":K(e,t.reason);let n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":let{name:i}=t.payload;if(!L.Z)return e;let a=L.Z.now();return Z(`adding annotation {${i}: ${a}}`),{...e,annotations:{...e.annotations,[i]:a}};case"BINARY_ANNOTATE":let{name:r,value:o,annotationType:d}=t.payload;return Z(`adding binary annotation {${r}: ${o}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:o,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return V(e,t.payload);case"REMOVE_CONSTRAINT":return G(e,t.payload);case"SET_SEGMENT":return $(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:n}}=t;if(0===n.length)return K(e,"visuallyComplete_noImages"),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let i=Math.max(...n.map(e=>e.responseEnd||0));return V({...e,imageTimings:n},{constraint:U,time:i})}case"ADD_SUBSPAN":let{startTime:c}=e,{payload:{name:u,startTime:p,endTime:m,annotations:g,binaryAnnotations:_,parentId:h}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,I.Z)(),startTime:p||c,endTime:m,annotationMap:{...g},binaryAnnotationMap:{..._},parentId:h}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,I.Z)(),startTime:L.Z?L.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let y=e.spans.findIndex(e=>e.name===t.payload.name);return y>-1?(e.spans[y].endTime=L.Z?L.Z.now():0,t.payload.annotations&&(e.spans[y].annotationMap={...e.spans[y].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[y].binaryAnnotationMap={...e.spans[y].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let f=(0,l.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:f}),e}},Y=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},X=new Set,J=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:l,annotateExperiments:r,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:o,navigationType:c},sampleRate:u})=>{let p=(0,i.useRef)("NOT_SET"),m=(0,d.N5)(),{getState:g,dispatch:_}=D(q,{status:"DISABLED",metricConfig:null}),h=(0,F.B)();if(p.current!==o&&(p.current=o,m)){let{isAuthenticated:i}=m,a=e&&c&&(s||M).includes(c)?{metricId:{type:"surface",surface:e,navigationType:c,isAuthenticated:i,segment:n},annotateExperiments:r,constraints:[B,...t||[],...l?[U]:[]],pwtStaticContext:m}:null;(0,S.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:c,isAuthenticated:i}});let d=!X.has(o);_({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:o?o.time:0,isSampled:!u||Math.random()<u,disablePWTLogging:!d}}),d&&X.add(o)}let y=g();if((0,i.useEffect)(()=>()=>{X.delete(o)},[o]),(0,i.useEffect)(()=>{let e=e=>{_({type:"ABORT",reason:e})};a.Z.onSessionPause(e);let t=window.innerHeight,n=window.innerWidth,i=()=>{let e=Math.abs(window.innerHeight-t),a=Math.abs(window.innerWidth-n),l=window.innerHeight!==t,r=window.innerWidth!==n,s={handler:(0,O.H)(),deviceType:m?.deviceType??"unknown",isAuthenticated:m?.isAuthenticated??"unknown",platform:h.userAgent.platform??"unknown"};if((0,S.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:l,widthChanged:r}}),l&&(0,S.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),r&&(0,S.S0)("webapp.PwtLogger.resizeWidthDelta",a,{sampleRate:1,tags:s}),window.removeEventListener("resize",i),m?.deviceType==="phone"&&(!r&&l&&e<=150||!l&&!r)||m?.deviceType==="desktop"&&!l&&!r){(0,S.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:l,widthChanged:r}});return}_({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",i),()=>{let t=g();Z("handling unmount",t),"TIMING"===t.status&&K(t,"unmount"),a.Z.removePauseListener(e),window.removeEventListener("resize",i)}},[]),"TIMING"!==y.status||!y.constraintMap[B])return{state:y,context:null};let{startTime:f,metricConfig:b}=y;return{state:y,context:{abort:e=>_({type:"ABORT",reason:e}),addAnnotation:e=>_({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>_({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},a={},l=null)=>_({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:l}}),getId:()=>f,getMetricId:()=>b.metricId,markConstraintComplete:e=>_({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:L.Z?L.Z.now():0}}),removeConstraint:e=>_({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>_({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:b.constraints.includes(U)?e=>_({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>_({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>_({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}},Q=()=>{let e=(0,c.E)(),t=!!e;(0,i.useEffect)(()=>{if(t){let t=e?.getMetricId(),n=t?(0,l.KJ)(t):null;(0,s.H)("nested_pwt_surface",{action:n})}},[t])};function ee({children:e,...t}){let n=(0,d.fM)(),i=Y(n),a=t.measureGridVisuallyComplete?["web_masonry_v2_auth","web_masonry_v2_unauth"]:[],l=[...t.annotateExperiments??[],...a],{context:r}=J({...t,annotateExperiments:l,navigationInfo:{navigationType:i,clientNavigation:n}});return Q(),(0,N.jsx)(c.S,{value:r,children:e})}},906623:(e,t,n)=>{n.d(t,{E:()=>a,S:()=>i});let{Provider:i,useMaybeHook:a}=(0,n(342513).Z)("pwtSurfaceContext")},707671:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(760890);let a=()=>!!window.performance?.timing;var l=n(970126);function r(e){return!!("desktop"!==e||a())&&!!l.Z&&(0,i.v)()}},685679:(e,t,n)=>{n.d(t,{KJ:()=>d,Rp:()=>o});let i={merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},own_profile:{id:14,name:"own_profile"},own_profile_no_pins:{id:45,name:"own_profile_no_pins"},other_profile:{id:15,name:"other_profile"},other_profile_no_pins:{id:46,name:"other_profile_no_pins"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"}},a={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},own_profile:{id:123,name:"own_profile_page_load"},own_profile_no_pins:{id:125,name:"own_profile_no_pins_page_load"},other_profile:{id:122,name:"other_profile_page_load"},other_profile_no_pins:{id:124,name:"other_profile_no_pins_page_load"},self_profile:{id:126,name:"self_profile_page_load"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{...i,bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},self_profile:{id:47,name:"self_profile"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},visual_search:{id:44,name:"visual_search_page_render"}}},client_route_replace:{unauth:{},auth:{...i}}},l={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},r={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},s=e=>{let{navigationType:t,isAuthenticated:n,segment:i,surface:r}=e,s=n?"auth":"unauth",o=l[t]?.[s]?.[r];return i&&o&&o[i]||a[t][s][r]},o=e=>{if("stopwatch"===e.type&&"name"in e)return r[e.name]||null;if("surface"===e.type){let t=s(e);return t?t.id:null}return null},d=e=>{if("stopwatch"===e.type&&"name"in e||"core_web_vitals"===e.type&&"name"in e)return e.name;let{navigationType:t,isAuthenticated:n,segment:i,surface:a}=e,l=s(e);return l?l.name:`${t}_${n?"auth":"unauth"}_${a}${i?"_"+i:""}`}},939129:(e,t,n)=>{n.d(t,{e:()=>i,n:()=>a});let i=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}},a=e=>{let t=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(t=>{if(!e)return"pathname_invalid";let n=t.pattern.split("/").filter(e=>""!==e),i=e.split("/").filter(e=>""!==e);if(n.length!==i.length)return!1;for(let e=0;e<n.length;e+=1)if(!n[e].startsWith(":")&&i[e]!==n[e])return!1;return!0});return t?t.name:"unknown"}},193300:(e,t,n)=>{n.d(t,{w:()=>a});var i=n(45528);let a=function(){let e;let t=!1,n=new Set;return function(a){if(e){a(e);return}n.add(a),t||(t=!0,(0,i.NO)(t=>{for(let i of(e=t,n))i(t),n.delete(i)}))}}()},608029:(e,t,n)=>{n.d(t,{Ex:()=>r,XV:()=>l,v5:()=>a});var i=n(194087);let a=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},l=e=>(t,...n)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)},r=e=>t=>{i.jn&&console.log(`[CWV:${e}] ${String(t)}`)}},367180:(e,t,n)=>{n.d(t,{F9:()=>p,LM:()=>d,VZ:()=>l,cQ:()=>m,rZ:()=>r});var i=n(769286),a=n(297329);let l=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,r=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=({top:e,height:t},{foldY:n,pageYOffset:i})=>{let a=e+i;if(a>=n)return!1;let l=Math.min(t,n-a);return l>.5*t||l>.2*n},o=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},d=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,a.H)("missing_document_query_selector"),0),c=()=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(i.wc);return e[e.length-1]||null},u=(e,t)=>{let n=r(e);if(!n)return(0,a.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;let t=o(e);if(t?.endsWith("svg"))return!1}return s(n,t)},p=()=>{let e=c();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},m=(e,t,n)=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),[];let l={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},r=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),s=[...document.querySelectorAll(r)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?s.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return s.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&u(n,l)){let t=o(n);if(t){let i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e},[])}},769286:(e,t,n)=>{n.d(t,{$N:()=>o,Kb:()=>i,Wf:()=>r,fF:()=>s,wc:()=>l});let i="pwt-grid-item",a=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${i}"]`],l=a.join(","),r=a.map(e=>`${e} img`).join(","),s=a.map(e=>`${e} div[style*=background-image]`).join(","),o=a.map(e=>`${e} video`).join(",")},760890:(e,t,n)=>{n.d(t,{Z:()=>f,v:()=>m});var i=n(667294),a=n(685679),l=n(608029),r=n(367180),s=n(297329),o=n(107860),d=n(906623),c=n(279600),u=n(748058);let p=(0,l.XV)("GridProfiler"),m=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,r.VZ)(),g=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,_=(e,t)=>{if(!t){let t=(0,r.LM)();if(t===e)return p("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,r.F9)())return p("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},h=(e,t)=>{let n=0,i=0,a=0,l=0,r=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,s)=>{let o;let d=t.fileName.split(".")[0];o=e[s],d!==o?.image_signature&&(o=e.find(e=>d===e?.image_signature)),void 0===o?r+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?a+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?n+=1:o?.videos?.video_list?i+=1:l+=1}),{storyPinCount:n,videoCount:i,adCount:a,imageCount:l,unknownCount:r}},y=(e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)};function f({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:m=!1,includeSections:f}){let b=(0,d.E)(),S=b?.getId(),x=b?.setVisuallyCompleteResult,[v,P]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)(()=>{x?P({status:"LAYOUT",failedCount:0,numOfItemsChecked:0}):P({status:"DISABLED"})},[S,x]),(0,i.useEffect)(()=>{if("DISABLED"!==v.status&&(0,o.ZP)(`GridVisuallyCompleteProfiler_${v.status}`),p("new status",v),"LAYOUT"===v.status){let e=y("scroll",()=>{(0,o.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[v.status]),(0,u.Z)(()=>{if(!b||!x)return;let{abort:i,getMetricId:o}=b,d=o();switch(v.status){case"LAYOUT":{let t=_(v.numOfItemsChecked,e);t.complete?P({status:"TIMING",failedCount:0,pinElements:(0,r.cQ)(n,m,f)}):500*v.failedCount>6e4?((0,s.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),P({status:"DISABLED"})):P({...v,failedCount:v.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,c.Cg)(),n=v.pinElements.length,r=[],o=0,u=0,m=0;if(v.pinElements.forEach(({element:t,fileName:n})=>{let i=e.find(e=>e.name.endsWith(n));i?i.responseEnd?(r.push(i),(0,l.v5)(t,"green")):(m+=1,(0,l.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,l.v5)(t,"red")):(o+=1,(0,l.v5)(t,"greenyellow"))}),o||m)100*v.failedCount>6e4?((0,s.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:o,noTimingCount:u,noTimingResponseEndCount:m}}),i("visuallyComplete_timingTimeout"),P({status:"DISABLED"})):P({...v,failedCount:v.failedCount+1});else{if(p(`All ${r.length} images are fetched`),t&&t.length){let e=h(t,v.pinElements);Object.entries(e).forEach(([e,t])=>{b.addBinaryAnnotation(e,t,"I16")}),(0,s.A9)(`${(0,a.KJ)(d)}.pinTypes`,{tags:e})}x({imageTimings:r}),P({status:"DISABLED"}),(0,s.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:u}})}}}},g(v))}},297329:(e,t,n)=>{n.d(t,{A9:()=>m,DG:()=>u,H:()=>g,S$:()=>_,iF:()=>p});var i=n(431405),a=n(194087),l=n(608029),r=n(554786),s=n(953565);let o=(0,l.XV)("logPwtStats"),d=null,c=!0;function u(e){let{userAgent:t,isBot:n,isSocialBot:a,isAuthenticated:l}=e;d={browserName:t.browserName,browserVersion:t.browserVersion,deviceType:(0,r.Mq)(e),isAuthenticated:l,isBot:n,isSocialBot:a,isModernBundleCapable:(0,i.Z)({browserName:t.browserName,browserType:t.browserType,browserVersion:t.browserVersion,isBot:n})}}let p=e=>{d&&(d.historyAction=e)},m=(e,t={sampleRate:1},n=!0)=>{let i=a.DQ?1:t.sampleRate;if(!d){o("pwt.metrics_quality.no_context"),(0,s.nP)("pwt.metrics_quality.no_context",{sampleRate:i,tags:{eventName:e}});return}let{browserName:l,browserVersion:r,deviceType:c,isBot:u,isSocialBot:p}=d,m=`pwt.${p&&"socialBot"||u&&"bot"||"nonbot"}.metrics_quality.${c}.${e}`,g={...t.tags||{},browserName:l,browserVersion:r?.split(".")[0]||"0"},_="number"==typeof t.count?t.count:1;n&&(o(`${m}: ${_}`),t.tags&&o(Object.entries(t.tags))),a.is||(0,s.QX)(m,_,{sampleRate:i,tags:g})},g=(e,t)=>m(`ERROR.${t?.action?t.action+".":""}${e}`,{tags:t}),_=({appLoadName:e,clientNavName:t},n)=>{if(d){let i="APP_VOLUME.";c?(m(i.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),c=!1):"PUSH"===d.historyAction&&m(i.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else(0,s.nP)("pwt.metrics_quality.no_context",{sampleRate:1,tags:{eventName:e.concat(`.${t}`)}})}},107860:(e,t,n)=>{n.d(t,{Ao:()=>u,BA:()=>p,L8:()=>g,ZP:()=>_,at:()=>a,gQ:()=>c,tl:()=>m});var i=n(970126);let a="masonryPagination",l={},r=e=>` ${e}`,s=(e,t)=>{let n=r(t);e.mark(n)},o=(e,t,n,i)=>{let a=r(t);e.measure(a,n,i)},d=(e,t)=>{let n=r(t);e.clearMarks(n),e.clearMeasures(n)},c=()=>{let e={};return Object.keys(l).forEach(t=>{(l[t]||[]).slice(0,3).forEach((n,i)=>{e[i?`${t}_${i+1}`:t]=n})}),e},u=(e,t)=>(l[e]||[]).filter(e=>e<t).length,p=(e,t)=>u(e,t)>0,m=()=>{i.Z&&Object.keys(l).forEach(e=>d(i.Z,e)),l={}},g=e=>{i.Z&&(l[e]=(l[e]||[]).concat([i.Z.now()]),o(i.Z,e))},_=e=>{i.Z&&(l[e]=(l[e]||[]).concat([i.Z.now()]),s(i.Z,e))}},253926:(e,t,n)=>{n.d(t,{cC:()=>l,jy:()=>a,qr:()=>s,sk:()=>r});let i=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:i(e)}),l=e=>({type:"I32",value:i(e)}),r=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},309300:(e,t,n)=>{n.d(t,{D3:()=>l,Hd:()=>o,jh:()=>s,rX:()=>r});var i=n(383340),a=n(302234);let l=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),r=()=>{let{largestContentfulPaint:e}=(0,a.v2)();return{largestContentfulPaint:e||0}},s=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),o=(e,t)=>Object.keys(e).reduce((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n,Object.freeze({}))},521525:(e,t,n)=>{n.d(t,{ng:()=>f,rA:()=>S});var i=n(685679),a=n(107860),l=n(253926),r=n(302234),s=n(279600),o=n(788389);let d=(e,t)=>(e||[]).reduce((e,n)=>({...e,[`experiment.${n}`]:(0,l.sk)(t(n))}),{}),c=(e,t)=>"number"==typeof t?e(t):null,u=e=>Number(Number(e/1024).toFixed(3)),p=e=>e.reduce((e,t)=>e+t,0),m=(e,t)=>Object.keys(t).reduce((n,i)=>({...n,[`${e}${i}`]:t[i]}),{}),g=e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{let a=t||e;return{startTime:e,requestStart:a,responseStart:n||a,responseEnd:i}}),n=p(t.map(e=>e.requestStart-e.startTime)),i=p(t.map(e=>e.responseStart-e.requestStart)),a=p(t.map(e=>e.responseEnd-e.responseStart)),r=p(e.map(e=>e.decodedBodySize||0));return{decodedBodySize:(0,l.cC)(u(r)),"duration.all":(0,l.cC)(n+i+a),"duration.requestStartToResponseStart":(0,l.cC)(i),"duration.responseStartToResponseEnd":(0,l.cC)(a),"duration.startToRequestStart":(0,l.cC)(n)}},_=e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{...g(t),"count.completed":(0,l.cC)(t.length)}:{},"count.all":(0,l.cC)(e.length)}},h=e=>{let t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){let{requestStart:a,startTime:l}=e[0].timing,r=a||l;n.timeSecond1.start=r,n.timeSecond1.end=r+1e3,n.timeSecond2.start=r+1e3,n.timeSecond2.end=r+2e3,n.timeSecond3.start=r+2e3,n.timeSecond3.end=r+3e3,e.forEach(e=>{let{timing:a}=e;i[e.category]=i[e.category].concat([a]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([a])),e.isExternal&&(i.external=i.external.concat([a])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([a]));let{requestStart:l,startTime:r,responseEnd:s}=a,o=l||r;t.forEach(e=>{let{start:t,end:i}=n[e];o>=t&&o<i?n[e].count+=1:o<t&&s>t&&(n[e].count+=1)})})}let a={...m("concurrentRequests.",Object.keys(n).reduce((e,t)=>e={...e,[t]:(0,l.cC)(n[t].count)},{}))};return{...Object.keys(i).reduce((e,t)=>({...e,...m(`resource.${t}.`,_(i[t]))}),a)}},y=(e,t,n)=>{let a;let{devicePixelRatio:r,navigator:d,innerWidth:u,innerHeight:p,performance:m}=window,{deviceMemory:g,hardwareConcurrency:_,platform:h,userAgent:y,connection:f}=d,{memory:b}=m,{appType:S,appVersion:x,browserName:v,browserVersion:P,deviceType:k,isAppShell:w,isAuthenticated:T,isBot:I,isSocialBot:E,locale:A,osName:C,stageName:R,unauthId:j}=t,{navigationType:L}=e,F=null;if("initial_app_load"===L){a=1;let e=o.Z("navigation")[0]?.transferSize;F=e?parseFloat((.001*e).toFixed(1)):null}else a=4;let D={"app.type":(0,l.jy)("desktop"===k?S||5:S||6),"app.version":(0,l.sk)(x),"browser.name":(0,l.sk)(v),"browser.version":(0,l.sk)(P),"cpu.speed":(0,l.jy)(_),"device.memory":(0,l.jy)(g),"device.type":(0,l.jy)(0),"device.typeName":(0,l.sk)(k),"device.version":(0,l.sk)("unknown"),"pwt.cause":(0,l.jy)(a),"net.effectiveType":(0,l.sk)(f?.effectiveType||null),"net.downlink":(0,l.cC)(c(e=>10*Math.round(e/10),f?.downlink)),"net.downlinkMax":(0,l.cC)(c(e=>10*Math.round(e/10),f?.downlinkMax)),"net.rtt":(0,l.cC)(c(e=>10*Math.round(e/10),f?.rtt)),"net.speed":(0,l.cC)((0,s.Hv)(n,!1)),"pwt.result":(0,l.jy)(1),"view.type":(0,l.cC)(0),"viewport.height":(0,l.cC)(p||0),"viewport.width":(0,l.cC)(u||0),devicePixelRatio:(0,l.cC)(r||0),isAppShell:(0,l.qr)(w),isAuthenticated:(0,l.qr)(T),isBot:(0,l.qr)(I),isSocialBot:(0,l.qr)(E),locale:(0,l.sk)(A),osName:(0,l.sk)(C),...null!==F&&{htmlResponseSize:(0,l.cC)(F)},nextHopProtocol:(0,l.sk)(o.Z("navigation")[0]?.nextHopProtocol||null),platform:(0,l.sk)(h||null),profilerVersion:(0,l.sk)("3"),pwtActionName:(0,l.jy)((0,i.Rp)(e)),stageName:(0,l.sk)(R),userAgent:(0,l.sk)(y),usedJSHeapSize:(0,l.cC)(b?.usedJSHeapSize||0),totalJSHeapSize:(0,l.cC)(b?.totalJSHeapSize||0),jsHeapSizeLimit:(0,l.cC)(b?.jsHeapSizeLimit||0)};return T?D:{...D,unauthId:(0,l.sk)(j)}},f=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:a=[]})=>({...d(e,n.getExperimentGroup),...y(t,n,a),...i,stopwatchVersion:(0,l.jy)(1)}),b=(e,t)=>{let{navigator:n}=window,{serviceWorker:i}=n,{surface:s,navigationType:o,isAuthenticated:d}=e,{cumulativeLayoutShiftScore:c,longTaskDurations:u}=(0,r.v2)();return{...u.length?{"longTask.count":(0,l.cC)(u.length),"longTask.maxDuration":(0,l.cC)(Math.max(...u)),"longTask.totalDuration":(0,l.cC)(p(u))}:{},cumulativeLayoutShiftScore:(0,l.cC)(100*c),"masonry.paginationMarkCount":(0,l.cC)((0,a.Ao)(a.at,t)),"metricId.isAuthenticated":(0,l.qr)(d),"metricId.navigationType":(0,l.sk)(o),"metricId.surface":(0,l.sk)(s),resourceBufferClearedCount:(0,l.jy)((0,a.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,l.qr)((0,a.BA)("scrollDuringLayout",t)),serviceWorker:(0,l.qr)(i?!!i.controller:null),serviceWorkerState:(0,l.sk)(i?.controller?.state||null)}},S=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:a,pwtEndTime:l,pwtStaticContext:r})=>({...t,...h(a),...d(e,r.getExperimentGroup),...y(i,r,n),...b(i,l)})},819281:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(970126);let a=()=>{let[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},793250:(e,t,n)=>{n.d(t,{i:()=>i,p:()=>r});let i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(n))return"script";if("css"===n)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(n))return"video";if(["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n))return"image";return"other"}}},a=e=>{let t=e.replace(RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`script[src='${t}']`);return!!n&&n.hasAttribute("defer")},l=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(`${t}`)),r=(e,t)=>{let n=i(e),{name:r}=e;return{category:n,isDeferred:"script"===n&&a(r),isExternal:l(r),isVisuallyCompleteRequired:"image"===n&&t.includes(r),timing:e}}},363404:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(120889),a=n(194087),l=n(685679),r=n(608029),s=n(297329);let o=null,d=(e,t)=>((o=o||{results:[],context:t}).results.push(e),o);var c=n(253926),u=n(819281),p=n(404373),m=n(788389);let g=(e,t)=>Object.keys(e).reduce((n,i)=>{let a=e[i];return a?{...n,[i]:{timestamp:t+a}}:n},{}),_=e=>Object.keys(e).reduce((t,n)=>{let i=e[n];if(!i)return t;let{value:a,type:l}=i;return null==a?t:t.concat({name:n,value:a,annotation_type:l})},[]),h=({span:e,timeOrigin:t})=>({id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:g(e.annotationMap,t),binary_annotations:_(e.binaryAnnotationMap)}),y=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:l,traceId:r})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:l,id:r}),f=({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}}),{}),b=(e,t)=>({...e,annotations:{...f(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),S=(e,t,n)=>{let i=(0,u.Z)();return i?.responseEnd?b(h({span:{name:"html",startTime:0,endTime:i?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,c.sk)(m.Z("navigation")[0]?.nextHopProtocol||null)},id:e.server_span_id||(0,p.Z)(),parentId:t},timeOrigin:n}),e):null},x=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:a})=>{let l=h({span:y(t,n),timeOrigin:i}),r=null;return a&&(l=b(l,a),r=S(a,e,i)),{trace_id:e,spans:[l,...r?[r]:[],...n.spans.map(e=>h({span:e,timeOrigin:i}))]}},v=e=>({debugTrace:a.eD,locale:e.locale,stageName:e.stageName}),P=(0,r.XV)("reportResult"),k=()=>window.performance?.now?Date.now()-window.performance.now():"unknown";function w({metricId:e,pwtStaticContext:t,result:n,isAuth:r}){let{serverData:o}=t,c=(0,l.KJ)(e),u=`${n.type}.${c}`,p=`${n.type}.sampled.${c}`,m=void 0!==r&&{tags:{isAuth:r}}||void 0;if((0,s.A9)(n.reason?u.concat(`.${n.reason}`):u,m),(0,s.A9)(n.reason?p.concat(`.${n.reason}`):p,{...m,sampleRate:.5}),"COMPLETE"!==n.type){P(`Abort metric ${c}`,n);return}let g=k();if("unknown"===g){P(`Unable to convert to absolute times for ${c} due to missing time origin`),(0,s.A9)(`missingTimeOrigin.${c}`,m);return}if(a.is&&(window.PWT_LAB_DATA=d(n,t)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!a.is){let a=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:l}=n,r=x({traceId:l,actionName:c,result:n,timeOrigin:g,serverDataToJoin:a&&o||null});(0,i.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(r),report_context:JSON.stringify(v(t))}}),P(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${l.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},383340:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},840387:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(253926),a=n(383340),l=n(404373);let r=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function s(e,t){let{category:n,timing:s,isDeferred:o,isExternal:d,isVisuallyCompleteRequired:c}=e;return s.responseEnd&&("image"!==n||c)?{name:r(e),id:(0,l.Z)(),parentId:t,startTime:s.startTime,endTime:s.responseEnd,annotationMap:(0,a.Z)(s),binaryAnnotationMap:{category:(0,i.sk)(n),decodedBodySize:(0,i.cC)(s.decodedBodySize||0),initiatorType:(0,i.sk)(s.initiatorType),isDeferred:(0,i.qr)(o),isExternal:(0,i.qr)(d),name:(0,i.sk)(s.name),nextHopProtocol:(0,i.sk)(s.nextHopProtocol),transferSize:(0,i.cC)(s.transferSize||0)}}:null}},643778:(e,t,n)=>{n.d(t,{ku:()=>E,Jx:()=>w,PY:()=>I});var i=n(608029),a=n(297329),l=n(107860),r=n(309300),s=n(521525),o=n(819281),d=n(302234);let c=()=>(0,d.PJ)().reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:i},Object.freeze({}));var u=n(383340),p=n(146935),m=n(279600);let g=e=>{let t=(0,m.y0)();return e.reduce((e,{name:n,match:i})=>t.filter(e=>i(e)).slice(0,2).reduce((e,t,i)=>({...e,...(0,r.jh)(`${n}${i?"_dupe1":""}_`,(0,u.Z)(t))}),e),Object.freeze({}))},_=e=>{if("pin_closeup"===e){let e=(0,p.Z)();return g([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var h=n(793250),y=n(363404),f=n(840387),b=n(396596),S=n(59648),x=n(404373);let v=(0,i.XV)("LightStopwatch"),P=()=>{let e=[],t=null;return window.PerformanceObserver&&(t=(0,S.Z)({entryTypes:["resource"]},t=>{(e=e.concat(t.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{t&&t.disconnect()}}},k={},w=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:i,pwtStaticContext:d})=>{let u=P(),p=(0,b.Z)(d.fullPath),m=!0,g={...p?{pagePath:{value:p,type:"STRING"}}:{}};(0,a.A9)(`TIMING.${i}`,{tags:{isAuth:d.isAuthenticated}});let S={type:"stopwatch",name:i,navigationType:"initial_app_load"},w={abort:e=>{if(!m){(0,a.H)("duplicate_abort_action",{action:i});return}m=!1,(0,y.Z)({metricId:S,pwtStaticContext:d,result:{type:"ABORT",reason:e}})},error:(e,t)=>{let n={...t,action:i};if(!m){(0,a.H)("duplicate_error_action",n);return}e&&(0,a.H)(e,n),u&&u.disconnect(),m=!1},stop:p=>{if(!m){(0,a.H)("duplicate_stop_action",{action:i});return}m=!1,u.disconnect();let b=(0,x.Z)(),v=(0,o.Z)(),P=u.get(),k={type:"COMPLETE",traceId:(0,x.Z)(),startTime:0,endTime:p,spans:[{name:"network_resources",id:b,startTime:0,endTime:p,annotationMap:{},binaryAnnotationMap:{},parentId:null},...P.map(e=>(0,f.Z)((0,h.p)(e,[]),b)).filter(Boolean)],annotationMap:{...(0,r.jh)("resource_",n?_(n):{}),...(0,r.jh)("element_",c()),...(0,r.jh)("mark_",t&&t.length?(0,r.Hd)((0,l.gQ)(),t):{}),...(0,r.jh)("browser_",v?(0,r.D3)(v):{})},binaryAnnotationMap:(0,s.ng)({annotateExperiments:e,metricId:S,pwtStaticContext:d,performanceResourceTimings:P,binaryAnnotations:g})};(0,y.Z)({metricId:S,pwtStaticContext:d,result:k,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{v(`adding binary annotation {${e}: ${String(t)}}`),g={...g,[e]:{value:t,type:n}}}};return k[i]=w,w},T=e=>k[e],I=e=>!!T(e),E=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{let a=T(e);a&&a.addBinaryAnnotation(t,n,i)}},865611:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>e<100?"0-100ms":e<250?"100-250ms":e<500?"250-500ms":e<1e3?"500-1000ms":e<2e3?"1000-2000ms":e<3e3?"2000-3000ms":e<4e3?"3000-4000ms":e<5e3?"4000-5000ms":e<6e3?"5000-6000ms":e<7e3?"6000-7000ms":e<8e3?"7000-8000ms":e<9e3?"8000-9000ms":e<1e4?"9000-10000ms":e<15e3?"10000-15000ms":e<2e4?"15000-20000ms":e<25e3?"20000-25000ms":"25000+ms"},302234:(e,t,n)=>{let i;n.d(t,{Bn:()=>g,Kj:()=>m,PJ:()=>d,UQ:()=>h,Ux:()=>c,on:()=>s,v2:()=>u});var a=n(987313),l=n(59648);let r={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},s=()=>{r.longTaskDurations=[]},o=(0,a.Z)(()=>r.elementTimings),d=()=>o.get(),c=e=>{e&&o.save(),r.elementTimings=[]},u=()=>r,p=0,m=()=>p,g=()=>i,_=e=>e.reduce((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[]),[]),h=()=>{(0,l.Z)({type:"element",buffered:!0},e=>{r.elementTimings=r.elementTimings.concat(_(e.getEntries()))}),(0,l.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>r.longTaskDurations.push(e.duration))},()=>s()),(0,l.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),n=t.length,a=t[n-1];a&&(p=n,r.largestContentfulPaint=a.renderTime||a.loadTime||null,i=a.renderTime||a.loadTime||null)}),(0,l.Z)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(r.cumulativeLayoutShiftScore+=e.value)})})}},371626:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},987313:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},663678:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>{let{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${i&&"socialBot"||n&&"bot"||"nonbot"}.${t}`}},396596:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let n=t.split("/")[3];return n?"feedback"===n||"sent"===n?n:null:"default"}},59648:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{let i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",()=>{i.disconnect()}),n&&window.addEventListener("popstate",()=>{n()}),i}catch(e){return null}}},421715:(e,t,n)=>{n.d(t,{V:()=>l,b:()=>a});let i=e=>e?e.tagName||null!==e.parentElement?"HTML"===e.tagName&&null===e.parentElement?"HTML":"BODY"===e.tagName&&e.parentElement?.tagName==="HTML"?"BODY":e.dataset.layoutShiftBoundaryID||e.dataset.testId?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?i(e.parentElement):"NOT_A_NODE":"DOCUMENT":"NODE_REMOVED",a=e=>{let t=e.attribution.processedEventEntries.find(t=>t.startTime===e.attribution.interactionTime),n=t?t.target:null;return n?i(n):"NODE_REMOVED"},l=e=>e?i(e):"NODE_REMOVED"},146935:(e,t,n)=>{n.d(t,{Z:()=>a,f:()=>i});let i="closeupImage",a=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},404373:(e,t,n)=>{n.d(t,{Z:()=>i});function i(){let e="";for(let t=0;t<15;t+=1)e+="0123456789"[Math.floor(10*Math.random())];return Number(e)}},279600:(e,t,n)=>{let i;n.d(t,{Cg:()=>_,Eg:()=>y,Hv:()=>S,LH:()=>f,MM:()=>x,X_:()=>p,y0:()=>h});var a=n(194087),l=n(297329),r=n(107860),s=n(793250),o=n(987313),d=n(59648),c=n(788389);function u(){window.performance&&window.performance.clearResourceTimings&&((0,r.ZP)("resourceBufferCleared"),a.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,l.A9)("resourceBufferSize",{count:(0,c.Z)("resource").length}),window.performance.clearResourceTimings())}let p=({size:e})=>{if(window.performance){window.PerformanceObserver?(i=(0,c.Z)("resource"),(0,d.Z)({entryTypes:["resource"]},t=>{(i=(i||[]).concat(t.getEntries())).length>e&&(i=i.slice(-e))})):(window.addEventListener("popstate",()=>{(0,c.Z)("resource").length>e&&u()}),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{i||u()}}catch(e){}}},m=()=>i||(0,c.Z)("resource"),g=(0,o.Z)(m),_=m,h=()=>g.get(),y=e=>{e&&g.save(),i&&((0,l.A9)("customBufferSize",{count:i.length}),i=[]),u()},f=()=>({customBufferSize:i?i.length:0,defaultBufferSize:(0,c.Z)("resource").length}),b=e=>e.length?e.reduce((e,t)=>e+t,0)/e.length:null,S=(e,t=!0)=>{let n=0,i=0,a=b(e.filter(e=>t?"image"===(0,s.i)(e)&&(e.responseEnd||(n+=1),e.transferSize||(i+=1),!!e.responseEnd&&!!e.transferSize):!!e.responseEnd&&!!e.transferSize).map(e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3));return t&&(n>0&&(0,l.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,l.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),a},x=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},788389:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}},970126:(e,t,n)=>{let i;n.d(t,{Z:()=>a});let a=(i=window.performance)&&i.clearMarks&&i.clearMeasures&&i.clearResourceTimings&&i.getEntries&&i.getEntriesByName&&i.getEntriesByType&&i.mark&&i.measure&&i.now&&i.setResourceTimingBufferSize?i:null},686769:(e,t,n)=>{n.d(t,{A:()=>r,Z:()=>s});var i=n(667294),a=n(883119),l=n(785893);let r=({fill:e})=>{let t="half"===e?(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(a.xu,{position:"absolute",children:(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function s({max_rating:e,rating:t}){var n;let i=[],s=parseFloat(e)||5,o=5*(n=(n=parseFloat(t)||0)<=s?n:s)/s;if(Number.isNaN(o))return null;let d=Math.floor(o),c=o-d;return[...Array(d).keys()].forEach(e=>i.push((0,l.jsx)(r,{fill:"full"},e))),c>=.75?i.push((0,l.jsx)(r,{fill:"full"},i.length)):c>=.25&&i.push((0,l.jsx)(r,{fill:"half"},i.length)),[...Array(5-i.length).keys()].forEach(()=>i.push((0,l.jsx)(r,{fill:"empty"},i.length))),(0,l.jsx)(a.xu,{display:"inlineBlock",position:"relative",width:15*s,children:i})}},737244:(e,t,n)=>{function i({m:e=0,h:t=0}){let n;return n=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:n}}function a(e){let t=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:()=>i,u:()=>a})},790440:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(388769),a=n(339001),l=n(785893);function r({m:e,h:t,rm:n,rh:r},s){return e&&(!t||r<=0)?(0,a.nk)(s._('{{mins}}min', 'closeup.makeRecipeText.minutesLabel', 'Minutes label for Rich Pin Recipe'),{mins:(0,l.jsx)(i.Z,{maximumFractionDigits:2,value:n},"recipe-minutes")}):t?(0,a.nk)(s._('{{hrs}}hr', 'closeup.makeRecipeText.hoursLabel', 'Hours label for Rich Pin Recipe'),{hrs:(0,l.jsx)(i.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},131620:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(339001);function a(e,t){return e<60?(0,i.nk)(t._('{{mins}}min', 'recipe.minutes', 'recipe in minutes. mins: recipe duration in minutes'),{mins:e}):(0,i.nk)(t._('{{hrs}}h {{mins}} min', 'recipe.time', 'recipe time. mins: recipe duration in minutes. hrs: recipe duration in hours'),{mins:e%60,hrs:Math.floor(e/60)})}},288240:(e,t,n)=>{n.d(t,{Z:()=>r,k:()=>l});let i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!i.has(e)&&!e.startsWith("__track__");function l(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce((e,t)=>{let[n,i]=t.split("=");return e[n]=JSON.parse(i),e},{})}let r=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(a).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},569372:(e,t,n)=>{n.d(t,{Z:()=>i});let i=new class{constructor(){var e,t,n;t={},(e="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="pending","string"))?n:String(n))in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}add(e,t,n){n&&(this.pending[e]={...this.pending[e]??{},[t]:n},n.finally?.(()=>this.remove(e,t)))}remove(e,t){this.pending[e]?.[t]&&(delete this.pending[e][t],0===Object.keys(this.pending[e]).length&&delete this.pending[e])}get(e,t){return this.pending[e]?.[t]??null}}},638747:(e,t,n)=>{n.d(t,{UZ:()=>u,Z8:()=>p,my:()=>m,vL:()=>g});var i=n(667294);n(702664);var a=n(216167),l=n(342513),r=n(785893);function s(e,t,n){let i=[...t[e][n.payload.name]??[],n.payload.handler],a={...t};return a[e]={...t[e],[n.payload.name]:i},a}function o(e,t,n){if(!t[e][n.payload.name])return t;let i=t[e][n.payload.name].filter(e=>e!==n.payload.handler),a={...t};return a[e]={...t[e],[n.payload.name]:i},a}let{Provider:d,useHook:c}=(0,l.Z)("ResourceContext");function u({children:e,resourceCreator:t}){let[{listeners:n,moreListeners:l},c]=(0,i.useReducer)((e,t)=>{switch(t.type){case"addListener":return s("listeners",e,t);case"addMoreListener":return s("moreListeners",e,t);case"removeListener":return o("listeners",e,t);case"removeMoreListener":return o("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:t,response:i,normalizedResponse:a,refresh:l,resourceSchema:r})=>{n[e]&&n[e].forEach(n=>n({isRefresh:l,normalizedResponse:a,options:t,schema:r,resource:e,response:i}))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:i,refresh:a,resourceSchema:r})=>{l[e]&&l[e].forEach(l=>l({isRefresh:a,normalizedResponse:i,options:t,schema:r,resource:e,response:n}))};let u=(0,i.useMemo)(()=>({listenerDispatch:c,resourceCreator:t}),[t]);return(0,r.jsx)(d,{value:u,children:e})}function p(e,t){let{listenerDispatch:n}=c();(0,i.useEffect)(()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})}))}function m(e,t){let{listenerDispatch:n}=c();(0,i.useEffect)(()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})}))}function g(){return c().resourceCreator}},227258:(e,t,n)=>{n.d(t,{U:()=>c,b:()=>u});var i=n(216167),a=n(288240),l=n(839967),r=n(827625),s=n(197036),o=n(838458);function d({addSuspenseResourceSSRData:e,fetchOptions:t,resource:n,resourceCreator:c,retry:u}){return(p,m)=>{let{bookmark:g,headers:_,options:h,refresh:y,schema:f}=t,b=(0,a.Z)(h);if(m().resources?.[n]?.[b]?.fetching&&!u)return Promise.resolve();let S=u?u.bookmark:g,x=S?{...h,bookmarks:[S]}:h;return p((0,r.LQ)(n,h,!0)),(c??i.Z.create)(n,x).callGet(void 0,_).then(t=>(e&&t.resource&&e(t),t)).then(e=>{let[a]=e.bookmarks||[],{data:m}=e.resource_response,{normalizedResponse:_,resourceSchema:b}=(0,o.f)({data:m,opts:{bookmark:g,options:h,schema:f},resource:n})||{normalizedResponse:null,resourceSchema:void 0},S=e.resource?null:e;if(e.resource){a=e.resource_response.bookmark||"";let t=(0,s.Z)(e);_=t.normalizedResponse,b=t.schema,S=t.response}if(Array.isArray(m)&&0===m.length&&a&&a!==l.qx){let e=u?u.count:0;if(!(e>=l.s9))return p(d({resource:n,fetchOptions:t,retry:{count:e+1,bookmark:a},resourceCreator:c}))}return S&&(g?(p((0,r.Dm)(n,h,S,_,b)),i.Z.fetchMoreCompleteCallback&&i.Z.fetchMoreCompleteCallback({resource:n,options:h,response:S,normalizedResponse:_,refresh:y,resourceSchema:b})):(p((0,r.Sr)(n,h,S,_,y,b)),i.Z.fetchCompleteCallback&&i.Z.fetchCompleteCallback({resource:n,options:h,response:S,normalizedResponse:_,refresh:y,resourceSchema:b}))),Promise.resolve()},e=>{p((0,r.Tl)(n,h,e))})}}let c=(e,{bookmark:t,headers:n,options:i,schema:a},l,r)=>d({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:a},resourceCreator:l,addSuspenseResourceSSRData:r}),u=(e,{headers:t,options:n,schema:i},a)=>d({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i},resourceCreator:a})},154779:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){let n;if(e.error){let{httpStatus:i,api_error_code:a,redirectUrl:l}=e.error;(404===i||401===i&&7===a)&&(n={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===i&&l&&(n={pathname:l})}return n}},419821:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>a,aW:()=>s,cR:()=>l,se:()=>o,zP:()=>r});let i="CREATE_COMPLETE",a="FETCHING",l="FETCH_ERROR",r="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",o="RESOURCE_INVALIDATE"},827625:(e,t,n)=>{n.d(t,{Dm:()=>o,LQ:()=>l,Sr:()=>s,Tl:()=>r,XM:()=>a,jB:()=>d});var i=n(419821);function a(e,t,n,a){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:a}}}function l(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}let r=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function s(e,t,n,a,l,r){return{type:i.zP,payload:{isRefresh:l,normalizedResponse:a,options:t,resource:e,response:n,schema:r}}}function o(e,t,n,a,l){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:a,schema:l}}}function d(e,t){return{type:i.se,payload:{resource:e,optionsOrOptionsKey:t}}}},197036:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(782677),a=n(888037),l=n(838458);function r(e){let{resource:t,resource_response:n}=e,{name:r,options:s}=t,o=(0,a.Z)(n),{data:d,error:c}=n,u=(0,l.J)(r,{options:s});return{error:c,isRefresh:!1,normalizedResponse:u&&d?(0,i.Fv)(d,u):null,options:s,resource:r,response:{auxData:o,resource_response:{data:d,error:c}},schema:u}}},637253:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(702664),l=n(288240),r=n(5859),s=n(227258),o=n(839967),d=n(569372),c=n(638747);let{Provider:u,useMaybeHook:p}=(0,n(342513).Z)("SuspensefulResource"),m=({httpStatus:e})=>!e||e>=500;function g(e,t,n,u){let{headers:g,name:_,noCache:h,options:y,schema:f}=e;p();let b=function(){let e=p();return e?t=>e.addToBeSentData(t):()=>{}}(),S=(0,c.vL)(),x=(0,a.useDispatch)(),v=(0,l.Z)(y),P=(0,i.useRef)(),k=e=>(e[_]||o.U_)[v]||o.U_,w=(0,a.useSelector)(({resources:e})=>{let t=k(e);return!!t.error||void 0!==t.data}),T=(0,a.useSelector)(({resources:e})=>k(e).error),I=(0,a.useSelector)(({resources:e})=>!!k(e).fetching),E=(0,i.useCallback)(e=>{let t=x((0,s.U)(_,{options:y,schema:f,bookmark:e,headers:g},S,b));d.Z.add(_,v,t)},[x,_,v,f,g]),A=(0,i.useCallback)(()=>{let e=x((0,s.b)(_,{options:y,schema:f,headers:g},S));d.Z.add(_,v,e)},[x,_,v,f,g]),{isBot:C}=(0,r.B)(),R=(0,i.useCallback)(()=>{if(!(I||d.Z.get(_,v))&&!n&&P.current!==v){let e=void 0===P.current;P.current=v,!w||u&&e&&T&&m(T)?E():(!C&&h||t)&&A()}},[u,E,A,n,T,C,I,w,t,_,h,v]),j=(0,i.useMemo)(()=>({name:_,optionsKey:v,refresh:A}),[A,_,v]);return(0,i.useMemo)(()=>({fetchResource:R,dispatchGet:E,dispatchRefresh:A,ref:j}),[R,E,A,j])}},757640:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),l=n(616550),r=n(288240),s=n(227258),o=n(839967),d=n(637253);function c(e){let{enabledRouteRefresh:t,headers:n,name:c,noCache:u,options:p,schema:m}=e??{name:o.fY,options:null},g=!e,_=(0,r.Z)(p),h=(0,l.k6)(),y=h&&"POP"!==h.action,f=e=>(e[c]||o.U_)[_]||o.U_,b=(0,a.useSelector)(({resources:e})=>f(e).nextBookmark),S=(0,a.useSelector)(({resources:e})=>f(e).data),x=(0,a.useSelector)(({resources:e})=>f(e).auxData),v=(0,a.useSelector)(({resources:e})=>f(e).error),P=(0,a.useSelector)(({resources:e})=>!!f(e).fetching),k=!!v||void 0!==S,w=k&&!P&&b===o.qx,T=!!(k&&t&&y&&!g),[I,E]=(0,i.useState)(T),{fetchResource:A,dispatchGet:C,dispatchRefresh:R}=(0,d.Z)({headers:n,name:c,noCache:u,options:p,schema:m},T,g,!0);(0,i.useEffect)(()=>{A()});let j=(0,i.useCallback)(()=>{g||(R(),E(!0))},[g,s.b,c,_,n,E]),L=(0,i.useCallback)(()=>{!b||w||P||g||C(b)},[g,C,b,w,P]),F=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:L,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:j}),D={auxData:x,data:S,error:v,fetchMore:L,isAtEnd:w,isFetching:P,isLoaded:k,isRefreshing:I,nextBookmark:b,refresh:j};return(0,a.shallowEqual)(D,F.current)||(I&&(F.current.data||!T)&&!(0,a.shallowEqual)(D.data,F.current.data)&&(D.isRefreshing=!1,E(!1)),F.current=D),F.current}},870319:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(616550),a=n(96157),l=n(154779),r=n(757640),s=n(149722);function o(e){let t=(0,i.k6)(),n=(0,i.TH)(),{isAuth:o}=(0,s.Z)(),d=!o&&(0,a.L6)(n),c=(0,r.Z)(e),u=(0,l.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},608516:(e,t,n)=>{n.d(t,{Z:()=>i});let i=n(14583).Z},447479:(e,t,n)=>{n.d(t,{i:()=>i});let i={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},241552:(e,t,n)=>{n.d(t,{l:()=>l,r:()=>r});var i=n(667294);let a=(0,i.createContext)(null),l=()=>(0,i.useContext)(a),r=a.Provider},48481:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(877457),a=n(241552);let l=()=>{let e=(0,i.g)(),t=(0,a.l)();return n=>{let{mobileOptions:i,desktopOptions:a,reason:l,attributionLabel:r,pinId:s}=n;e?e.showDesktopSignupModal({signupFlow:a?.modalType==="login"?{type:"login"}:{type:"signup"},reason:l,attributionLabel:r,...a?.modalOptions}):t&&t.showMobileSignupModal({reason:l,attributionLabel:r,headingType:i?.headingType??"none",pinId:s})}}},344064:(e,t,n)=>{n.d(t,{o$:()=>i,ty:()=>a,vE:()=>l});let{Provider:i,MaybeConsumer:a,useMaybeHook:l}=(0,n(342513).Z)("inviteContext")},55202:(e,t,n)=>{n.d(t,{U:()=>r,Z:()=>s});var i=n(317540),a=n(785893);let l=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:o}){let d=e=>{t&&e.keyCode===i.Z.ESCAPE||r(e)};return(0,a.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:l,onCanPlay:n?l:r,onCanPlayThrough:r,onChange:r,onClick:e?l:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:l,onInput:r,onInvalid:r,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?l:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?l:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:s?l:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?l:r,onTouchMove:e?l:r,onTouchStart:e?l:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:o})}},233440:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(0,n(301923).Z)({type:"session"})},873955:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(958881);let a=/\{\{\s*(\w+)\s*\}\}/g,l=(e,t)=>(0,i.Z)(a,e,t)},498659:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},175789:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},958881:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(e,t,n)=>t?t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""):""},427514:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(873955),a=n(498659);let l=(e,t)=>{let n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?(0,a.Z)(t[e].toString()):""}),(0,i.Z)(e,n)}},564855:(e,t,n)=>{n.d(t,{ZP:()=>a,mP:()=>i});let i="";function a(e,t=80,n=i,l=!1){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||l)r=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return(r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},325362:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}},627408:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),a=n(541841),l=n(901855),r=n(5859),s=n(520893),o=n(503325);let{Provider:d,useMaybeHook:c}=(0,n(342513).Z)("timeSpentContext");var u=n(822987),p=n(19447),m=n(785893);function g(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(e){super(e),g(this,"componentWillUnmount",()=>{this.unregisterComponent()}),g(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:a,view:l,viewParameter:r}=this.props;return{view:l||a?.view,viewParameter:r||a?.viewParameter,component:t||a?.component,element:n,objectId:i||a?.objectId,clientTrackingParams:e||a?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),g(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),g(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),g(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),g(this,"getTimedPair",()=>this.state.timedPair),g(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),g(this,"isRegistered",!1),g(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),g(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),g(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:i,right:a,top:l}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===a&&0===l?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new o.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,m.jsx)(d,{value:this.getContext(),children:(0,m.jsx)(a.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:i.Children.only(e)})})}}function h(e){let t=(0,l.Hv)(),n=c(),a=(0,u.w)(),s=(0,p.H0)(),{requestIdentifier:o=""}=(0,r.B)(),d={app_instance_id:o.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{a?.setHistoryStackContext(t)},[t,a]),(0,i.useEffect)(()=>{a?.setPins(s??{})},[s,a]),a?(0,m.jsx)(_,{...e,auxData:d,timeSpentContext:n,timeSpentManager:a,children:e.children}):e.children}h.displayName="TimeSpent";let y=h},839372:(e,t,n)=>{n.d(t,{w:()=>g});var i=n(798580),a=n(287434),l=n(503325),r=n(623891),s=n(953565);function o(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=null,c={ACTIVE:"ACTIVE",PAUSED:"PAUSED"},u=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",p=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}},m={};function g({contextLogger:e,shouldExtractTrackingParams:t}){if(d)return d;let n=(n,a,l)=>{if(t&&l&&n){let e;let{pair_id:t,event_type:r}=n;if(4703===r&&t&&m[t])n.clientTrackingParams=m[t];else{let s=n.object_id_str,o=s?l[s]:null,d=a?.current?.location,c=a?.previous;o&&d&&(e=(0,i.Z)({boardUrl:o.board?.url,location:d,pinId:o.id,pinnerUserName:o.pinner?.username,previousHistory:c,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map})||`${o.tracking_params||""}~0`,n.clientTrackingParams=e,4702===r&&t&&(m[t]=e))}}e.logContextEvent(n)},g=new Map,_=(0,r.Z)()&&(0,r.Z)().debug_timespent,h=[],y=_?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};return console.group||(y.group=(...e)=>console.log(...e),y.groupEnd=(...e)=>{}),d=new class{constructor(){o(this,"appTimedPair",null),o(this,"clickthroughProperties",null),o(this,"historyStackContext",null),o(this,"offsiteTimedPair",null),o(this,"offsiteTimedPairForegroundId",null),o(this,"pins",Object.freeze({})),o(this,"addEventListeners",()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&document.addEventListener(t,t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()},!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",e=>this.unregisterApp(!1,void 0,e));let n=p(e=>this.unregisterApp(!0,void 0,e));window.addEventListener("beforeunload",n),window.addEventListener("pagehide",n);let i=navigator&&navigator.userAgent.toLowerCase();i&&i.includes("macintosh")&&i.includes("chrome")&&window.addEventListener("popstate",()=>{document.hasFocus()||document[e]||(0,s.nP)("chrome_mac_back_forward_button",{sampleRate:1})})}),o(this,"storeClickthroughProperties",e=>{this.clickthroughProperties&&(0,s.nP)("webapp.metrics.clickthroughs.overwritten",{sampleRate:1,tags:{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}}),this.clickthroughProperties={time:(0,a.Z)(),...e}}),o(this,"clearClickthroughProperties",()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null}),o(this,"registerApp",()=>{y.group("App Foreground",u()),null==this.appTimedPair?(this.appTimedPair=new l.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&n({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext,this.pins)):y.error("TimedPair already exists for app."),y.groupEnd()}),o(this,"unregisterApp",(t=!1,i=!1,a)=>{y.group("App Background",u());let{appTimedPair:l}=this;if(null!=l){this._pauseAllComponents();let e=l.end();this._startOffsiteTimedPair(),n({event_type:4701,duration_ns:e,pair_id:l.uuid},this.historyStackContext,this.pins),this.appTimedPair=null}else y.error("No TimedPair found for app.");let r=["beforeunload","pagehide"],s=r.includes(a?.type),o=r.includes(a?.pauseReason);(s||o)&&this._endOffsiteTimedPair(),i||e.flushContextEvents(t??!1),y.groupEnd()}),o(this,"_activateComponent",e=>{y.group("Activating component",u()),_&&y.log(e.getContext());let t=e.getTimedPair();if(t){t.start();let{view:i,viewParameter:a,component:l,element:r,objectId:s,clientTrackingParams:o}=e.getLoggerContext();n({event_type:4702,view_type:i,view_parameter:a,component:l,element:r,object_id_str:s,view_data:e.props.viewData,pair_id:t.uuid,clientTrackingParams:o,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}y.groupEnd()}),o(this,"_deactivateComponent",e=>{y.group("Deactivating component",u()),_&&y.log(e.getContext());let t=e.getTimedPair();if(t){let{view:i,viewParameter:a,component:l,element:r,objectId:s,clientTrackingParams:o}=t,d=t.end();n({event_type:4703,view_type:i,view_parameter:a,component:l,element:r,object_id_str:s,view_data:e.props.viewData,duration_ns:d,pair_id:t.uuid,clientTrackingParams:o,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}y.groupEnd()}),o(this,"_startOffsiteTimedPair",()=>{let{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new l.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,e.aux_data={...e.aux_data,time_to_offsite:void 0!==e.time&&null!==e.time&&"number"==typeof e.time?(0,a.Z)()-e.time:void 0},n({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext,this.pins))}),o(this,"_endOffsiteTimedPair",()=>{let{offsiteTimedPair:e,clickthroughProperties:t}=this;if(e&&t){let i=e.end();n({...t,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:i},this.historyStackContext,this.pins),this._onOffsiteEnd(),this.clearClickthroughProperties()}}),o(this,"_onOffsiteEnd",()=>{y.group("Trigger onOffsiteEndCallbacks"),h.forEach(e=>e({appTimedPair:this.appTimedPair,clickthroughProperties:this.clickthroughProperties,offsiteTimedPair:this.offsiteTimedPair,offsiteTimedPairForegroundId:this.offsiteTimedPairForegroundId})),y.groupEnd()}),o(this,"_pauseAllComponents",()=>{y.group("Pause all components"),g.forEach((e,t,n)=>{e===c.ACTIVE&&this._deactivateComponent(t),n.set(t,c.PAUSED)}),y.groupEnd()}),o(this,"_unpauseAllComponents",()=>{y.group("Unpause all components"),g.forEach((e,t)=>{let n=new l.Z(t.getLoggerContext());t.setTimedPair(n,()=>{g.set(t,c.ACTIVE),this._activateComponent(t)})}),y.groupEnd()})}setHistoryStackContext(e){this.historyStackContext=e}setPins(e){this.pins=e}registerComponent(e){null===this.appTimedPair?g.set(e,c.PAUSED):(g.set(e,c.ACTIVE),this._activateComponent(e))}unregisterComponent(e){g.get(e)===c.ACTIVE&&(this._deactivateComponent(e),e.setTimedPair(new l.Z(e.getLoggerContext()))),g.delete(e)}size(){return g.size}onOffsiteEnd(e){h.push(e)}removeOnOffsiteEnd(e){let t=h.indexOf(e);t>-1&&h.splice(t,1)}}}},822987:(e,t,n)=>{n.d(t,{j:()=>p,w:()=>u});var i=n(214877),a=n(342513),l=n(5859),r=n(839372),s=n(554786),o=n(494125),d=n(785893);let{Provider:c,useMaybeHook:u}=(0,a.Z)("TimeSpentManagerContext");function p({children:e}){let t=(0,i.v)(),n=(0,s.HG)(),{isAuthenticated:a}=(0,l.B)(),u=(0,r.w)({contextLogger:t,shouldExtractTrackingParams:n&&a});return(0,o.Z)(()=>{document.hasFocus()&&u.registerApp(),u.addEventListeners()}),(0,d.jsx)(c,{value:u,children:e})}},503325:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(172045),a=n(17314);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){l(this,"start",()=>(this.startTime=r(),this.startTime)),l(this,"end",()=>(this.endTime=r(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},373314:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(624797);function a(){let e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},623409:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(616550),l=n(96157),r=n(217058);let s=e=>(0,l.L6)(e)?"pin":(0,l.am)(e)?"board":(0,l.Xn)(e)?"login":(0,l.C$)(e)?"home":(0,l.cD)(e)?"profile":(0,l.dr)(e)?"ideas":(0,l.gT)(e)?"ideas-root":(0,l.tZ)(e)?"videos":(0,l.Q0)(e)?"videos-category":(0,l.$Y)(e)?"article":(0,l.E0)(e)?"shopping-spotlight":(0,l.Zz)(e)?"today":(0,l.j8)(e)?"unauth-profile":(0,l.f1)(e)?"shopping-root":(0,l.OX)(e)?"shopping-category":"other";function o(){let e=(0,a.TH)();return(0,i.useCallback)(({action:t,item:n,within:i})=>{let a=s(e);(0,r.My)(`logged_out_product.interaction.${a}.${t}`,{item:n||"none",within:i||"none"})},[e])}},618799:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),l=n(140017),r=n(923368),s=n(785893);function o({content:e,header:t,headerWidth:n,inCommentFeedRedesignExp:o,inMwebPdpCommentsExp:d,isCollapsible:c,isCommentSectionOpen:u,isContentLoaded:p,isOpenByDefault:m,maxHeight:g,onToggle:_,onOpen:h,previewContent:y,previewContentHeight:f,shouldToggleOnBodyTap:b,arrowDirection:S}){let[x,v]=(0,i.useState)(!1),[P,k]=(0,i.useState)(0),w=(0,i.useRef)(null),T=(0,l.ZP)(),I=(0,r.x4)(),E=w.current?.getBoundingClientRect().height;(0,i.useEffect)(()=>{(u||m&&p)&&v(!0)},[u,m,p]),(0,i.useLayoutEffect)(()=>{void 0===g&&w.current&&E&&E>P&&k(Math.ceil(E))},[P,E,g]);let A=()=>{c&&(v(!x),h&&!x&&h(),_&&_(!x))},C=S||"arrow-forward";return(0,s.jsx)(a.iP,{disabled:b&&u,onTap:b?A:void 0,children:(0,s.jsxs)(a.kC,{direction:"column",gap:o?3:0,children:[(0,s.jsx)(a.xu,{paddingY:o?0:y?1:5,width:n,children:(0,s.jsx)(a.iP,{onTap:A,children:(0,s.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[I?(0,s.jsx)(a.X6,{size:"400",children:t}):(0,s.jsx)(a.xv,{size:"300",weight:"bold",children:t}),c&&(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:x?`rotate(${"arrow-down"===C?"180deg":"-90deg"})`:""}},marginEnd:d?0:4,children:(0,s.jsx)(a.iP,{onTap:A,children:d?(0,s.jsx)(a.kC,{justifyContent:"center",width:48,children:(0,s.jsx)(a.JO,{accessibilityLabel:T._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:C,size:20})}):(0,s.jsx)(a.JO,{accessibilityLabel:T._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:C,size:I||o?16:20})})})]})})}),(0,s.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:`all 0.3s ease-in-out, visibility 0s linear ${x?"0s":"0.3s"}`,visibility:x||y?"visible":"hidden"}},"data-test-id":"accordion-panel",height:!x&&y?f:x?g||P:0,marginEnd:y?7:0,opacity:x||y?1:0,overflow:void 0===g?"hidden":"auto",children:[(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{display:x?"none":"block"}},children:y}),(0,s.jsx)(a.xu,{ref:w,dangerouslySetInlineStyle:{__style:{visibility:x?"visible":"hidden",transition:`all 0.3s ease-in-out, visibility 0s linear ${x||y?"0s":"0.3s"}`}},opacity:x||y?1:0,children:e})]})]})})}o.defaultProps={isCollapsible:!0,isContentLoaded:!0}},885121:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(328566),r=n(696534),s=n(140017),o=n(236817),d=n(785893);let c=({isExpanded:e,onToggle:t,expandedText:n,collapsedText:i})=>(0,d.jsx)(a.xu,{"data-test-id":`${e?"less":"more"}-description-container`,display:"inlineBlock",children:(0,d.jsx)(a.iP,{onTap:t,children:(0,d.jsx)(a.xv,{inline:!0,weight:"bold",children:e?n:i})})});function u({isExpanded:e,description:t,maxHeight:n,handleToggle:u,Wrapper:p}){let m=(0,i.useRef)(null),[g,_]=(0,i.useState)(!1),h=(0,s.ZP)(),y=(0,r.vs)();(0,i.useEffect)(()=>{if(!(m&&m.current))return;let{height:e}=m.current.getBoundingClientRect();e>n&&_(!0)},[m,n]);let f=(0,d.jsx)(c,{collapsedText:h._('... more', 'closeup.description.toggle.moreButton', 'Toggle more description button'),expandedText:h._('less', 'closeup.description.toggle.lessButton', 'Toggle less description button'),isExpanded:e,onToggle:u}),b=y?"#111111":"#FFFFFF";return(0,d.jsx)(p,{children:(0,d.jsx)(a.xu,{"data-test-id":"collapsible-description",maxHeight:e?void 0:n,overflow:"hidden",position:"relative",children:(0,d.jsxs)(o.Z,{dir:(0,o.j)(t),children:[(0,d.jsx)(a.xu,{ref:m,children:(0,d.jsxs)(a.xv,{inline:!0,children:[(0,d.jsx)(l.Z,{description:t}),g&&e&&(0,d.jsxs)(a.xv,{inline:!0,weight:"bold",children:["... ",f]})]})}),g&&!e&&(0,d.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${b} 50%, ${b}00 100%)`,textAlign:"end"}},position:"absolute",right:!0,width:140,children:f})]})})})}},274262:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);function l({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(i.xv,{color:t,inline:!0,size:n??"200",children:""})})}},629650:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),l=n(274262),r=n(785893);function s(e){return null!=e}function o({additionalPadding:e,color:t="darkGray",inline:n,items:o}){let d=e?(0,r.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,r.jsx)(l.Z,{color:t})}):(0,r.jsx)(l.Z,{color:t}),c=o.filter(s).reduce((e,t,n)=>[...e,0!==n?d:null,t],[]).filter(s).map((e,t)=>(0,r.jsx)(i.Fragment,{children:e},t));return 0===c.length?null:n?(0,r.jsx)(a.xu,{children:c}):(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:c})}},13848:(e,t,n)=>{n.d(t,{F9:()=>a,Zo:()=>i});let{Provider:i,useHook:a}=(0,n(342513).Z)("toastManagerContext")},88346:(e,t,n)=>{n.d(t,{M:()=>r,Q:()=>l});var i=n(667294);let a=(0,i.createContext)(null),l=()=>(0,i.useContext)(a),r=a.Provider},163471:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(88346);let a=()=>i.Q()?.showUnauthContextMenu||(()=>{})},207270:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(340523);let l="holdout",r="lop_holdout_unauth_id_h1_2024",s="pc_holdout_unauth_id_h1_2024";function o(){let{checkExperiment:e}=(0,a.F)();return{activateUnauthHoldoutExperiments:(0,i.useCallback)(()=>{e(r),e(s)},[e]),userIsEligibleForShippedLOPExperiment:()=>e(r).group!==l,userIsEligibleForShippedPCExperiment:()=>e(s).group!==l}}},460270:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},487487:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(689390),a=n(139655);let l=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,a.Z)(e);if(t.test(n.path)){let e=n.path.match(t);if(e)return(0,i.Z)(e[1]).pinId||void 0}}},373543:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(623891);let a=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,i.Z)(t[1])}return(0,i.Z)()}},862249:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(968946);let a=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,i.Z)(e))},998449:(e,t,n)=>{n.d(t,{Z:()=>l});let i=(e,t)=>0===e.lastIndexOf(t,0);var a=n(885896);let l=({url:e})=>{let t=(0,a.Z)("/");return i(e,t)?e.substr(t.length-1):e}},587070:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){let n=(0,i.useRef)([]),[a,l]=(0,i.useState)(),[r,s]=(0,i.useReducer)(a??(()=>t),t),o=(0,i.useCallback)(t=>{a?s(t):(n.current.length||e().then(e=>{l(()=>e.default)}),n.current=[...n.current,t])},[e,a]);return(0,i.useEffect)(()=>{a&&(n.current.forEach(s),n.current=[])},[a]),[r,o]}},494125:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);let a=e=>{(0,i.useEffect)(e,[])}},268127:(e,t,n)=>{n.d(t,{Y:()=>m,Z:()=>g});var i,a,l=n(667294);n(167912);var r=n(333739),s=n(807023);let o=void 0!==i?i:i=n(498896),d=void 0!==a?a:a=n(157485),c=e=>{let t=Symbol("SKIP"),n=e=>Object.entries(e).filter(([,e])=>e!==t).reduce((e,[t,n])=>({...e,[t]:n}),{});if("deprecated"!==e.type){let i=e.data;return n({...i.isEligibleForPdp||i.isOosProduct||i.isStaleProduct?{...(()=>{let e=i.richMetadata?.products?.[0];return{carousel_image_count:t,brand_signature:e?.brand?.signature||t,free_shipping_price:e?.shippingInfo?.freeShippingPrice||t,free_shipping_value:e?.shippingInfo?.freeShippingValue||t,num_variants:e?.variantSet?.variants?.length||t,total_dimension_option_count:e?.variantSet?.dimensionMetadata?.length||t,valid_dimension_option_count:t}})(),pin_show_pdp_oos:!!i.isOosProduct||t,pin_show_pdp_stale:!!i.isStaleProduct||t,pin_show_pdp:!!i.isEligibleForPdp||t}:{},pin_is_shop_the_look:!!(i.shoppingFlags?.includes(2)||i.aggregatedPinData?.isShopTheLook)||t,is_available:!!i.shoppingFlags?.includes(1)||t,is_product_pin_v2:!!i.shoppingFlags?.includes(5)||t,is_rich_product_pin:!!i.shoppingFlags?.includes(6)||t,is_organic_product_carousel:t,item_id:(i.richSummary?.products?.[0]||{}).itemId||t,item_set_id:(i.richSummary?.products?.[0]||{}).itemSetId||t,story_pin_id:i.storyPinData?i.storyPinDataId:t})}{let i=e.data;return i?n({...i.is_eligible_for_pdp||i.is_oos_product||i.is_stale_product?{...(()=>{let e=(i.rich_metadata||i.rich_summary)?.products?.[0],n=e?.additional_images?.length?(i.images?1:0)+e.additional_images.length:i.carousel_data?.carousel_slots?.length,a=i.rich_metadata?.products?.[0],l=a?.variant_set?.variants??[];return{carousel_image_count:n||t,brand_signature:a?.brand?.signature||t,free_shipping_price:a?.shipping_info?.free_shipping_price||t,free_shipping_value:a?.shipping_info?.free_shipping_value||t,num_variants:l.length||t,total_dimension_option_count:a?.variant_set?.dimension_metadata?.length||t,valid_dimension_option_count:(a?.variant_set?.dimension_metadata||[]).reduce((e,{name:t,values:n})=>e+(t&&n||[]).filter(e=>l.some(n=>n.dimensions?.[t??""]===e)).length,0)||t}})(),pin_show_pdp_oos:!!i.is_oos_product||t,pin_show_pdp_stale:!!i.is_stale_product||t,pin_show_pdp:!!i.is_eligible_for_pdp||t}:{},pin_is_shop_the_look:!!(i.shopping_flags?.includes(2)||i.aggregated_pin_data?.is_shop_the_look)||t,is_available:!!i.shopping_flags?.includes(1)||t,is_product_pin_v2:!!i.shopping_flags?.includes(5)||t,is_rich_product_pin:!!i.shopping_flags?.includes(6)||t,is_organic_product_carousel:!!(i.shopping_flags?.includes(10)||(i.product_pin_data?.items?.[0]||{}).additional_images)||t,item_id:(i.rich_summary?.products?.[0]||{}).item_id||t,item_set_id:(i.rich_summary?.products?.[0]||{}).item_set_id||t,story_pin_id:i.story_pin_data?i.story_pin_data_id:t}):{}}},u=e=>0===Object.keys(e).length?{}:{commerce_data:JSON.stringify(e)},p=e=>{let{childDataKey__DEPRECATED:t}=(0,s.Q)(o,e,{useLegacyAdapter:e=>({})}),{childDataKey__DEPRECATED:n}=(0,r.Zm)(d,null==t?{type:"deprecated",data:null}:t,{useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e}),i=(0,l.useRef)(n);return(0,l.useEffect)(()=>{i.current=n}),(0,l.useCallback)(e=>u({...e?.default,...c(i.current),...e?.override}),[])},m=({children:e,pinKey:t})=>e(p(t)),g=p},748058:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);let a=(e,t)=>{let n=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{n.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])}},194602:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294);let a=()=>()=>{},l=()=>!1,r=()=>!0,s=()=>(0,i.useSyncExternalStore)(a,l,r)},760101:(e,t,n)=>{n.d(t,{G:()=>s,Z:()=>o});var i=n(667294),a=n(616550),l=n(785893);let r=(0,i.createContext)(!0);function s({children:e}){let t=(0,a.TH)(),[n,s]=(0,i.useState)(!0),o=(0,i.useRef)(t);return(0,i.useEffect)(()=>{o.current!==t&&(o.current=t,s(!1))},[t]),(0,l.jsx)(r.Provider,{value:n,children:e})}function o(){return(0,i.useContext)(r)}},322864:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){let[n,a]=(0,i.useState)(e),l=(0,i.useRef)(new Map),r=(0,i.useRef)(t),s=r.current;if(s!==t){r.current=t,l.current.set(s,n);let i=l.current.get(t)??e;return a(i),[i,a]}return[n,a]}},353453:(e,t,n)=>{n.d(t,{GW:()=>a,RL:()=>i,s4:()=>l});let i="ios",a="android",l="ipad"},369708:(e,t,n)=>{n.d(t,{Wr:()=>c,rG:()=>d});var i=n(667294),a=n(214877),l=n(342513),r=n(340523),s=n(785893);let{Provider:o,useHook:d}=(0,l.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:n}=(0,a.v)(),{checkExperiment:l}=(0,r.F)(),[d,c]=(0,i.useState)(!1),[u,p]=(0,i.useState)([]),[m,g]=(0,i.useState)([]),[_,h]=(0,i.useState)({}),y=l("web_ads_mrc_video_impression").anyEnabled,f=e=>{h(t=>({...t,[e]:!0}))},b=(0,i.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],n=(e.aux_data?.commerce_data||"").includes("story_pin_id");y&&(t||n)&&p(t=>[...t,e].slice(-1e3))}},[y]),S=(0,i.useCallback)(e=>{18===e.eventType&&y&&g(t=>[...t,e].slice(-1e3))},[y]),x=e=>{let{renderDuration:t,time:n}=e.event_data.pinImpressions[0],i=Math.max(t,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:n+i,renderDuration:i}]}}},v=e=>{if(e.eventData){let{time:t,endTime:n}=e.eventData,i=Math.max((n??0)-(t??0),15e8);return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(t??0)+i}}}return null};(0,i.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:n}=e.event_data.pinImpressions[0];return!_[n]||!y||(t(x(e)),!1)});e.length!==u.length&&p(e)},[u,y,t,_]),(0,i.useEffect)(()=>{let e=m.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(_[t]&&y){let t=v(e);return t&&n(t),!1}return!0});e.length!==m.length&&g(e)},[m,y,n,_]);let P=(0,i.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:S,logMrcVideoAdEventOnPlay:b,setCaptionsEnabled:c,setVideoPlayed:f,videosPlayed:_}),[d,b,S,_]);return(0,s.jsx)(o,{value:P,children:e})}},115557:(e,t,n)=>{n.d(t,{$f:()=>l,Cy:()=>d,DR:()=>a,EB:()=>p,Fm:()=>o,Y7:()=>u,bR:()=>s,gJ:()=>r,lG:()=>c});var i=n(172045);let a=1,l=2,r=1e3,s=1e3,o=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function p(){return(0,i.Z)()}},258194:(e,t,n)=>{n.d(t,{Z:()=>i});function i({cropArea:e,cropSource:t,requestParams:n,searchQuery:i,surfaceType:a,title:l,trafficSource:r}){let s=[];if(e){let{x:t,y:n,w:i,h:a}=e;t>=0&&n>=0&&i>=0&&a>=0&&s.push(`x=${t}`,`y=${n}`,`w=${i}`,`h=${a}`)}return t&&s.push(`cropSource=${t}`),a&&s.push(`surfaceType=${a}`),l&&s.push(`full_feed_title=${encodeURIComponent(l)}`),i&&s.push(`q=${i}`),r&&"unknown"!==r&&s.push(`rs=${r}`),n&&s.push(`requestParams=${encodeURIComponent(n)}`),s.length?`?${s.join("&")}`:""}},755453:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(258194);function a({cropArea:e,cropSource:t,isProductPage:n,pinId:a,requestParams:l,searchQuery:r,surfaceType:s,title:o,trafficSource:d}){let c=(0,i.Z)({cropArea:e,cropSource:t,requestParams:l,searchQuery:r,surfaceType:s,title:o,trafficSource:d}),u="";return n&&(u="products/"),`/pin/${a}/visual-search/${u}${c}`}},171966:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(107366),a=n(263148);function l(e,t){let{auxData:n,clientTrackingParams:l,hasPin:r,pinId:s,isThirdPartyAd:o}=t||{},d={pin_id:s,check_only:!0,client_tracking_params:r?l:void 0,url:e,aux_data:JSON.stringify(n)};o&&(d.third_party_ad=s,delete d.pin_id),(0,i.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:n,url:i}=e.data;if(!["blocked","suspicious","porn"].includes(n)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(i);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,a.Gj)(e,{params:r?{pinId:s,clientTrackingParams:l,auxData:n,isThirdPartyAd:o}:{pinId:s}})})}},446653:(e,t,n)=>{n.d(t,{r:()=>S,K:()=>b});var i=n(667294),a=n(342513),l=n(340523),r=n(757640),s=n(149722),o=n(998577),d=n(573810),c=n(325362);let u=e=>{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=u(e[n]));return t},p=(e,t)=>{let n=[];for(let i in e)i!==t&&n.push({id:i,...u(e[i])});let i=n.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),a=new Map;for(let e of i)a.set(e.id,e);return a},m={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},g=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},_=({dispatch:e,isEnabled:t,state:n})=>{let{orbacVisibility:a,disableProfileChanger:l,headerVisible:r}=n,s=(0,i.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]);return{changeProfile:s,toggleORBACVisibility:(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:n??!a})},[t,e,a]),toggleDisableProfileChanger:(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:n??!l})},[t,e,l]),toggleHeaderVisibility:(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:n??!r})},[t,e,r])}},h=e=>{let[t,n]=(0,i.useReducer)(g,m),a=_({dispatch:n,isEnabled:e,state:t}),{activeProfile:l,orbacVisibility:r}=t;return(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,d.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacVisibility",r)},[r]),(0,i.useEffect)(()=>{(0,d.Nh)("orbacActiveProfile",l)},[l]),{state:t,actions:a,receiveProfiles:(0,i.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:p(e,t)})},[n])}};var y=n(785893);let{Provider:f,useMaybeHook:b}=(0,a.Z)("RoleBasedAccessControlContext"),S=({children:e})=>{let t;let{checkExperiment:n}=(0,l.F)(),a=(0,s.Z)(),d=!!(a.isAuth&&a.isPartner&&n("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:u,receiveProfiles:p}=h(d),{activeProfile:m,headerVisible:g,profiles:_=[]}=c,b=_?Array.from(_.values()):[],S=(0,o.Z)(b),x=!!a.isAuth&&b.length>0&&S,v=a.isAuth?a.id:"",P=a.isAuth?a.username:"",{changeProfile:k,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:I}=u;(0,i.useEffect)(()=>{if(d){if("string"==typeof S){k(S);return}m||k(v)}},[S,v,d,k,m]),(0,i.useEffect)(()=>{d&&(x&&!g&&I(!0),!x&&g&&I(!1))},[I,x,d,g,_]);let{data:E}=(0,r.Z)(d?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),A=E?.profiles;a&&a.isAuth&&c.activeProfile===a.id?t={id:a.id,permissions:["OWNER"],user:{username:P,businessName:a.fullName,imgUrl:a.imageSmallUrl}}:m&&c.profiles&&(t=c.profiles.get(m)),(0,i.useEffect)(()=>{A&&p(A,v)},[p,A,v]);let C=c.profiles?Array.from(c.profiles.values()):[];return(0,y.jsx)(f,{value:{profiles:C,headerVisible:c.headerVisible,activeProfile:t,changeProfile:k,toggleORBACVisibility:w,toggleDisableProfileChanger:T,toggleHeaderVisibility:I},children:e})}},785059:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(340523),a=n(446653),l=n(998577);let r=()=>{let{checkExperiment:e}=(0,i.F)(),t=(0,a.K)(),{activeProfile:n}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,s=(0,l.Z)(t?.profiles||[]),{anyEnabled:o}=e("useorbacroutematcher_in_useorbacactingas");return r&&(!o||s)&&n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},998577:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(616550),a=n(96157),l=n(340523),r=n(149722),s=n(19447);let o=e=>{let t=(0,i.TH)(),n=(0,r.Z)(),o=(0,s.S6)(),{anyEnabled:d}=(0,l.F)().checkExperiment("web_m10n_business_access_orbac_www"),c=(0,i.$B)("/:username"),u=c?.params?.username,p=(0,i.$B)("/pin/:id"),m=!!p?.params?.id&&o(p.params.id)?.pinner?.id;if((0,a.ej)(t))return!1;if((0,a.RU)(t))return!0;if((0,a.mY)(t))return d;let g=e.concat(n.isAuth?{user:{username:n.username},id:n.id}:{}).find(e=>{let{user:t={},id:n}=e||{},{username:i}=t;return(!!i&&!!u||!!m&&!!n)&&(i===u||m===n)});return!!g&&g.id}},199677:(e,t,n)=>{n.d(t,{D3:()=>d,DX:()=>s,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>r,lJ:()=>l,nl:()=>a,q6:()=>o});let i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},a=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:e.advertiser?.merchant_id,s=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,o=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),d=(e,t,n)=>!!(o(e,t,n)||e&&e.isAuth&&t===e.id),c=(e,t,n)=>d(e,t&&t.owner&&t.owner.id||"",n);function u(e,t,n){return d(e,t?t.id:"",n)}},415199:(e,t,n)=>{n.d(t,{pb:()=>b,nf:()=>S,lV:()=>x});var i=n(667294),a=n(702664),l=n(441143),r=n.n(l),s=n(216167),o=n(342513),d=n(107366),c=n(638747),u=n(105737),p=n(996523);let m={feature_map:Object.freeze({})},g=(e,t)=>{let n={...(0,p.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,u.ZP)(e,n)?e:n},_=(e=m,t)=>{if("FETCH_COMPLETE"===t.type){let{payload:{resource:n}}=t,{data:i}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){let t=(i||[]).reduce((t,n)=>(t[n.id]=g(e[n.id],n),t),{});return{...e,...t}}if("UnifiedCommentsResource"===n&&i&&i.length>0){let t=i.filter(e=>"aggregatedcomment"===e.type).reduce((t,n)=>(t[n.id]=g(e[n.id],n),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){let t=i[0].aggregated_comment,n=t?{[t.id]:g(e[t.id],t)}:{},a=i[0].creator_reply,l=a?{[a.id]:g(e[a.id],a)}:{};return{...e,...n,...l}}if("AggregatedCommentFeaturesResource"===n&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:n}}=t;return n.id?{...e,[n.id]:n}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:n}}=t,i={...e};return delete i[n],i}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter(e=>e[1].user?.id!==n))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:n}}=t;return{...e,[n.id]:g(e[n.id],n)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:n}}=t,i=e[n.id],a=i.reaction_counts[1]||0,l={1:n.reaction_by_me?a+1:a-1},r={...i,reaction_by_me:n.reaction_by_me,reaction_counts:l};return{...e,[n.id]:r}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:n}}=t,i=e[n.id],a=i.helpful_count||0,l=n.marked_helpful_by_me?a+1:a-1,r={...i,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:l};return{...e,[n.id]:r}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:n}}=t,i={...e[n.aggregated_comment_id],highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:i}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:n,id:i}}=t,a=e[i];if(!a)return e;let l={...a,comment_count:a.comment_count+n};return{...e,[i]:l}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:n,tagged_users:i}}=t,a={...e[n],tagged_users:i};return{...e,[n]:a}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:n,translatedText:i}}=t,a={...e[n],translatedText:i};return{...e,[n]:a}}return e};var h=n(785893);let{Provider:y,useHook:f}=(0,o.Z)("AggregatedComments");function b({children:e}){let t=(0,a.useSelector)(({resources:e})=>e.UnifiedCommentsResource),n=m;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),i=t?.reduce((e,t)=>(e[t.id]=g(n[t.id],t),e),{});n={...n,...i}});let[l,r]=(0,i.useReducer)(_,n),s=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",s),(0,c.my)("AggregatedCommentFeaturesResource",s),(0,c.Z8)("AggregatedCommentFeedResource",s),(0,c.my)("AggregatedCommentFeedResource",s),(0,c.Z8)("AggregatedCommentReplyFeedResource",s),(0,c.my)("AggregatedCommentReplyFeedResource",s),(0,c.Z8)("DidItCommentsResource",s),(0,c.my)("DidItCommentsResource",s),(0,c.Z8)("UnifiedCommentsPreviewResource",s),(0,c.my)("UnifiedCommentsPreviewResource",s),(0,c.Z8)("UnifiedCommentsResource",s),(0,c.my)("UnifiedCommentsResource",s);let o=(0,i.useMemo)(()=>({aggregatedComments:l,dispatch:r}),[l,r]);return(0,h.jsx)(y,{value:o,children:e})}function S(){let{dispatch:e}=f();return(0,i.useMemo)(()=>({aggregatedCommentCreated(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:(t,n)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:n})=>(0,d.Z)({url:`/v3/aggregated_comments/${e}/flag/`,method:"PUT",data:{commentId:e,reason:t,detailedReasons:n}}),deleteCommentMention:async t=>{let{resource_response:n}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),i=n.data??{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:i.id,tagged_users:i.tagged_users}})},translateAggregatedComment:async t=>{try{let{resource_response:n}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),i=n.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:i}})}catch(n){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:n})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:n?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:n,isHighlighted:i})=>{r()(t,"Could not find comment"),r()(n,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:n,highlight:!i}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:n,is_highlighted:!i}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:n})=>{(0,d.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:n?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:n?0:1}}})},updateAggregatedComment:async({commentId:t,force:n,orbacSubjectId:i,tags:a,text:l})=>{let{resource_response:r}=await s.Z.create("AggregatedCommentResource",{commentId:t,force:n,tags:a,text:l,...i?{orbacSubjectId:i}:{}}).callUpdate({showError:!1}),{tagged_users:o}=r.data??{};e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:o.map(e=>({...e})),tags:JSON.parse(a),text:l}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:n,passcode:i})=>{let{resource_response:a}=await s.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:n,passcode:i}).callUpdate({showError:!1});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:a.data??Object.freeze({})}}})},updateCommentCount:(t,n)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}}),[e])}function x(){let{aggregatedComments:e}=f();return e}},413110:(e,t,n)=>{n.d(t,{n:()=>a,o:()=>i});let i={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},a={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},239821:(e,t,n)=>{n.d(t,{g:()=>p,I:()=>u});var i=n(667294),a=n(342513),l=n(705895),r=n(259866);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},o=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:a,currentTime:l,allowMultipleOrganicVideos:s}=n,{videosAutoplaying:o}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=o,p=(0,r.Z)(c),m=(0,r.Z)(u);return a||!d||s?(a?p[i]={pinId:i,currentTime:l,paused:!1}:m[i]={pinId:i,currentTime:l,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?d:i,promotedVideosAutoplaying:p,organicVideosAutoplaying:m}}):e}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:i,isPromoted:a,currentTime:l}=n,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:o,organicVideosAutoplaying:d}=s,c=(0,r.Z)(o),u=(0,r.Z)(d);return a?c[i]={...c[i],paused:!0,currentTime:l}:u[i]={...u[i],paused:!0,currentTime:l},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var d=n(785893);let{Provider:c,useHook:u}=(0,a.Z)("AppUI");function p({children:e}){let[t,n]=(0,i.useReducer)(o,s),a=(0,i.useCallback)(e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),r=(0,i.useCallback)(e=>n({type:"SET_APP_FOCUS_STATE",payload:e}),[]),u=(0,i.useCallback)(e=>n({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,i.useCallback)(e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),m=(0,i.useCallback)(e=>n({type:"SET_IS_AUTOPLAY",payload:e}),[]),g=(0,i.useCallback)(e=>n({type:"SET_VIEWPORT_SIZE",payload:e}),[]),_=(0,i.useCallback)(e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),h=(0,i.useMemo)(()=>({pauseAutoplay:a,setCurrentVideo:u,setFooterPlusButtonVisible:p,setIsAutoplay:m,setViewportSize:g,toggleTypeaheadOverlay:_,setAppFocusState:r,appUI:t}),[a,u,p,m,g,_,r,t]);return(0,i.useEffect)(()=>{l.Z.onSessionResume(()=>{r(!0)}).onSessionPause(()=>{r(!1)})},[r]),(0,d.jsx)(c,{value:h,children:e})}},873342:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k,mobileStyles:()=>v,styles:()=>x});var i,a=n(667294);n(167912);var l=n(616550),r=n(883119),s=n(755704),o=n(798580),d=n(6619),c=n(207012),u=n(140017),p=n(340370),m=n(456299),g=n(340523),_=n(5859),h=n(268127),y=n(852733),f=n(879977),b=n(139655),S=n(785893);let x={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}},v={container:{backgroundColor:"rgba(0, 0, 0, 0)"}},P=void 0!==i?i:i=n(579304);function k({pinKey:e,sourceLinkStyle:t,surface:n,url:i}){let v=(0,u.ZP)(),[k,w]=(0,a.useState)(!1),T=(0,c.Z)(P,e),I=T.carouselData?.index||0,{isAuthenticated:E}=(0,_.B)(),{checkExperiment:A}=(0,g.F)(),C=E&&A("web_obfuscate_offsite_url_in_href").anyEnabled,{entityId:R}=T,j=function({adDestinationUrl:e,domain:t,carouselDataId:n,carouselSlotLink:i}){let a=t||"";return e&&(a=(0,b.Z)(e).hostname||""),n&&(a=i&&(0,b.Z)(i).hostname||""),a.replace("www.","")}({adDestinationUrl:T.adDestinationUrl,domain:T.domain,carouselDataId:T.carouselData?.entityId,carouselSlotLink:T.carouselData?.carouselSlots?.[I].link}),L=(0,l.TH)(),F=(0,h.Z)(T)(),{slotIndex:D}=(0,f.E)(),O=(0,o.Z)({boardUrl:T.board?.url,location:L,pinId:T.entityId,pinnerUserName:T.pinner?.username,storyPinDataId:T.storyPinDataId,trackingParams:T.trackingParams,trackingParamsMap:(0,m.Z)(T)}),N=(0,y.Z)(12,{object_id_str:R,clientTrackingParams:O,aux_data:{grid_index:D,is_promoted:T.isPromoted,...F}}),M=(0,y.Z)(101,{element:162,object_id_str:R,clientTrackingParams:O,aux_data:{...F}}),Z=(0,y.Z)(8948,{object_id_str:R,clientTrackingParams:O,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:D,...F}}),B=()=>{N(),M(),Z()},U=(0,p.Z)({href:i,target:"blank",externalData:{auxData:F,pin:T&&{advertiserId:T.advertiserId,attributionSourceId:T.attributionSourceId,board:T.board&&{url:T.board.url},campaignId:T.campaignId,entityId:T.entityId,isDownstreamPromotion:T.isDownstreamPromotion,isPromoted:T.isPromoted,pinner:T.pinner&&{username:T.pinner.username},pinPromotionId:T.pinPromotionId,promoter:T.promoter&&{entityId:T.promoter.entityId},storyPinDataId:T.storyPinDataId,trackingParams:T.trackingParams,trackingParamsMap:(0,m.Z)(T)},surface:n}});return"icon-only"===t?(0,S.jsx)(r.I_,{accessibilityLabel:v._('link', 'Website url link', 'Website url link'),bgColor:"white",href:i,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),B(),U({event:e})},rel:"nofollow",size:"sm"}):(0,S.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...x.container,...k?x.containerHovered:Object.freeze({}),..."truncated-text"===t?x.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),position:"relative",children:(0,S.jsx)(d.Z,{hovered:k,pinKey:T,slotIndex:D,viewType:1,children:(0,S.jsx)(r.Tg,{fullWidth:!1,href:C?(0,s.Z)(i):i,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),B(),U({event:e})},rel:"nofollow",rounding:4,children:(0,S.jsxs)(r.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:x.text},display:"flex",justifyContent:"between",children:[(0,S.jsx)(r.xu,{display:"flex",flex:"none",marginBottom:3,marginStart:3,marginTop:3,children:(0,S.jsx)(r.JO,{accessibilityLabel:v._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,S.jsx)(r.xu,{alignItems:"center",display:"flex",height:18,marginEnd:3,marginStart:2,overflow:"hidden",children:(0,S.jsx)(r.xv,{color:"default",lineClamp:1,size:"200",weight:"bold",children:j})})]})})})})}},852733:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(214877),l=n(879977);function r(e,t){let{logContextEvent:n}=(0,a.v)(),{componentType:r,contextLogData:s,viewParameter:o,viewType:d}=(0,l.E)(),{aux_data:c,view_type:u,view_parameter:p,component:m,clientTrackingParams:g,..._}=t??{};return(0,i.useCallback)(()=>{n({event_type:e,view_type:u||d,view_parameter:p||o,component:m||r,clientTrackingParams:g,..._,aux_data:{...c,...s}})},[n,c,g,_,p,u,m,r,s,e,o,d])}},879977:(e,t,n)=>{n.d(t,{B:()=>i,E:()=>a});let{Provider:i,useHook:a}=(0,n(342513).Z)("trackingParametersContext")},467139:(e,t,n)=>{n.d(t,{UP:()=>s,Wv:()=>a,ZF:()=>i,zI:()=>l,zl:()=>r});let i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],l=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],s=["BaseBoardPinGrid"]},740707:(e,t,n)=>{n.d(t,{Z:()=>s}),n(422578);var i,a=n(207012),l=n(899394);let r=void 0!==i?i:i=n(844107);function s({pinKey:e,feedbackType:t,viewParameter:n}){let i=(0,a.Z)(r,e);return function({feedbackType:e,viewParameter:t,boardFollowedByMe:n,hasPromoter:i,isDownstreamPromotion:a,pinnerFollowedByMe:r,hasRecommendationReason:s,recommendationReasonHasBoard:o,recommendationReasonReason:d}){return(0,l.hP)({boardFollowedByMe:n,feedbackType:e,promotion:i?{isDownstreamPromotion:a}:void 0,pinnerFollowedByMe:r,recommendationReason:s?{hasBoard:o,reason:d}:void 0,viewParameter:t})}({feedbackType:t,viewParameter:n,boardFollowedByMe:!!i?.board?.followedByMe,hasPromoter:!!i?.promoter,isDownstreamPromotion:!!i?.isDownstreamPromotion,pinnerFollowedByMe:!!i?.pinner?.explicitlyFollowedByMe,hasRecommendationReason:!!i?.recommendationReason,recommendationReasonReason:i?.recommendationReason?.reason??void 0,recommendationReasonHasBoard:!!i?.recommendationReason?.board})}},870526:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(883119),l=n(490166),r=n(785893);let s=40,o=70,d={__style:{borderRadius:"4px",padding:"10px 14px"}},c={__style:{borderWidth:"1px",borderStyle:"solid",borderColor:"white"}},u={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},p=e=>({__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...e}}),m=e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default",g=({color:e,icon:t})=>t?u:"transparent"===e?{__style:{...d.__style,...c.__style}}:d,_=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:_=s,minWidth:h=o,onTouch:y,pressState:f,shape:b,text:S})=>{let[x,v]=(0,i.useState)(!1),P=m(t),k=g({color:t,icon:c}),w=(0,r.jsx)(a.xu,{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),position:"relative",children:(0,r.jsx)(a.xu,{color:"primary"===t&&x?"errorBase":t,dangerouslySetInlineStyle:"pill"===b?p(n):k,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:_,minWidth:h,children:(0,r.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,r.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,r.jsx)(a.JO,{accessibilityLabel:e,color:P,icon:c,inline:!0,size:"check"===c?16:20})}),(0,r.jsx)(a.xv,{color:P,inline:!0,lineClamp:1,size:"300",weight:"bold",children:S})]})})});return y?(0,r.jsx)(l.Z,{onTouch:y,pressState:f||"none",rounding:"pill"===b?"pill":2,children:(0,r.jsx)(a.xu,{ref:d,children:w})}):w}},233731:(e,t,n)=>{n.d(t,{MZ:()=>R,di:()=>L,Ai:()=>j});var i=n(667294),a=n(616550),l=n(883119),r=n(286988),s=n(587703),o=n(422210),d=n(96157),c=n(805783),u=n(5859),p=n(191313),m=n(573810),g=n(217058),_=n(149722),h=n(90647),y=n(547010),f=n(773616),b=n(870526),S=n(460270),x=n(263148),v=n(862249),P=n(171966);let k=({children:e,external:t,externalQueryParams:n,target:i,href:l,features:r})=>{let s=(0,a.k6)();if(!l)return null;let o=(0,S.Z)(l);return e({navigate:e=>{e.preventDefault(),(0,v.Z)({url:o})||t?"undefined"!=typeof window&&window.Windows?(0,P.Z)(o):(0,x.Gj)(o,{queryParams:n,features:r}):(0,x.G3)({event:e,href:l,history:s,target:"blank"===i?"blank":null})}})};var w=n(785893),T=n(86264),I=n(669177),E=n(386008);let A=e=>"string"==typeof e?e:`${e.pathname||""}${e.search?`?${e.search}`:""}`,C=(e,t=!1)=>function({isAppUpsellDisabled:n,...b}){let{children:S,clientTrackingParams:x,deeplinkUri:v,external:P,onTouch:k,refresh:C,to:R,viewParameter:j,viewType:L}=b,F=(0,f.Z)(),[D,O]=(0,i.useState)(!1),[N,M]=(0,i.useState)(!1),[Z,B]=(0,i.useState)(!1),{isAuth:U}=(0,_.Z)(),{userAgent:{platform:K},locale:z}=(0,u.B)(),H=(0,E.Tt)(),V=(0,s.Z)(),G=(0,a.TH)();(0,i.useEffect)(()=>{(async function(){(0,r.v)()&&(B(!0),(await (0,r.Z)()).length>0&&M(!0))})()},[]),(0,i.useEffect)(()=>{U||"true"===(0,m.qn)("hasAppInstalledWasLogged")||((0,g.My)(`unauth.app_upsell.has_app.${N.toString()}`),(0,m.Nh)("hasAppInstalledWasLogged","true"))},[N,U]);let $=()=>{V({event_type:1701,view_type:L,view_parameter:j}),D&&O(!1)};return(0,w.jsxs)(l.xu,{"data-test-id":"deeplink-wrapper",children:[D&&(0,w.jsx)(y.Z,{app_upsell_type:"deep-link-app-upsell-modal",clientTrackingParams:x,deepLinkUri:v,isOpen:!0,onDismiss:()=>{V({component:14157,element:10308,event_type:10220,view_type:L||202,view_parameter:j,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,p.Nh)("deeplinkBehavior","branchfallback"),$()},shouldTrackDismiss:!0,to:R,viewParameter:j,viewType:L}),(0,w.jsx)(T.Z,{children:i=>(0,w.jsx)(e,{...b,onTouch:e=>{let a=F&&!n&&U&&!P&&!C&&!(0,c.FP)(window)&&!("ios"===K&&(z||"").startsWith("ar"))&&(0,I.kp)((0,o.Z)(H?.created_at));if(a){let t=!0,n=!1;"string"==typeof v&&(v||"").startsWith("/pin/")&&((0,d.uM)(G)||(0,d.am)(G)||(0,d.C$)(G))?Z&&N&&v&&"android"===K&&(t=!1):(t=!1,n=!0),t?(e.stopPropagation(),e.preventDefault(),O(!0)):n||(e.stopPropagation(),e.preventDefault(),V({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{upsell_reason:"deep-link-app-upsell-modal"}}),i(v??(0,h.B)(G,"android"===K),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,p.qn)("deeplinkBehavior")||(0,m.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,m.Nh)("fallbackAttempt",1),i(v,"deep-link-app-upsell-modal",`${window.location.origin}${A(R)}`),$());!(t&&a)&&k&&k(e)},children:S})})]})},R=C(({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,features:a,inline:r=!1,newTab:s,nofollow:o,onTouch:d,onBlur:c,onFocus:u,pressState:p,rounding:m,to:g})=>(0,w.jsx)(k,{external:n,externalQueryParams:i,features:a,href:g,target:s?"blank":null,children:({navigate:n})=>(0,w.jsx)(l.rU,{accessibilityLabel:e,display:r?"inlineBlock":"block",href:(0,S.Z)(g),onBlur:c?({event:e})=>c(e):void 0,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),d?.(e),e.defaultPrevented||n(e)},onFocus:u?({event:e})=>u(e):void 0,rel:o?"nofollow":"none",rounding:m,tapStyle:(Array.isArray(p)?p:[p]).includes("compress")?"compress":"none",underline:"none",children:t})})),j=C(({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:a,...l})=>(0,w.jsx)(k,{external:e,externalQueryParams:t,href:a,target:n?"blank":null,children:({navigate:e})=>(0,w.jsx)(b.Z,{onTouch:t=>{i?.(t),t.defaultPrevented||e(t)},...l})})),L=C(b.Z,!0)},86264:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(214877),a=n(340523),l=n(5859),r=n(344064),s=n(669177),o=n(286988),d=n(624797),c=n(953565);let u="http://play.google.com/store/apps/details?id=com.pinterest",p=["access_token","new_password","new_password_confirm","password","next"],m=(e,t)=>t?(0,d.ru)(e,{invite_code:t}):e,g=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?m(e,n):"ios"===t||"ipad"===t?m(e.iOS,n):"android"===t?m(e.android,n):null},_=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:a,app_upsell_type:l})=>({deeplink_path:g(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:a,utm_source:140,utm_medium:2152,app_upsell_type:l,...i?{af_r:i}:null}),h=({deeplinkUri:e,invite_code:t,platform:n,unauthId:i,app_upsell_type:a})=>{let l=JSON.stringify({deeplink_path:g(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:i});return{referrer:(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:l,app_upsell_type:a})}},y=({unauthId:e,app_upsell_type:t})=>({referrer:encodeURI((0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t}))}),f=({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,logContextEvent:a,platform:l,redirectToLite:r,unauthId:s,userAgent:p,app_upsell_type:m})=>{if(a?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),t){let g=_({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,platform:l,unauthId:s,userAgent:p,app_upsell_type:m});if((0,c.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:l}}),i&&(0,c.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,c.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!s}}),r){(0,c.nP)("mweb.deeplink.lite_link",{sampleRate:1}),a?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});let e=y({unauthId:s,app_upsell_type:m});window.location.href=(0,d.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===l){let e=h({deeplinkUri:t,invite_code:i,platform:l,unauthId:s,app_upsell_type:m});(0,o.v)()?(0,o.Z)().then(t=>{if(t.length>0){let e=(0,d.ru)(window.location.href,g);a?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.open(e)||a?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}})}else a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)(u,e)}).catch(()=>{(0,c.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)(u,e))}else{if((0,c.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===l&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,d.ru)("https://pinterest.com/pinterest-predicts",g);return}a?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",g)}}};var b=n(785893);function S({children:e,invite_code:t}){let{isAuthenticated:n,isBot:r,unauthId:o,userAgent:{platform:d,raw:c}}=(0,l.B)(),{logContextEvent:u}=(0,i.v)(),{checkExperiment:p}=(0,a.F)();return e(async(e,i,a)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),f({isAuthenticated:n,checkExperiment:p,deeplinkUri:e,fallbackUrl:a,invite_code:t,logContextEvent:u,platform:d,redirectToLite:(0,s.Rp)({isBot:r,platform:d,userAgent:c}),unauthId:o,userAgent:c,app_upsell_type:i})})}let x=e=>(0,b.jsx)(r.ty,{children:t=>(0,b.jsx)(S,{...e,invite_code:t})});x.displayName="DeepLinkNavigator";let v=x},213503:(e,t,n)=>{n.d(t,{Z:()=>k}),n(167912);var i,a=n(883119),l=n(587703),r=n(207012),s=n(140017),o=n(340523),d=n(48481),c=n(217058),u=n(623409),p=n(13848),m=n(554786),g=n(494125),_=n(149722),h=n(735728),y=n(358589),f=n(386008),b=n(155087),S=n(155117),x=n(785893);let v=({children:e,pulsar:t,testId:n})=>t.show?(0,x.jsx)(a.xu,{"data-test-id":n,position:"relative",children:(0,x.jsxs)(a.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,x.jsx)(a.o3,{})})]})}):(0,x.jsx)(a.xu,{"data-test-id":n,children:e}),P=void 0!==i?i:i=n(106398);function k({auxData:e,disabled:t,disableLog:n,followEventType:i,id:k,inline:w,invertColors:T,isFollowed:I,isIdeaPin:E,isLegoEnabled:A,isSecondaryButton:C,isUserFollowButton:R,isUserMe:j,onFollow:L,onUnfollow:F,pinKey:D,shouldUseLegoColors:O,showPulsar:N,size:M,textType:Z="FollowFollowing",unfollowEventType:B,viewParameter:U,viewType:K,clientTrackingParams:z}){let H;let V=(0,s.ZP)(),G=(0,m.HG)(),{showToast:$}=(0,p.F9)(),W=(0,u.Z)(),q=(0,l.Z)(),Y=(0,d.Z)(),{checkExperiment:X}=(0,o.F)(),J=(0,y.Z)(),Q=(0,_.Z)(),ee=Q&&Q.isAuth,{unauthFollowUserId:et,setUnauthFollowUserId:en}=(0,S.f)(),ei=(0,f.mN)()(k),ea=ei&&{imageMediumUrl:ei.image_medium_url,username:ei.username},el=(0,r.Z)(P,D),er=el?.linkDomain,es=el?.nativeCreator,eo=el?.originPinner,ed=el?.pinner;H=es||(er?er.officialUser:eo||ed);let ec=ea??H;(0,g.Z)(()=>{!G&&ee&&et&&k&&et===k&&L(k)});let eu=J({fn:()=>{ee?I?(F(k),n||q({event_type:B,view_type:K,view_parameter:U,object_id_str:k,aux_data:e,clientTrackingParams:z})):(L(k),R&&$(({hideToast:e})=>{let t=ec?.username?`/${ec.username}/`:"";return(0,x.jsx)(b.Z,{handleHide:e,href:t,imageUrl:ec?.imageMediumUrl||"",text:(0,x.jsx)(a.xv,{lineClamp:4,children:V._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:k})}),n||q({event_type:i,view_type:K,view_parameter:U,object_id_str:k,aux_data:e,clientTrackingParams:z})):((0,c.NC)(I?"press_profile_unfollow":"press_profile_follow"),W({action:"click",item:I?"unfollow-button":"follow-button"}),Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:E?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:G&&X("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!G&&X("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),G||en(k??""),(0,c.NC)("clickthrough"))},modalHeader:(0,h.N4)({i18n:V,toFollow:!I})}),ep=!I&&!!N,em=()=>{if(j)return V._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===Z)return I?V._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):V._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===Z?V._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):V._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return I?e:V._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(v,{pulsar:ep?{show:!0,onClick:eu}:{show:!1},testId:j||I?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(a.zx,{accessibilityLabel:em(),color:O||"AddRemove"===Z||!A&&C||T?"gray":"red",disabled:j||t,fullWidth:w,onClick:ep?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||q({event_type:101,component:13672,element:11951,object_id_str:k,view_type:K,view_parameter:U,aux_data:e,clientTrackingParams:z}),eu()},selected:I||!1,size:M,text:em()})})}},983983:(e,t,n)=>{n.d(t,{L1:()=>l,Rz:()=>o,WZ:()=>r,cI:()=>a,fe:()=>s,hu:()=>i});let i=64,a=80,l=22,r="HeaderContent",s=671,o={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},939809:(e,t,n)=>{n.d(t,{Cy:()=>d,HE:()=>c,Mv:()=>l,PR:()=>g,Y4:()=>u,dL:()=>a,fS:()=>p,fv:()=>s,lu:()=>m,qS:()=>o,uc:()=>r});var i=n(666472);let a=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},l=e=>{let t=(0,i.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},r=e=>{let t=(0,i.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},o=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},m=e=>{let t=(0,i.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},g=e=>{let t=(0,i.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},490166:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);function l({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:l,rounding:r,fullWidth:s=!1,pressState:o="none",accessibilityLabel:d,role:c}){let u=(Array.isArray(o)?o:[o]).includes("compress");return(0,a.jsx)(i.iP,{accessibilityLabel:d,fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:l&&(({event:e})=>l(e)),role:c,rounding:r,tapStyle:u?"compress":"none",children:e})}},911049:(e,t,n)=>{n.d(t,{H:()=>f,Z:()=>S});var i=n(667294),a=n(616550),l=n(883119),r=n(140017),s=n(406893),o=n(160133),d=n(96157),c=n(5859),u=n(554786),p=n(587703),m=n(623409),g=n(785893);function _({breadcrumb:e,isLastBreadcrumb:t,viewType:n,isHubPage:i}){let a=(0,p.Z)(),r=(0,m.Z)();return(0,g.jsx)(l.xu,{color:t?"secondary":void 0,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:t?2:void 0,paddingY:t?1:void 0,rounding:"pill",children:(0,g.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(l.rU,{href:e.url??"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),r({action:"click",item:"breadcrumb"}),a({event_type:102,component:176,element:1155,view_parameter:3713,view_type:n})},children:(0,g.jsx)(l.xv,{color:i&&!t?"light":"default",inline:!0,overflow:"noWrap",size:"100",weight:"bold",children:e.name})}),!t&&(0,g.jsx)(l.xu,{display:"inlineBlock",paddingX:3,children:(0,g.jsx)(l.xv,{color:i&&!t?"light":"default",inline:!0,size:"100",weight:"bold",children:(0,g.jsx)(l.JO,{accessibilityLabel:"breadcrumb arrow",color:i?"light":"default",icon:"arrow-forward",size:8})})})]})})}var h=n(255095);let y=`
  .article-row {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  div::-webkit-scrollbar {
    display: none;
  }
`,f=50.5;function b({direction:e,rightOverflowGradientOffset:t}){return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0), #fff)`,pointerEvents:"none",right:t?`${t}px`:void 0}},height:32,left:"left"===e,position:"absolute",right:"right"===e,width:48})}function S({breadcrumbs:e,disableOverflowGradient:t,shouldHideLazyExploreButton:n,isHubPage:p,shouldLeftAlign:m,rightOverflowGradientOffset:S,contentRef:x}){let v=(0,r.ZP)(),P=(0,a.TH)(),{origin:k}=(0,c.B)(),w=(0,u.ml)(),T=(0,u.HG)(),[I,E]=w?[2,3]:[4,4],A=(0,d.Q0)(P),C=!1,R=202;(0,d.uM)(P)?R=3:(0,d.dr)(P)?(R=442,C=!0):(0,d.$Y)(P)||(0,d.E0)(P)?R=1:A&&(C=!0,R=580);let j=A?{name:v._('Watch', 'unauth.header.tabs.videos', 'label for videos root'),url:"/videos/"}:{name:v._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'),url:"/ideas/"},L=[...A||!n?[j]:[],...C?e.slice(0,e.length-1):[...e]];return(0,g.jsxs)(l.xu,{"data-test-id":"breadcrumbs",children:[(0,g.jsx)(s.Z,{unsafeCSS:y}),(0,g.jsx)(o.Z,{children:(0,g.jsx)(l.xu,{alignItems:m?"start":"center",dangerouslySetInlineStyle:{__style:{flexDirection:m?void 0:"row-reverse"}},"data-test-id":"breadcrumbs-list",direction:"column",display:"flex",height:f,justifyContent:T?"center":void 0,overflow:"scrollX",paddingY:E,children:(0,g.jsxs)(l.xu,{ref:x,alignItems:"center",display:"flex",justifyContent:"end",margin:T||m?void 0:"auto",paddingX:I,children:[!t&&(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(b,{direction:"left"}),(0,g.jsx)(b,{direction:"right",rightOverflowGradientOffset:S})]}),L.map((e,t,n)=>(0,g.jsx)(_,{breadcrumb:e,isHubPage:p,isLastBreadcrumb:t===n.length-1,viewType:R},e.url))]})})}),(0,g.jsx)(h.Z,{testId:"breadcrumbs-list-metadata",type:"application/ld+json",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{name:v._('Pinterest', 'unauth.header.tabs.pinterest', 'label for pinterest website'),url:""},j,...e].map((e,t)=>({"@type":"ListItem",position:t+1,name:e.name,item:`${k}${e.url??""}`}))}})]})}},548810:(e,t,n)=>{n.r(t),n.d(t,{SearchIconButton:()=>c,default:()=>u});var i=n(616550),a=n(883119),l=n(140017),r=n(623409),s=n(290550),o=n(529001),d=n(785893);let c=({isCloseupPreview:e})=>{let t=(0,r.Z)(),n=(0,i.k6)(),s=(0,l.ZP)();return(0,d.jsx)(a.hU,{accessibilityLabel:s._('click to search on Pinterest', 'searchIconButton.iconLabel', 'label for a button that opens a search page to search on Pinterest'),dataTestId:"search-icon",icon:"search",onClick:()=>{let i=(0,o.Z)({searchPath:"/search/",shouldInputFocusOnTouch:!0});return t({action:"click",item:"search-icon"}),e&&t({action:"click",item:"search-icon",within:"closeup-preview"}),n.push(i)},size:"md"})};function u({isUnauthMwebProminentSearchBarExpIconGroup:e,pinId:t,pageRef:n}){return(0,d.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(a.kC.Item,{flex:"grow",children:(0,d.jsx)(s.Z,{isUnauthMwebProminentSearchBarExpIconGroup:e,pinId:t,rightOverflowGradientOffset:48,shouldUseGraphQL:!!n})}),(0,d.jsx)(a.xu,{marginEnd:2,position:"absolute",right:!0,children:(0,d.jsx)(c,{})})]})}},290550:(e,t,n)=>{n.d(t,{Z:()=>g});var i,a=n(667294),l=n(167912),r=n(883119),s=n(695238),o=n(757640),d=n(911049),c=n(785893);let u=void 0!==i?i:i=n(685333),p=(0,s.Z)({useGraphQLAdapter:e=>{let t=(0,l.useLazyLoadQuery)(u,{pinId:e});return{breadcrumbs:t.v3GetPinQuery?.data?.pinJoin?.seoBreadcrumbs?.map(({name:e,url:t})=>({name:e??"",url:t??""}))??[],shouldHideLazyExploreButton:!1}},useLegacyAdapter:e=>{let{data:t,isLoaded:n}=(0,o.Z)({name:"PinResource",options:{id:e,field_set_key:"unauth_ssr_lazy_load"}});return{shouldHideLazyExploreButton:!n,breadcrumbs:t?.pin_join?.seo_breadcrumbs||[]}}}),m=({windowWidth:e,breadcrumbsWidth:t})=>e-t-96>=0;function g({pinId:e,shouldUseGraphQL:t,rightOverflowGradientOffset:n,isUnauthMwebProminentSearchBarExpIconGroup:i}){let[l,s]=(0,a.useState)(!1),o=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{if(o.current&&i){let{width:e}=o.current.getBoundingClientRect();s(!m({windowWidth:window.innerWidth,breadcrumbsWidth:e}))}},[i]),(0,c.jsx)(p,{input:t?{enabled:!0,data:e,suspense:{fallback:(0,c.jsx)(d.Z,{breadcrumbs:[],shouldHideLazyExploreButton:!0})}}:{enabled:!1,data:e},children:({data:{breadcrumbs:e,shouldHideLazyExploreButton:t}})=>(0,c.jsx)(r.xu,{marginEnd:l?12:void 0,children:(0,c.jsx)(d.Z,{breadcrumbs:e,contentRef:o,rightOverflowGradientOffset:n,shouldHideLazyExploreButton:t})})})}},189:(e,t,n)=>{n.d(t,{G:()=>p,Kl:()=>m,vo:()=>u});var i=n(667294),a=n(342513),l=n(638747),r=n(587070),s=n(785893);let o=()=>n.e(70809).then(n.bind(n,570809)),{Provider:d,useHook:c}=(0,a.Z)("NativeEngagements");function u({children:e}){let[t,n]=(0,r.Z)(o,[]);(0,l.Z8)("NativeInteractionsResource",e=>{n({type:"FETCH_COMPLETE",payload:e})}),(0,l.my)("NativeInteractionsResource",e=>{n({type:"FETCH_MORE_COMPLETE",payload:e})});let a=(0,i.useMemo)(()=>({dispatch:n,nativeEngagements:t}),[n,t]);return(0,s.jsx)(d,{value:a,children:e})}function p(){let{dispatch:e}=c();return(0,i.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function m(){let{nativeEngagements:e}=c();return e}},33767:(e,t,n)=>{n.d(t,{U:()=>p,m:()=>m});var i=n(667294),a=n(702664),l=n(342513),r=n(422210),s=n(588664),o=n(340523),d=n(149722),c=n(785893);let{Provider:u,useHook:p}=(0,l.Z)("NavFooterContext");function m({children:e}){let[t,n]=(0,i.useState)(),[l,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(0),[_,h]=(0,i.useState)(!1),[y,f]=(0,i.useState)(!1),[b,S]=(0,i.useState)(!1),[x,v]=(0,i.useState)(!1),{checkExperiment:P}=(0,o.F)(),k=(0,s.Z)(null,(0,d.Z)()),w=(0,a.useSelector)(e=>e.session.isAuthenticated),T=(0,a.useSelector)(e=>w?e.users[e.session.userId]:void 0),I=(0,r.Z)(T?.created_at),E=P("mweb_modernize_navbar").anyEnabled;return(0,c.jsx)(u,{value:{forceShowNavFooter:b,homeFlyoutText:t,isNavFooterHiddenAfterScroll:l,isNavFooterHiddenByPinActionBar:x,navFooterHeight:l?0:E?w&&(E&&k||I)?64:52:60,numUnauthSavedPins:m,setForceShowNavFooter:S,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:p,setIsNavFooterHiddenByPinActionBar:v,setNumUnauthSavedPins:g,setShowHomeBadge:h,setShowHomeFlyoutWithButton:f,showHomeBadge:_,showHomeFlyoutWithButton:y},children:e})}},425040:(e,t,n)=>{n.d(t,{Z:()=>l,w:()=>r});var i=n(883119),a=n(232887);let l=new i.H3([a.Z]),r=160},810052:(e,t,n)=>{n.d(t,{D:()=>i,a:()=>a});let{Provider:i,useMaybeHook:a}=(0,n(342513).Z)("unauthPageWrapperContext")},477455:(e,t,n)=>{n.d(t,{K:()=>r,T:()=>s});var i=n(667294),a=n(785893);let l=(0,i.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),r=()=>(0,i.useContext)(l);function s({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:i})=>n({...t,[e]:i})}),[t]);return(0,a.jsx)(l.Provider,{value:r,children:e})}},570253:(e,t,n)=>{n.d(t,{o:()=>r});var i=n(224796),a=n(191313),l=n(580472);let r=({canUpsellNativeApp:e})=>{let t;if("undefined"==typeof window)return t;let n=(0,a.qn)(i.CP),r=!!(n&&Date.now()-Number(n)<864e5),s=Number((0,a.qn)(i.X)||0)>=3,o=(0,a.qn)(l.V5),d=(Date.now()-Number(o)<l.UH?(0,a.qn)(l.QJ):0)>=l.km;return!e||r||s?d||(t="saveSend"):t="appUpsell",t}},884141:(e,t,n)=>{function i(e){let t=Object.keys(e);return t.length>0?t.sort((t,n)=>e[n]-e[t]).slice(0,3):null}function a(e){let t=Object.values(e);return t.length>0?t.reduce((e,t)=>e+t,0):0}function l({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:a,isEligibleForStaticImageIdeaPin:l}){return!n&&!t&&(!!a||!!i)&&(null==e||!e)&&!l}n.d(t,{At:()=>i,J6:()=>l,Ud:()=>a})},761203:(e,t,n)=>{n.d(t,{bn:()=>s,fJ:()=>d,gC:()=>o});var i=n(702664),a=n(342513),l=n(785893);let{Provider:r,useHook:s}=(0,a.Z)("Boards");function o(){let e=s();return t=>e[t]}function d({children:e}){let t=(0,i.useSelector)(({boards:e})=>e,i.shallowEqual);return(0,l.jsx)(r,{value:t,children:e})}},19447:(e,t,n)=>{n.d(t,{AF:()=>s,H0:()=>o,S6:()=>d,_S:()=>c});var i=n(702664),a=n(342513),l=n(785893);let{Provider:r,useHook:s,useMaybeHook:o}=(0,a.Z)("Pins");function d(){let e=s();return t=>e[t]}function c({children:e}){let t=(0,i.useSelector)(({pins:e})=>e,i.shallowEqual);return(0,l.jsx)(r,{value:t,children:e})}},386008:(e,t,n)=>{n.d(t,{Tt:()=>u,cm:()=>c,kW:()=>o,kY:()=>p,mN:()=>d});var i=n(702664),a=n(342513),l=n(149722),r=n(785893);let{Provider:s,useHook:o}=(0,a.Z)("Users");function d(){let e=o();return t=>e[t]}function c(){let e=o();return(t,n=!1)=>{let i=Object.keys(e).find(n=>e[n].username===t);if(i||!n)return e[i??""]}}function u(){let{id:e}=(0,l.Z)();return o()[e??""]}function p({children:e}){let t=(0,i.useSelector)(({users:e})=>e,i.shallowEqual);return(0,r.jsx)(s,{value:t,children:e})}},97032:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),a=n(782677),l=n(883119),r=n(216167),s=n(25919),o=n(140017),d=n(339001),c=n(827625),u=n(638365),p=n(708171),m=n(81149),g=n(785893);let _=e=>({duration:5e3,thumbnail:(0,g.jsx)(l.xu,{"data-test-id":"pin-save-toast",height:48,width:48,children:(0,g.jsx)(m.Z,{boardId:e})})});var h=n(454514),y=n(149722);function f({boardId:e,hideToast:t,pinId:n,originalPinId:i}){let a=(0,o.ZP)(),r=(0,y.Z)();return(0,g.jsx)(h.ZP,{duration:5e3,onHide:t,primaryAction:{accessibilityLabel:a._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${n}/repin/?isEditingPin=true&pinBoardId=${e??""}&&isFromToast=true&&originalPinId=${i??""}`,label:a._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:t,role:"link"},text:(0,g.jsxs)(l.xv,{children:[(0,g.jsx)(l.xv,{inline:!0,children:a._('Saved to ', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile')}),(0,g.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(l.rU,{display:"inlineBlock",href:r.isAuth?`/${r.username}/_saved`:"/",target:"self",underline:"hover",children:a._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})]}),thumbnail:{icon:(0,g.jsx)(l.JO,{accessibilityLabel:a._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var b=n(117512),S=n(539426);let x="RepinResource",v=({board:e,section:t})=>{let n=(0,o.ZP)(),a="quick_saves"===e.layout?n._('Profile', 'EditPin.Quicksaves.BoardName', 'Name for Quicksaves board that we want to surface to users'):e.name;return t?(0,d.nk)(n._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(l.xv,{color:"default",children:n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,g.jsx)(l.xv,{color:"default",weight:"bold",children:a})]})};class P{constructor({boardId:e,dispatch:t,history:n,isOneTapSave:i=!1,isQuickSave:l=!1,onSuccess:r,originalPinId:s,pinId:o,section:d,showNewUserSavetoProfileAnimation:c=!1,showRepinToasts:p,trackingParams:m,userId:g,viewType:_,historyPush:h,suggestedBoardIds:y,savePinId:f,eventContext:b=null,pinData:{trackingParams:v,viewParameter:P,pinnedToBoardId:k}}){var w,T,I;w="_getNormalizedResponse",T=e=>(0,a.Fv)(e.resource_response.data,S.Z[x]),(w="symbol"==typeof(I=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(w,"string"))?I:String(I))in this?Object.defineProperty(this,w,{value:T,enumerable:!0,configurable:!0,writable:!0}):this[w]=T,this.boardId=e,this.trackingParams=m,this.clientTrackingParams=(0,u.Z)(m.clientTrackingParams||"",v),this.dispatch=t,this.history=n,this.onSuccess=r,this.originalPinId=s,this.pinId=o,this.pinnedToBoardId=m.pinnedToBoardId||(k??""),this.showNewUserSavetoProfileAnimation=c,this.showRepinToasts=p,this.section=d,this.isOneTapSave=i,this.isQuickSave=l,this.userId=g,this.viewType=_??3,this.historyPush=h,this.suggestedBoardIds=y,this.savePinId=f,this.pinViewParameter=P,this.eventContext=b}get resourceOptions(){return{pin_id:this.pinId,board_id:this.boardId,section:this.section?.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){let e=null!==this.eventContext&&void 0!==this.eventContext?{...this.resourceOptions,eventContext:this.eventContext}:this.resourceOptions;return r.Z.create(x,{...e,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then(t=>{this.onSuccess&&this.onSuccess();let n=t.resource_response.data,{board:i}=n,{isQuickSave:a,originalPinId:r,showNewUserSavetoProfileAnimation:d}=this,u=this._getNormalizedResponse(t);if(this.dispatch((0,c.XM)(x,this.resourceOptions,t,u)),this.savePinId(this.resourceOptions.pin_id,n.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){let e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(x,e,t,u)),this.savePinId(this.originalPinId||"",n.id)}this.dispatch((0,b.M)(n.id,i.id,this.section?this.section.id:void 0,this.userId));let{showRepinToasts:m}=this;return m&&m(({hideToast:e})=>{if(a&&!d)return(0,g.jsx)(f,{boardId:n.board.id,hideToast:e,originalPinId:r,pinId:n.id});let{thumbnail:t}=_(i.id);return(0,g.jsx)(p.Z,{button:d&&(0,g.jsx)(o.oz,{children:e=>(0,g.jsx)(l.zx,{fullWidth:!0,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),this.historyPush(`/pin/${n.id}/repin/?isEditingPin=true&pinBoardId=${i.id}&&isFromToast=true&&originalPinId=${r??""}`)},text:e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins')})}),href:this.section?`${i.url}${this.section.slug??""}`:i.url,isRepinToExistingBoard:!0,onHide:e,text:(0,g.jsx)(v,{board:i,section:this.section}),thumbnail:t})}),this.dispatch((0,s.fO)({event_type:5,pin_id:this.originalPinId||this.pinId,new_pin_id:n.id,did_repin:!0})),e(this.trackingData),n})}}},329593:(e,t,n)=>{n.d(t,{Z:()=>U});var i,a,l=n(702664);n(167912);var r=n(883119),s=n(696534),o=n(200201),d=n(207012),c=n(140017),u=n(5859),p=n(757640),m=n(554786),g=n(386008),_=n(667294),h=n(25919),y=n(233731),f=n(616550),b=n(587703),S=n(190971),x=n(454514),v=n(422210),P=n(340523),k=n(623409),w=n(13848),T=n(237040),I=n(739382),E=n(358589),A=n(33767),C=n(92056),R=n(170568),j=n(615806),L=n(256918),F=n(785893);let D=()=>{};var O=n(771981);let N=({onTap:e,shouldShowSavedButton:t,text:n})=>(0,F.jsx)(r.iP,{fullWidth:!1,onTap:({event:t})=>{e?.(t)},rounding:"pill",children:(0,F.jsx)(r.xu,{alignItems:"center",color:t&&(0,s.Yc)()?"lightWash":"primary",display:"flex",height:O.oe,justifyContent:"center",paddingX:O.rM,paddingY:O.Ai,rounding:O.dX,children:(0,F.jsx)(r.xv,{color:t?"dark":"light",size:n.length>5?"100":"300",weight:"bold",children:n})})}),M=void 0!==i?i:i=n(188873),Z=({buttonText:e,clientTrackingParams:t,color:n="red",deviceType:i,experience:a,hasQuickSave:s,hasSaveHandoffExperience:o,inline:u=!0,isLegoSaveStyle:p,isOnIdeaPinCloseup:m,onTouch:O,onUnsave:Z,pinId:B,pinKey:U,pinnedToBoardId:K,shape:z,shouldShowSavedButton:H,to:V,viewParameter:G,viewType:$})=>{let W=(0,c.ZP)(),q=(0,l.useDispatch)(),Y=(0,h.Ig)();(0,_.useEffect)(()=>{a&&a.placement_id&&q(Y(a.placement_id,a.experience_id))},[a,q,Y]);let X=function({clientTrackingParams:e,experience:t,hasSaveHandoffExperience:n,isPromoted:i,onError:a,onTouch:r,onUnsave:s,pinId:o,pinnedToBoardId:d,shouldShowSavedButton:u,showSingleToast:p}){let m=(0,c.ZP)(),y=(0,b.Z)(),O=(0,k.Z)(),N=(0,l.useDispatch)(),M=(0,f.k6)(),Z=(0,f.TH)(),{showToast:B}=(0,w.F9)(),U=function({showSingleToast:e}){let t=(0,l.useDispatch)(),n=(0,w.F9)()[e?"showOneToast":"showToast"],{forceShowNavFooter:i,setForceShowNavFooter:a}=(0,A.U)(),r=(0,l.useSelector)(({session:e})=>e.shouldHideNavBar);return(e,l)=>{l||(r&&t((0,R.Cp)()),t((0,R.WF)()),i||a(!0)),setTimeout(()=>{l||(r&&t((0,R.FK)()),t((0,R.a5)()),i||a(!1)),n(e)},C.Tt)}}({showSingleToast:p}),K=(0,L.M)(),z=Z.pathname.startsWith("/pin"),H=(0,l.useSelector)(({session:e})=>e.hasSavedUnauthPin),V=(0,l.useSelector)(({session:e})=>e.unauthSavePinId),G=(0,g.Tt)(),$=G?.pin_count,W=(0,_.useRef)(null),q=n&&!H,Y=(0,E.Z)(),{checkExperiment:X}=(0,P.F)(),J=(0,h.be)(),Q=(0,v.Z)(G?.created_at)||X("mweb_show_repin_toast_animation_to_res_user").anyEnabled,{isGraphQLEnabledInGeneral:ee}=(0,T.nF)(),et=e=>M.push(e),en=(0,S.c)(),ei=o?()=>{y({event_type:102,element:11933}),N((0,j.Z)({checkExperiment:X,history:M,i18n:m,logContextEvent:y,onSuccess:()=>{t&&N(J(t.placement_id,t.experience_id)),en("Save",{pin_id:o,is_promoted:i})},originalPinId:o,pinId:o,trackingParams:{clientTrackingParams:e,pinnedToBoardId:d},showNewUserSavetoProfileAnimation:Q,showRepinConfirmation:n&&!z?()=>void 0:U,disableRepinAnimation:V===o,pinCount:$,historyPush:et,savePinId:K?.save??(()=>{})})).catch(e=>{B(({hideToast:t})=>(0,F.jsx)(x.ZP,{onHide:t,text:e.message||m._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),type:"error"})),a?.()})}:D;return((0,_.useEffect)(()=>{q&&!W.current&&o&&!ee&&(O({action:"trigger",item:"unauth-save-button-quicksave"}),y({event_type:14581}),ei(),N((0,R.e2)())),W.current=q}),o)?Y({fn:e=>{e.stopPropagation(),e.preventDefault(),r&&r(e),u?u&&s&&s(e):ei()},modalHeader:(0,I.Bx)(m)}):null}({clientTrackingParams:t,experience:a,hasSaveHandoffExperience:o,isPromoted:d.Z(M,U)?.isPromoted,onTouch:O,onUnsave:Z,pinId:B,pinnedToBoardId:K,shouldShowSavedButton:H}),J={accessibilityLabel:W._('Pin', 'Pin accessibility label', 'Pin accessibility label'),color:n,inline:p?void 0:u,minHeight:p?48:void 0,onTouch:s?X:O,onUnsave:s?X:Z,pressState:"compress",shape:p?"pill":z,size:"lg",text:e||W._('Save', 'Auth mobile web save button for pin closeup', 'Auth mobile web save button for pin closeup'),to:V,unsaveAccessibilityLabel:W._('Saved', 'SaveButton.ExperimentalSavedButtonAccessibilityLabel', 'Accessibility label on a saved button - Pin has already been saved')},Q=H?(0,F.jsx)(r.zx,{accessibilityLabel:J.unsaveAccessibilityLabel,fullWidth:J.inline,onClick:({event:e})=>{J.onUnsave?.(e)},selected:!0,size:J.size,text:J.text}):(0,F.jsx)(y.Ai,{...J,clientTrackingParams:t,deeplinkUri:"deeplinkUri",deviceType:i,upsellType:"save",viewParameter:G,viewType:$});return m&&"desktop"!==i&&(Q=H?(0,F.jsx)(N,{onTap:J.onUnsave,shouldShowSavedButton:!0,text:J.text}):(0,F.jsx)(y.MZ,{...J,clientTrackingParams:t,deeplinkUri:"deeplinkUri",deviceType:i,isActionButton:!0,upsellType:"save",viewParameter:G,viewType:$,children:(0,F.jsx)(N,{onTap:J.onTouch,shouldShowSavedButton:!1,text:J.text})})),(0,F.jsx)(r.xu,{"data-test-id":H?"saved-button-mobile":"save-button-mobile",children:Q})},B=({i18n:e,isSaved:t})=>{let n=(0,s.Yc)();return t?{buttonText:e._('Saved', 'closeup.savedButton.text', 'Auth mobile web save button for pin closeup when user has saved the Pin being viewed'),color:n?"darkGray":"white",inline:!1}:Object.freeze({})};function U({buttonText:e,clientTrackingParams:t,pinRef:i,pinId:s,pinnedToBoardId:_,shouldShowSavedButton:h,to:y,...f}){let b=(0,c.ZP)(),S=(0,m.ZP)(),{isAuthenticated:x}=(0,u.B)(),v=(0,g.Tt)(),P=x?v:null,k=B({i18n:b,isSaved:h});(0,p.Z)(P?{name:"UserResource",options:{user_id:P.id,field_set_key:"save_behavior"}}:null);let w=P?.save_behavior,T=(0,l.useSelector)(({session:e})=>e.unauthSavePinId),I=x&&!!T,E=(0,o._)({id:1000152}),A=0===w||I,C=void 0!==a?a:a=n(870965),R=(0,d.Z)(C,i);return(0,F.jsx)(r.xu,{"data-test-id":"standard-save-button",children:(0,F.jsx)(Z,{clientTrackingParams:t,deviceType:S,experience:E,hasQuickSave:A,hasSaveHandoffExperience:I,pinId:s,pinKey:R,pinnedToBoardId:_,shouldShowSavedButton:h,to:y,...f,...k,isLegoSaveStyle:!0})})}},580472:(e,t,n)=>{n.d(t,{QJ:()=>a,UH:()=>l,V5:()=>i,km:()=>r});let i="saveSendEducationModalLastDismissed",a="saveSendEducationModalTimesDismissed",l=864e5,r=2},367408:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),l=n(785893);class r extends i.Component{componentDidMount(){this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){let e=this.props.children?i.Children.only(this.props.children):null;return(0,l.jsx)(a.xu,{ref:e=>this.anchor=e,children:e})}}},557874:(e,t,n)=>{n.d(t,{Z:()=>h,s:()=>_});var i=n(667294),a=n(342513),l=n(608575),r=n(883119),s=n(930837),o=n(140017),d=n(339001),c=n(785893);let u=()=>{let e=(0,o.ZP)(),{dismissWarning:t}=_()??{};return(0,c.jsx)(r.xu,{paddingX:3,children:(0,c.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{let e=(0,o.ZP)();return(0,c.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(r.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},m=({message:e,sanitized_url:t})=>{let n=(0,o.ZP)(),{dismissWarning:i}=_()??{};return(0,c.jsx)(s.ZP,{accessibilityModalLabel:n._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,c.jsx)(u,{}),heading:n._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:i,children:(0,c.jsxs)(r.xu,{padding:6,children:[(0,c.jsx)(r.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(p,{},"learnMoreLink")})}),(0,c.jsxs)(r.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(r.xu,{marginEnd:3,children:(0,c.jsx)(r.JO,{accessibilityLabel:n._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(r.xv,{inline:!0,lineClamp:1,weight:"bold",children:l.parse(t).hostname})]})]})})},{Provider:g,useMaybeHook:_}=(0,a.Z)("SpammyClickthrough");function h({children:e}){let[t,n]=(0,i.useState)(null),a=(0,i.useCallback)(()=>{n(null)},[n]),l=(0,i.useCallback)(e=>{n(e)},[n]),r=(0,i.useMemo)(()=>({dismissWarning:a,showWarning:l}),[a,l]);return(0,c.jsxs)(g,{value:r,children:[t&&(0,c.jsx)(m,{...t}),e]})}},155117:(e,t,n)=>{n.d(t,{f:()=>s,w:()=>o});var i=n(667294),a=n(342513),l=n(785893);let{Provider:r,useHook:s}=(0,a.Z)("Session");function o({children:e}){let[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)(()=>n(void 0),[]),s=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a}),[t,a]);return(0,l.jsx)(r,{value:s,children:e})}},10630:(e,t,n)=>{n.d(t,{ZP:()=>k});var i,a=n(667294),l=n(167912),r=n(883119),s=n(140017),o=n(406893),d=n(567344),c=n(5859),u=n(217058),p=n(623409),m=n(554786),g=n(19447),_=n(115526),h=n(785893);let y=`
div::-webkit-scrollbar {
  display: none;
}
`,f=void 0!==i?i:i=n(325828);function b({direction:e,handleClick:t,testId:n,isRTL:i}){let a=(0,s.ZP)(),l=(0,p.Z)(),o=i?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,h.jsx)("div",{"aria-hidden":"true","aria-label":"arrow","data-test-id":n,onClick:e=>{l({action:"click",item:"board-pills-arrow"}),t(e)},role:"button",style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},tabIndex:-1,children:(0,h.jsx)(r.xu,{borderStyle:"none",left:"left"===e,position:"absolute",right:"right"===e,children:(0,h.jsx)(r.xu,{"data-test-id":"board-pills-arrow",children:(0,h.jsx)(r.JO,{accessibilityLabel:a._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),color:"subtle",icon:"left"!==e?o[0]:o[1],size:12})})})})}function S({name:e,url:t}){let[n,i]=(0,a.useState)(!1),l=(0,p.Z)(),{country:s,locale:o}=(0,c.B)(),d=(0,m.HG)();return(0,h.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},"data-test-id":"vase-tag",display:"inlineBlock",marginEnd:1,marginTop:1,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),paddingX:2,paddingY:1,rounding:8,children:(0,h.jsx)(r.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,h.jsx)(r.rU,{display:"inlineBlock",href:t,onClick:()=>{l({action:"click",item:"vase-tag"}),t.split("/").length>=2&&"shopping"===t.split("/")[1]&&(0,u.My)(`${d?"dweb":"mweb"}.vase.shoppingKlp.click`,{country:s,locale:o})},rounding:8,tapStyle:"compress",underline:"hover",children:e}):e})})}function x({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n,shoppingKlpUrls:i}){let l=(0,a.useRef)(null),[s,u]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),_=(0,p.Z)(),{isRTL:f}=(0,c.B)();(0,a.useEffect)(()=>{let e=l.current,t=()=>{if("inlineWithScrollArrows"===n&&l.current){let e=l.current,t=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),i=t>4,a=t+e.clientWidth<n-4,r=f?i:a,s=f?a:i;u(r),g(s)}else u(!1),g(!1)};return t(),e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[n,f]);let x=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&_({action:"click",item:"board-pills-arrow-button-right"});let n=l.current;if(!n)return;let i=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(i,0)},{annotationsWithLinks:v}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});v.map(e=>e.name||"");let P=[...v];return i&&(P=i.reduce((e,t)=>(e.push({name:t.split("/")[2].split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),url:t}),e),P)),(0,h.jsx)(r.kC,{alignItems:"center",justifyContent:"end",children:(0,h.jsxs)(r.xu,{"data-test-id":"vase-carousel",display:"flex",overflow:"hidden",position:"relative",width:"100%",children:[(0,h.jsx)(o.Z,{unsafeCSS:y}),m&&(0,h.jsx)(b,{direction:"left",handleClick:x("left"),isRTL:f,testId:"left-scroll-arrow"}),(0,h.jsx)(r.xu,{ref:l,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},overflow:"auto",padding:0,children:P.map(({name:e,url:t})=>(0,h.jsx)(S,{name:e,url:t},t||e))}),s&&(0,h.jsx)(r.xu,{"data-test-id":"board-pills-arrow-button-right",children:(0,h.jsx)(b,{direction:"right",handleClick:x("right"),isRTL:f,testId:"right-scroll-arrow"})})]})})}function v({dedupeVisualAnnotations:e,graphqlRef:t,mode:n,pinId:i,shoppingKlpUrls:a}){let r=(0,l.useFragment)(f,t),s=(0,_.Z)(r),o=r?.pinJoin?.visualAnnotation||[];return(e&&(o=e({pinId:i,visualAnnotations:o})),o.length<1)?null:(0,h.jsx)(x,{mode:n,pinJoinAnnotationsWithLinks:s||void 0,pinJoinVisualAnnotation:o,shoppingKlpUrls:a})}function P(e){let t=(0,g.S6)()(e.pinId);return(t?.pin_join?.visual_annotation||[]).length<1?null:(0,h.jsx)(x,{mode:e.mode,pinJoinAnnotationsWithLinks:t?.pin_join?.annotations_with_links,pinJoinVisualAnnotation:t?.pin_join?.visual_annotation,shoppingKlpUrls:e.shoppingKlpUrls})}function k(e){return e.graphqlRef?(0,h.jsx)(v,{...e}):(0,h.jsx)(P,{...e})}},499631:(e,t,n)=>{n.d(t,{Z:()=>v});var i,a=n(667294);n(167912);var l=n(883119),r=n(333739),s=n(140017),o=n(339001),d=n(558273),c=n(567344),u=n(5859),p=n(175789),m=n(217058),g=n(623409),_=n(554786),h=n(809216),y=n(785893);function f({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:a,pinnerImageLargeUrl:r}){let s=(0,g.Z)();if(!e||!t)return null;let o=e.split("/")[1],d=i||o,c=a||r;return(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[c?(0,y.jsx)(l.Tg,{fullWidth:!1,href:`/${o}/`,onTap:()=>{s({action:"click",item:"see-more-button-creator"})},tapStyle:"compress",children:(0,y.jsx)(l.xu,{"data-test-id":"see-more-button-creator",height:32,marginEnd:2,overflow:"hidden",rounding:"circle",width:32,children:(0,y.jsx)(l.Ee,{alt:d,color:"rgb(231, 186, 176)",fit:"cover",naturalHeight:32,naturalWidth:32,src:c})})},"profile-link"):null,(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,y.jsx)(l.xu,{"data-test-id":"see-more-button-creator-full-name",children:(0,y.jsx)(l.iP,{onTap:()=>{s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,y.jsx)(l.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,y.jsx)(l.rU,{display:"inlineBlock",href:`/${o}/`,tapStyle:"compress",underline:"hover",children:d},"profile-link")},"profileLink")})}),"protected"===n?null:(0,y.jsx)(l.xv,{color:"default",inline:!0,size:"100",children:(0,y.jsx)(l.rU,{display:"inlineBlock",href:e??"",tapStyle:"compress",underline:"hover",children:t??""},"board-link")},"boardLink")]})]})}var b=n(10630);let S=void 0!==i?i:i=n(876155);function x({dedupeVisualAnnotations:e,pin:t,pinId:n,queryRef:i,onClickTitleOrDomain:r,pinCreditPrefix:S,shoppingKlpUrls:x}){let v=(0,s.ZP)(),P=(0,_.ml)(),k=(0,_.Wb)(),{isAuthenticated:w,isBot:T}=(0,u.B)(),I=(0,g.Z)(),E=!w&&!T&&P,A=r||null,[C,R]=(0,a.useState)(!1),j=(0,h.si)(),L=(0,h.Re)(),F=(0,c.fs)({pinTitle:t.title,gridTitle:t.gridTitle,richSummaryDisplayName:t.richSummary?.displayName,richMetadataTitle:t.richMetadata?.title,storyPinDataId:t.storyPinDataId,storyPinDataMetadataPinTitle:t.storyPinData?.metadata?.pinTitle})||t.description,D=(F||"").length>L,{description:O}=(0,c.eK)({richMetadataDescription:t.richMetadata?.description,richSummaryDisplayName:t.richSummary?.displayName,closeupUnifiedDescription:t.closeupUnifiedDescription}),N=O.length>j,[M,Z]=(0,a.useState)(!N&&!D),B=(0,d._S)(t.domain)?t.domain:"";return(0,y.jsxs)(l.xu,{children:[(0,y.jsxs)(l.xu,{children:[(0,y.jsxs)(l.xu,{as:"figcaption",paddingX:k?11:0,children:[(0,y.jsx)(l.X6,{accessibilityLevel:3,color:"default",id:"vase-pin-title",size:"300",children:C||T?F:(0,p.Z)(F||"",L)}),!!F&&(0,y.jsx)(l.xu,{height:O?8:0}),O&&(N||D)?(0,y.jsx)(l.xu,{"data-test-id":"vase-pin-description",children:(0,y.jsxs)(l.iP,{fullWidth:!1,onTap:()=>{C||w||((0,m.NC)("click_open_description_in_sheet"),I({action:"click",item:"more-description-in-sheet"})),Z(!M),R(!C)},children:[(0,y.jsx)(l.xv,{color:"default",inline:!0,size:"200",children:C||T?O:(0,p.Z)(O,j)}),(0,y.jsx)(l.xu,{display:"inlineBlock",paddingX:1,children:(0,y.jsx)(l.xv,{inline:!0,size:"200",weight:"bold",children:C||T?v._('Less', 'Toggle less description button', 'Toggle less description button'):v._('More', 'Toggle more description button', 'Toggle more description button')})})]})}):(0,y.jsx)(l.xu,{"data-test-id":"vase-pin-description",children:(0,y.jsx)(l.xv,{color:"default",inline:!0,size:"200",children:O})})]}),E&&(M||T)&&!!B&&(0,y.jsx)(l.xu,{marginTop:2,children:(0,y.jsx)(l.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,o.nk)(v._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,y.jsx)(l.xu,{display:"inlineBlock",children:(0,y.jsx)(l.xv,{inline:!0,size:"200",children:S})},"pinCreditsPrefix"),pinCredit:(0,y.jsxs)(l.xu,{"data-test-id":"pin-domain-link",display:"inlineBlock",marginStart:1,maxWidth:"60vw",children:[A&&(0,y.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),I({action:"click",item:"pin-domain-link"}),w||(0,m.NC)("click_pin_closeup_link_clickthrough"),A()},tapStyle:"compress",children:(0,y.jsx)(l.xv,{lineClamp:1,size:"200",children:(0,y.jsx)("span",{style:{textDecoration:"underline"},children:B})},"pinLinkDomain")}),t.link&&!A&&(0,y.jsx)(l.rU,{href:t.link,children:(0,y.jsx)(l.xv,{size:"200",underline:!0,children:B})})]},"pinCredits")})})})]}),!!t.board&&(M||T)&&(0,y.jsx)(l.xu,{marginTop:4,children:(0,y.jsx)(f,{boardName:t.board.name||void 0,boardPrivacy:t.board.privacy||void 0,boardUrl:t.board.url?.toLowerCase()||void 0,pinnerFullName:t.pinner?.fullName||void 0,pinnerImageLargeUrl:t.pinner?.imageLargeUrl,pinnerImageSmallUrl:t.pinner?.imageSmallUrl})}),(0,y.jsx)(l.xu,{marginTop:4,children:(0,y.jsx)(b.ZP,{dedupeVisualAnnotations:e,graphqlRef:i,mode:"expanded",pinId:n,shoppingKlpUrls:x})})]})}function v({pinKey:e,pinId:t,...n}){let{data:i,childDataKey__DEPRECATED:a}=(0,r.sr)(S,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title})});return i&&(0,y.jsx)(x,{...n,pin:i,pinId:t,queryRef:"graphqlRef"===a.type?a.data:null})}},801690:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(525364),l=n(105737),r=n(766311),s=n(785893);class o extends i.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:a}=this.props;i===e.viewParameter&&a===e.viewType&&(0,l.ZP)(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:n,objectIdStr:i,viewData:a,viewParameter:l,viewType:o,clientTrackingParams:d}=this.props;return(0,s.jsx)(r.Z,{auxData:e,clientTrackingParams:d,component:n,objectIdStr:i,viewData:a,viewParameter:l,viewType:o,children:t})}}function d(e){let{setViewContextData:t,clearViewContextData:n}=(0,a.sV)();return(0,s.jsx)(o,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},766311:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(587703),l=n(217058);let r=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),s=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:a,component:s,clientTrackingParams:o,element:d},c)=>{let u=r({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:a,component:s,clientTrackingParams:o,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,l.My)("mweb.logging.null_view_type"),c(u)};function o(e){let{auxData:t,clientTrackingParams:n,children:l,component:r,element:o,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,a.Z)(),g=JSON.stringify(t),_=JSON.stringify(c);return(0,i.useEffect)(()=>{s(e,m)},[m,g,n,r,o,d,_,u,p]),i.Children.only(l)}},90647:(e,t,n)=>{n.d(t,{B:()=>_,Z:()=>h});var i=n(667294),a=n(616550),l=n(214877),r=n(525364),s=n(96157),o=n(5859),d=n(217058),c=n(623409),u=n(773616),p=n(86264),m=n(953565),g=n(785893);let _=(e,t)=>"/"===e.pathname?"/":(0,s.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function h({children:e,componentType:t,app_upsell_type:n}){let s=(0,a.TH)(),{flushContextEvents:h,logContextEvent:y}=(0,l.v)(),{viewType:f,viewParameter:b}=(0,r.SU)(),S=(0,c.Z)(),{userAgent:{platform:x}}=(0,o.B)();(0,i.useEffect)(()=>{S({action:"view",item:"download-button",within:n})},[s,n,S]);let v=(0,i.useRef)(!1);(0,i.useEffect)(()=>{f&&202!==f?(y({component:t||13106,element:10308,event_type:9976,view_type:f,view_parameter:b,aux_data:{app_upsell_type:n,app_upsell_is_dupe:v.current}}),v.current=!0):(0,m.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:f,view_parameter:b,app_upsell_type:n,app_upsell_is_dupe:v.current}})},[t,y,b,f,n]);let P=(0,u.Z)();return(0,i.useEffect)(()=>{P||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[P,n]),(0,g.jsx)(p.Z,{children:i=>e({handleOpenApp:e=>{S({action:"click",item:"download-button",within:n}),(0,d.NC)("press_open_app",!0),y({component:t||13106,element:10308,event_type:102,view_type:f||202,view_parameter:b,aux_data:{app_upsell_type:n}}),y({component:t||13106,element:10308,event_type:9977,view_type:f||202,view_parameter:b,aux_data:{app_upsell_type:n}}),h(!0),i&&(y({component:t||13106,element:10308,event_type:1701,view_type:f||202,view_parameter:b,aux_data:{app_upsell_type:n}}),i(e?.deepLinkUri??_(s,"android"===x),n))}})})}},547010:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(883119),a=n(119936),l=n(140017),r=n(340370),s=n(5859),o=n(554786),d=n(90647),c=n(677233),u=n(669177),p=n(785893);let m=({deepLinkUri:e,isOpen:t,onDismiss:n,onOpenInApp:c,to:m,app_upsell_type:g})=>{let _=(0,l.ZP)(),h=(0,o.Wb)(),{isBot:y,userAgent:{platform:f,raw:b}}=(0,s.B)(),S=(0,u.Rp)({isBot:y,platform:f,userAgent:b}),x=(0,r.Z)({href:m??""}),v=h?60:40;return(0,p.jsx)(a.default,{accessibilityModalLabel:"",closeOnOutsideClick:!1,isOpen:t,mobileHideCloseIcon:!0,onDismiss:()=>{},type:"app_upsell_v1",zIndex:new i.Ry(101),children:(0,p.jsx)(d.Z,{app_upsell_type:g,componentType:14157,children:({handleOpenApp:t})=>(0,p.jsxs)(i.xu,{"data-test-id":"appUpsell-iframe",padding:3,children:[(0,p.jsx)(i.xu,{display:"inlineBlock",position:"absolute",children:(0,p.jsx)(i.xu,{"data-test-id":"appUpsell-continue",children:(0,p.jsx)(i.hU,{accessibilityLabel:_._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",iconColor:"gray",onClick:({event:e})=>{n({event:e}),x&&!e.defaultPrevented&&x({event:e})},size:"lg"})})}),(0,p.jsxs)(i.xu,{paddingX:2,paddingY:6,children:[(0,p.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,p.jsx)(i.JO,{accessibilityLabel:"Pinterest App",color:"brandPrimary",icon:"pinterest",size:v})}),(0,p.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,p.jsx)(i.xu,{paddingY:2,children:(0,p.jsx)(i.X6,{align:"center",size:"400",children:S?_._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):_._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app')})}),(0,p.jsx)(i.xv,{align:"center",size:"300",children:S?_._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):_._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')}),(0,p.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,p.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:()=>{t({deepLinkUri:e}),c()},size:"lg",text:_._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app')})})]})]})]})})})};function g({clientTrackingParams:e,deepLinkUri:t,isOpen:n,onDismiss:i,onOpenInApp:a,shouldTrackDismiss:l,to:r,viewParameter:s,viewType:o,app_upsell_type:d}){return(0,p.jsx)(c.Z,{clientTrackingParams:e,viewParameter:s,viewType:o,children:(0,p.jsx)(m,{app_upsell_type:d,deepLinkUri:t,isOpen:n,onDismiss:e=>{l&&(0,c.y)(),i(e)},onOpenInApp:()=>{(0,c.y)(),a()},to:r})})}},677233:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>c});var i=n(667294),a=n(805783),l=n(191313),r=n(573810),s=n(194602),o=n(766311),d=n(785893);let c=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:l}){return(0,s.Z)()||(0,a.FP)(window)?null:(0,d.jsx)(o.Z,{clientTrackingParams:t,component:13106,viewParameter:n,viewType:l,children:(0,d.jsx)(i.Fragment,{children:e})})}},773616:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(702664);let a=()=>(0,i.useSelector)(({session:{canUseNativeApp:e}})=>e)},174314:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(610465),a=n(887311);function l({action:e,collaboratedByMe:t,collaboratorPermissions:n,ownerId:l}){let r=(0,i.Z)(l),s=(0,a.Z)(t);return r||s&&!!n?.includes(e)}},610465:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(149722);function a(e){return e===(0,i.Z)().id}},887311:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(149722);function a(e){return(0,i.Z)().isAuth&&e}},966361:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(603642),a=n(5859),l=n(667665),r=n(237040),s=n(785893);function o({children:e,type:t}){let n=(0,a.B)();return(0,s.jsx)(i.Z,{annotateExperiments:[(0,r.J1)(),n.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"],constraints:"authDesktop"===t?[...l.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},153896:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),l=n(160408),r=n(214877),s=n(340523),o=n(5859),d=n(554786),c=n(923368),u=n(785893);function p({auxData:e,children:t,collapseButtonElementType:n,collapseByDefault:p=!0,componentType:m,displayViewState:g,expandButtonElementType:_,forceTappableHeader:h,headerHeight:y,headerPaddingRight:f,headerPreview:b,heading:S,viewParameter:x,viewType:v}){let P=(0,d.ml)(),{checkExperiment:k}=(0,s.F)(),{isAuthenticated:w,isBot:T}=(0,o.B)(),{logContextEvent:I}=(0,r.v)(),{setIsShoppingModuleExpanded:E}=(0,c.x4)(),A=P&&k(w?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group||"",C=["no_collapse_by_default","collapse_by_default"].includes(A),[R,j]=(0,i.useState)(C&&!T&&"collapse_by_default"===A&&p||[1,2].includes(g));return(0,i.useEffect)(()=>{E(!R)},[]),(0,u.jsxs)(a.kC,{dataTestId:"collapsible-layout",direction:"column",gap:C?4:0,children:[(0,u.jsx)(l.Z,{collapsed:R,displayViewState:g,forceTappableHeader:h,headerHeight:y,headerPaddingRight:f,headerPreview:b,heading:S,onClick:()=>{j(!R),E&&E(R),I({aux_data:e,component:m,element:R?_:n,event_type:P?102:101,view_parameter:x,view_type:v})},showArrow:!0}),!R&&(0,u.jsx)(a.xu,{children:t})]})}},893816:(e,t,n)=>{n.d(t,{I:()=>d,g:()=>o});var i=n(667294),a=n(470131),l=n(342513),r=n(785893);let{Provider:s,useHook:o}=(0,l.Z)("NavFooterContext");function d({children:e}){let[t,n]=(0,i.useState)(""),[l,o]=(0,a.YD)({threshold:0}),[d,c]=(0,i.useState)(!1);return(0,r.jsx)(s,{value:{currentPin:t,hasClickedMoreLikeThisButton:d,moreLikeThisButtonRef:l,moreLikeThisButtonInView:o,setCurrentPin:n,setHasClickedMoreLikeThisButton:c},children:e})}},923368:(e,t,n)=>{n.d(t,{Nb:()=>s,Of:()=>o,YO:()=>r,ZP:()=>u,x4:()=>c});var i=n(667294),a=n(891162),l=n(392029);let r=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?l.Uj:l.zT:1,s=(0,a.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:i,viewportSize:a,maxWidth:l,descriptionPaneWidth:r,isCloseupRelatedPinsAboveTheFoldEnabled:s,isCommentThreadExpanded:o,isPinNoteExpanded:d,isProductDetailsExpanded:c,isShoppingModuleExpanded:u,setIsCommentThreadExpanded:p,setIsPinNoteExpanded:m,setIsProductDetailsExpanded:g,setIsShoppingModuleExpanded:_,stackedCloseupEnabled:h,isInRemoveMagnifyingGlassVariant:y,setAbortNoActionPlacementTimeout:f})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:i,viewportSize:a,maxWidth:l,descriptionPaneWidth:r,isCloseupRelatedPinsAboveTheFoldEnabled:s,isCommentThreadExpanded:o,isPinNoteExpanded:d,isProductDetailsExpanded:c,isShoppingModuleExpanded:u,setIsCommentThreadExpanded:p,setIsPinNoteExpanded:m,setIsProductDetailsExpanded:g,setIsShoppingModuleExpanded:_,stackedCloseupEnabled:h,isInRemoveMagnifyingGlassVariant:y,setAbortNoActionPlacementTimeout:f})),o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:l.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:l.u6,descriptionPaneWidth:l.u6-l.Gg,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentThreadExpanded:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:()=>{},setIsShoppingModuleExpanded:()=>{}},d=(0,i.createContext)(o);function c(){let e=(0,i.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let u=d},392029:(e,t,n)=>{n.d(t,{$T:()=>b,CI:()=>r,Ch:()=>o,ER:()=>f,Gb:()=>d,Gg:()=>a,Hf:()=>k,Ie:()=>g,J6:()=>m,KP:()=>_,Kn:()=>s,O5:()=>S,Uj:()=>c,YE:()=>x,bx:()=>h,cg:()=>v,d2:()=>p,g9:()=>y,iB:()=>w,rv:()=>P,u6:()=>l,zT:()=>u});var i=n(883119);let a=508,l=1016,r=488,s=992,o=672,d=1176,c=.6,u=.84,p=40,m=16,g=72,_=740,h=912,y=32,f=16,b=24,S=2,x=16,v=16,P=1,k=new i.Ry(5),w={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},667665:(e,t,n)=>{let i;n.d(t,{GL:()=>r,_z:()=>a,d0:()=>o,hO:()=>s,pM:()=>l});let a="video",l="image",r=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([a])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),s=(i=new Set,r.forEach(e=>{i=new Set([...i,...e])}),i),o=new Set([...s,l,"resource"])},604625:(e,t,n)=>{n.d(t,{Cq:()=>c,Dk:()=>p,Fk:()=>a,fS:()=>d,km:()=>u,lI:()=>r,lJ:()=>l,mS:()=>o,qW:()=>s});var i=n(883119);let a=new i.Ry(1),l=3,r=new i.Ry(l),s=2,o=new i.Ry(s),d=3,c=4,u=new i.Ry(5),p=new i.Ry(100)},700242:(e,t,n)=>{n.d(t,{Z:()=>tS});var i,a,l,r,s,o=n(667294),d=n(702664),c=n(167912),u=n(616550),p=n(240684),m=n(883119),g=n(587703),_=n(510989),h=n(25919),y=n(73006),f=n(219651),b=n(810961),S=n(82531),x=n(190971),v=n(582008),P=n(140017),k=n(339001),w=n(579814),T=n(639435),I=n(681508),E=n(422210),A=n(588664),C=n(96157),R=n(510972),j=n(771177),L=n(391884),F=n(558273),D=n(661428),O=n(340523),N=n(5859),M=n(608516),Z=n(241552),B=n(48481),U=n(191313),K=n(71328),z=n(217058),H=n(623409),V=n(624797),G=n(554786),$=n(494125),W=n(322864),q=n(773616),Y=n(740707),X=n(174314),J=n(479528),Q=n(2034),ee=n(587853),et=n(656022),en=n(313746),ei=n(13241),ea=n(345748),el=n(311223),er=n(643991),es=n(437387),eo=n(893816),ed=n(237040),ec=n(920572),eu=n(702499),ep=n(638365),em=n(425712),eg=n(323294),e_=n(508868),eh=n(942397),ey=n(174281),ef=n(911049),eb=n(290550),eS=n(739382),ex=n(358589),ev=n(33767),eP=n(272531),ek=n(92056),ew=n(810052),eT=n(477455),eI=n(884141),eE=n(409403),eA=n(170568),eC=n(386129),eR=n(19447),ej=n(572895),eL=n(499728),eF=n(973055),eD=n(256918),eO=n(118923),eN=n(832853),eM=n(785893);let eZ=(0,p.ZP)({resolved:{},chunkName:()=>"StoryPinStream",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93041),n.e(10495),n.e(69289),n.e(85165),n.e(28384)]).then(n.bind(n,663886)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>663886}),eB=(0,o.lazy)(()=>Promise.all([n.e(28986),n.e(35347),n.e(46515)]).then(n.bind(n,321618))),eU=(0,o.lazy)(()=>Promise.all([n.e(28986),n.e(38012),n.e(35347),n.e(63245)]).then(n.bind(n,198963))),eK=(0,o.lazy)(()=>n.e(27059).then(n.bind(n,927059))),ez=(0,o.lazy)(()=>Promise.all([n.e(52350),n.e(80430)]).then(n.bind(n,595219))),eH=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-CommentModule",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(38012),n.e(87873)]).then(n.bind(n,334287)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>334287},{ssr:!1}),eV=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-UnauthCloseupRelatedPins",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(41746),n.e(52350),n.e(18198)]).then(n.bind(n,379696)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>379696}),eG=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-search-SearchBar",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(31816).then(n.bind(n,554312)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>554312}),e$=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-LoggedOutProduct-duplo-Breadcrumbs-BreadcrumbsWithSearch",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(n,548810)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>548810},{ssr:!1}),eW=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-unauth-UnauthCloseupInviteUpsell",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(84631).then(n.bind(n,260488)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>260488}),eq=(0,o.lazy)(()=>n.e(62691).then(n.bind(n,662691))),eY=(0,p.ZP)({resolved:{},chunkName:()=>"app-www-storyPins-duplo-UnavailableStoryPin",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(14505).then(n.bind(n,189093)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>189093}),eX=(0,o.lazy)(()=>n.e(82584).then(n.bind(n,882584))),eJ=(0,eN.Z)(()=>Promise.all([n.e(93041),n.e(10495),n.e(69289),n.e(85165),n.e(28384)]).then(n.bind(n,663886)),void 0,"StoryPinStream"),eQ=(0,eN.Z)(()=>Promise.all([n.e(28986),n.e(35347),n.e(46515)]).then(n.bind(n,321618)),{ssr:!1}),e0=(0,eN.Z)(()=>Promise.all([n.e(28986),n.e(38012),n.e(35347),n.e(63245)]).then(n.bind(n,198963)),{ssr:!1}),e1=(0,eN.Z)(()=>n.e(27059).then(n.bind(n,927059)),{ssr:!1}),e3=(0,eN.Z)(()=>Promise.all([n.e(52350),n.e(80430)]).then(n.bind(n,595219)),{ssr:!1}),e2=(0,eN.Z)(()=>Promise.all([n.e(38012),n.e(87873)]).then(n.bind(n,334287)),{ssr:!1}),e6=(0,eN.Z)(()=>Promise.all([n.e(41746),n.e(52350),n.e(18198)]).then(n.bind(n,379696)),void 0,"app-www-closeup-duplo-UnauthCloseupRelatedPins"),e4=(0,eN.Z)(()=>n.e(31816).then(n.bind(n,554312)),void 0,"app-www-search-SearchBar"),e5=(0,eN.Z)(()=>Promise.resolve().then(n.bind(n,548810)),{ssr:!1}),e8=void 0!==i?i:i=n(665763),e7=void 0!==a?a:a=n(421072),e9=void 0!==l?l:l=n(68465),te=void 0!==r?r:r=n(274402),tt=void 0!==s?s:s=n(415607),tn=({children:e,queryRef:t})=>{let n=(0,ed.nF)();return e((0,v.h)(e7,c.usePreloadedQuery(e9,t).v3GetPinQuery?.data,n.closeupPageSuspenseBehavior))},ti=({children:e,fallback:t,queryRef:n})=>n?(0,eM.jsx)(o.Suspense,{fallback:t,children:(0,eM.jsx)(tn,{queryRef:n,children:t=>t&&e(t)})}):e(null),ta=({children:e,pinId:t})=>{let n=(0,G.HG)(),i=(0,ed.nF)();return e((0,v.h)(te,c.useLazyLoadQuery(tt,{pinId:t,isDesktop:n}).v3GetPinQuery?.data,i.closeupPageSuspenseBehavior))},tl=o.Fragment,tr=({children:e,uanuthDesktopSocialLandingPopover:t})=>e&&t?(0,eM.jsxs)(m.kC,{gap:{row:4,column:0},justifyContent:"center",children:[t,e]}):e,ts=({domain:e,isPromoted:t,hasLinkDomainOfficialUser:n,hasLinkUserWebsiteOfficialUser:i,hasNativeCreator:a,hasThirdPartyPinOwner:l,pinnerDomainVerified:r,pinnerDomainUrl:s})=>i||n||l||!!r&&s===e&&!t||a,to=e=>(0,eO.b)()?(0,eM.jsx)(eJ,{...e}):(0,eM.jsx)(eZ,{...e}),td=e=>(0,eO.b)()?(0,eM.jsx)(eQ,{...e}):(0,eM.jsx)(eB,{...e}),tc=e=>(0,eO.b)()?(0,eM.jsx)(e0,{...e}):(0,eM.jsx)(eU,{...e}),tu=e=>(0,eO.b)()?(0,eM.jsx)(e1,{...e}):(0,eM.jsx)(eK,{...e}),tp=e=>(0,eO.b)()?(0,eM.jsx)(e3,{...e}):(0,eM.jsx)(ez,{...e}),tm=e=>(0,eO.b)()?(0,eM.jsx)(e2,{...e}):(0,eM.jsx)(eH,{...e}),tg=e=>(0,eO.b)()?(0,eM.jsx)(e6,{...e}):(0,eM.jsx)(eV,{...e}),t_=e=>(0,eO.b)()?(0,eM.jsx)(e4,{...e}):(0,eM.jsx)(eG,{...e}),th=e=>(0,eO.b)()?(0,eM.jsx)(e5,{...e}):(0,eM.jsx)(e$,{...e});function ty({boardCollaboratedByMe:e,boardCollaboratorPermissions:t,boardIsCollaborative:n,boardOwnerId:i,boardId:a,boardUrl:l,clickthroughInterstitialExperience:r,closeupAttributionFullName:s,embedSrc:c,embedSubtype:p,embedType:v,experience:D,hasLinkDomain:Y,hasLinkDomainOfficialUser:ei,hasLinkUserWebsiteOfficialUser:ed,hasNativeCreator:eR,hasRichMetadata:eO,hasRichMetadataProducts:eN,hasRichMetadataArticle:eZ,hasRichMetadataRecipe:eB,hasRichMetadataTutorial:eU,hasThirdPartyPinOwner:eK,imageSignature:ez,isDeletedStoryPin:eH,isDownstreamPromotion:eV,isEligibleForAggregatedComments:eG,isEligibleForPdp:e$,isProductPin:eJ,isPromoted:eQ,isStoryPin:e0,isV1IdeaPin:e1,isVideoPin:e3,link:e2,linkDomainName:e6,mobileLink:e4,graphqlRefs:e5,originalPinImageDimensions:e8,pinCreatedAt:e7,pinDomain:e9,pinTrackingParams:te,pinId:tt,nodeId:tn,imagesUrls:ta,pinSectionId:ty,pinnedToBoardId:tf,pinnedToBoardUrl:tb,pinnerDomainUrl:tS,pinnerDomainVerified:tx,pinnerId:tv,postDownloadModalEligibilityType:tP,promotedIsRemovable:tk,promoterId:tw,recommendationReason:tT,seoBreadcrumbs:tI,shouldOpenInStream:tE,storyPinDataId:tA,trackedLink:tC,uanuthDesktopSocialLandingPopover:tR,videosId:tj,viewerId:tL,viewingUser:tF,feedbackType:tD}){let tO=(0,P.ZP)(),tN=(0,u.k6)(),tM=(0,u.TH)(),tZ=(0,u.$B)(),tB=(0,G.ZP)(),tU="desktop"===tB,tK=(0,d.useDispatch)(),tz=(0,q.Z)(),{checkExperiment:tH}=(0,O.F)(),tV=(0,g.Z)(),tG=(0,H.Z)(),t$=(0,B.Z)(),tW=(0,ex.Z)(),{isBot:tq,isSocialBot:tY,isAuthenticated:tX,userAgent:tJ,locale:tQ}=(0,N.B)(),{setHomeFlyoutText:t0,setShowHomeBadge:t1,setShowHomeFlyoutWithButton:t3}=(0,ev.U)(),{setPinFeedbackStatus:t2}=(0,eT.K)(),{currentPin:t6,setCurrentPin:t4,setHasClickedMoreLikeThisButton:t5}=(0,eo.g)(),t8=!tX&&eJ&&tH("unauth_pdp_plus").anyEnabled,t7=e5?.pageRef,{group:t9}=tH("mweb_pin_closeup_resize_image",{dangerouslySkipActivation:!0}),{group:ne}=tH("mweb_pin_closeup_resize_image_body",{dangerouslySkipActivation:!0}),[nt,nn]=(0,o.useState)(!tU&&tX&&!!(ne||t9)),ni=(0,eD.M)(),[na,nl]=(0,o.useState)(!1);(0,o.useEffect)(()=>{nl(!1)},[tt]);let[nr,ns]=(0,W.Z)(!1,tt),no=!tU&&tH(tX?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,nd=!tU&&eG&&tX&&(!e$||tH("ce_mweb_pdp_comments").anyEnabled)&&tH("mweb_comment_module").anyEnabled,nc=nd&&"enabled_with_spinner_fallback"===tH("mweb_comment_module").group,nu=!eQ&&!eV&&!eH,np=e0&&!1!==tE&&!tU&&!tq&&!no,nm=tH("anticlimax_unauth_support",{dangerouslySkipActivation:!0}).anyEnabled,ng=!tU&&!tX&&!np&&tH("unauth_mweb_more_prominent_search",{dangerouslySkipActivation:!0}).group,n_=nm&&ng&&(ng.includes("control")||ng.includes("bar")||ng.includes("icon")),nh=!tU&&!tX&&!np&&n_&&tH("unauth_mweb_more_prominent_search").group.includes("bar"),ny=ng&&ng.includes("rollout")&&tH("unauth_mweb_more_prominent_search").anyEnabled,nf=!tU&&!tX&&!np&&n_&&tH("unauth_mweb_more_prominent_search").group.includes("icon")||ny,nb=tv===tL,nS=(0,F._S)(e9)?(0,eg.Wj)({i18n:tO,hasLinkDomain:Y,hasRichMetadataArticle:eZ,hasRichMetadataRecipeCategorizedIngredients:eB,hasRichMetadataTutorial:eU,richMetadataRecipeFromAggregatedData:null}):tO._('Uploaded to Pinterest', 'closeup.closeupDetails.pinCreditPrefix', 'tells the pinner that the pin was uploaded to Pinterest'),nx=!tU&&!!tX&&!eQ&&!np&&!e3&&tH("mweb_hf_closeup_rpf_user_education").anyEnabled;(0,o.useEffect)(()=>{!(0,e_.Z)(tM)&&tX&&(0,A.Z)(tF,null,28)&&tV({event_type:9956,view_type:3,userIdStr:tF?.id}),tX&&(0,z.Nc)("view_pin_page")},[]),(0,o.useEffect)(()=>{tt!==t6&&(t4(tt),t5(!1))},[t6,tt,t4,t5]);let[nv,nP]=(0,o.useState)(!1),[nk,nw]=(0,o.useState)(!1),[nT,nI]=(0,o.useState)(!1),[nE,nA]=(0,o.useState)(null),{showUnauthSharingModals:nC}=(0,Z.l)()??Object.freeze({}),nR=(0,x.c)(),nj=eJ&&tX||!tU&&!eJ||nt,nL=!eJ&&tH("auth_mweb_inline_action_bar").anyEnabled,[nF,nD]=(0,W.Z)(!nj&&(!tX||tU||nL),tt),nO=nF||nt?"body":"header",nN=(0,X.Z)({action:4,collaboratedByMe:e??!1,collaboratorPermissions:t,ownerId:i}),nM=(0,C.fY)(tM),nZ=()=>{!tq&&tF?.id&&"undefined"!=typeof window&&(0,T.U)(window.location,tF.id,!0,tX,e=>tN.replace(e,tM.state))},nB=()=>(0,K.Z)(()=>{tt&&tV({event_type:110,view_type:3,view_parameter:156,component:e3?179:85,aux_data:{unauth_page_pin_id:tt}})},300),nU=(0,o.useCallback)(()=>{let e={pin_image_signature:ez};tK((0,h.pz)([1000112],tq,tX?{...e,creator_username:s,is_creator_card_shown:!nb&&!!ts({domain:e9,isPromoted:eQ,hasLinkDomainOfficialUser:ei,hasLinkUserWebsiteOfficialUser:ed,hasNativeCreator:eR,hasThirdPartyPinOwner:eK,pinnerDomainVerified:tx,pinnerDomainUrl:tS})}:e))},[tK,s,ez,tX,eQ,tq,ei,ed,eR,eK,e9,tx,tS,nb]);(0,o.useEffect)(()=>{ni?.isSaved(tt)&&nR("Save",{pin_id:tt,is_promoted:eQ})},[ni,tt]);let nK=e=>{np&&tV({component:229,element:10942,event_type:102,view_type:3,view_parameter:157}),tW({fn:()=>{nA("sendPinModal"),tX||nC?.()},modalHeader:(0,eS.hg)(tO)})(e)},nz=(0,G.ml)();(0,$.Z)(()=>(nZ(),(0,w.Z)(),(0,V.mB)(window.location.search).invite_code&&tV({component:e3?179:85,element:46,event_type:47,view_type:3,view_parameter:156}),tX?tU||(0,U.qn)(ek.Hn)||(0,eh.xT)(tF)||(tK((0,eC.Q_)("HAS_DONE_CLOSEUP",1)),(0,U.Nh)(ek.Hn,!0)):(window.addEventListener("scroll",nB),(0,z.My)(`mweb.pin_page.${tJ.platform||"unknown"}`),e7&&(0,z.My)("mweb_unauth.pin_page.publish_date"),(0,z.NC)("view_pin_page")),tA&&tK((0,eA.FK)()),tq||nU(),"t"===(0,V.mB)(tM.search).open_share&&nK(),()=>{tA&&tK((0,eA.Cp)()),tX||window.removeEventListener("scroll",nB)}));let nH=(0,o.useRef)({linkDomainName:e6,pinId:tt});(0,o.useEffect)(()=>{let e=nH.current,t=tt!==e.pinId,n=!e.pinId&&tt,i=e&&e.linkDomainName!==e6;t&&(nZ(),tX&&(0,z.Nc)("view_pin_page")),(n||t||i&&tX)&&nU(),nH.current={linkDomainName:e6,pinId:tt}});let nV=void 0===tN.location.state,nG=tX&&nV&&na&&!nk&&!nT;(0,o.useEffect)(()=>{nG&&nI((0,eP.Z)())},[nG]),(0,o.useEffect)(()=>{tK((0,eA.Cp)())},[tK]);let{setShouldShowLearningUpsell:n$,shouldShowLearningUpsell:nW}=(0,ew.a)()??{},nq=!tX&&nz&&["ios","android"].includes(tJ.platform);(0,o.useEffect)(()=>{if(!nq||!n$||!nW)return()=>{};{let e=(0,K.Z)(()=>{window.scrollY>400&&(n$(!1),(0,z.My)("learning.upsell.dismiss.by.scroll.down"))},10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[nq,n$,nW]);let nY=(0,ej.Z)({embedSrc:c,embedType:v,hasRichMetadata:eO,hasRichMetadataProducts:eN,hasRichMetadataArticle:eZ,hasRichMetadataRecipe:eB,imagesUrls:ta,isStoryPin:e0,pinId:tt,nodeId:tn}),nX=(0,eF.Z)({boardId:a??"",embedSrc:c,embedType:v,imagesUrls:ta,pinId:tt,nodeId:tn,pinnerId:tv??"",pinnedToBoardId:tf??"",pinSectionId:ty??"",trackingParams:te}),nJ=(0,eL.Z)({embedSrc:c,embedType:v,imagesUrls:ta,pinId:tt,nodeId:tn,pinnerId:tv??""}),nQ=(0,el.Z)({link:e2,mobileLink:e4,trackedLink:tC}),n0=(0,eI.J6)({boardIsCollaborative:n,isDownstreamPromotion:eV,isEligibleForStaticImageIdeaPin:e0&&!1===tE,isPromoted:eQ,storyPinDataId:tA,videosId:tj}),n1=tX&&n0,n3=(0,ep.Z)(tM.state?.trackingParams,te),n2=e3&&tX&&!tU,n6=t7?{type:"graphqlRef",data:t7}:{type:"deprecated",data:tt},n4=(0,em.Z)(n6),n5={downloadImageUrl:!e3&&(0,L.Z)({imagesUrls:ta,embedSrc:c,embedType:v,excludeOriginals:!tq&&!tY})||null,isAuthenticated:tX,isBot:tq,isSocialBot:tY,saveButtonConfig:{shouldShowSavedButton:nJ,onSaveButtonClick:e=>{nY(e)},onUnsaveButtonClick:nX,repinPageLocation:(0,F.NK)(tt,tM)},clientTrackingParams:n3,isStoryPin:e0,viewParameter:(0,eg.CK)({hasRichMetadata:eO,hasRichMetadataProducts:eN,hasRichMetadataArticle:eZ,hasRichMetadataRecipe:eB}),pinId:tt,canUpsellNativeApp:tz,shouldShowReactions:n1,onSendButtonClick:nK,isChromeOnIOS:"ios"===tJ.platform&&"Chrome"===tJ.browserName,handleDownloadPinImageClick:()=>{tG({action:"click",item:"download-image-button",within:"action-bar"}),"unauthPostDownloadUpsell"===tP?(nA(null),tU||t$({attributionLabel:"tap_closeup_download_button",reason:"UPSELL_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"download"}})):tP?nA("postDownloadModal"):nR("Download",{pin_id:tt})},shouldRenderAsStoryPin:e0&&!1!==tE&&!no,shouldShowVisitInMoreOptions:nQ&&n2,onHidePin:()=>{let{action:e,actionOptions:t}=(0,j.Z)({feedbackType:tD,pinId:tt,pinFeedbackType:"pfy"===tD?4:10,recommendationReason:tT&&{board:null,reasonId:tT.reasonId,reason:tT.reason,throughProperties:[]},clientTrackingParams:n3});tK((0,eE.q1)({id:tt,nodeId:tn})),(0,R.t)(e,t,()=>t2({pinId:tt,pinFeedbackStatus:"hidden"}),tV),tN&&tN.goBack()}},n8=n1&&(tj&&"video"||e0&&"storyPin")||null,n7=nb||nN?tW({fn:()=>tN.push(tZ.url+"edit/"),modalHeader:(0,eS.oM)(tO),nextLocation:(0,eS.wI)(tM)}):void 0,n9=()=>{nA("reportPinModal"),tV({view_type:3,view_parameter:139,element:72,event_type:102,object_id_str:tt||""})},ie=(0,eM.jsx)(ti,{queryRef:e5?.detailRef,children:e=>(0,eM.jsx)(er.Z,{clickthroughInterstitialExperience:r,experience:D,graphqlRef:e??null,inCommentModuleExp:!!nd,isActionBarInline:nF||nt,isEligibleForPinReactions:nu,isEligibleToVisitPin:nQ,isInUnauthPdpPlus:t8,isNewUser:(0,E.Z)(tF?.created_at),isRemovablePin:tk??!1,nativePinType:n8,onEditButtonClick:n7,onMobileTap:()=>{np&&tV({component:229,element:10946,event_type:102,view_type:3,view_parameter:157}),n9()},onSendButtonClick:nK,pinId:tt,pinnedToBoardId:tf,pinnedToBoardUrl:(nb?l:tb)||"",scrolledToRelatedPins:na,shouldShowBackButton:"header"===nO,shouldShowReactions:n1&&!nj,shouldShowShareOnVideoCloseup:n2})}),it=(0,eM.jsx)(ti,{queryRef:e5?.detailRef,children:e=>(0,eM.jsx)(tm,{fallback:nc?(0,eM.jsx)(et.Z,{}):null,inCommentModuleExp:!!nd,isEligibleForPinReactions:nu,isProductPin:eJ,pinId:tt,pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:tt}})}),ii=(tM.search||"").includes("force_seo")||!tX;return(0,eM.jsx)(en.Z,{pinId:tt,pinKey:n6,viewParameter:n5.viewParameter,children:(0,eM.jsxs)(ee.Z,{closeupPageContext:n5,hasGutter:!np,imageViewer:(0,C.Fr)(tM)&&!np&&tX&&(0,eM.jsx)(ti,{queryRef:e5?.detailRef,children:e=>(0,eM.jsx)(td,{experience:D,graphqlRef:e??null,isRemovablePin:!!tk,pinId:tt,pinnedToBoardId:tf,pinnedToBoardUrl:(nb?l:tb)||"",postDownloadModalEligibilityType:tP,setActionBarIsMinifiedToMainPinImage:nP,shouldShowSEOPinInfo:ii})}),pinKey:n6,stickyUpsell:nq&&nW&&(0,eM.jsx)(M.Z,{children:(0,eM.jsx)(eX,{pinId:tt})}),children:[(0,eM.jsxs)(tl,{children:[tX&&(0,eM.jsxs)(o.Fragment,{children:[D&&(0,eM.jsx)(ec.Z,{experience:D}),D&&(0,eM.jsx)(eu.Z,{experience:D}),D&&(0,eM.jsx)(f.Z,{experience:D},`${tt}-modal-1000112`),D&&(0,eM.jsx)(y.Z,{customFooterHeight:nF?void 0:88,experience:D},`${tt}-callout-1000112`),(0,eM.jsx)(b.Z,{placementId:1000494},`${tt}-1000494`),(0,eM.jsx)(b.Z,{placementId:1000500},`${tt}-1000500`),(0,eM.jsx)(S.Z,{placementId:1000540},`${tt}-1000540`)]}),!tX&&nM&&!tU&&(0,eM.jsx)(eW,{isDesktop:!1,isStoryPin:e0}),"header"===nO&&!nv&&ie,!tX&&tU&&(0,eM.jsx)(ef.Z,{breadcrumbs:tI??[]}),nh&&(0,eM.jsx)(m.xu,{paddingY:4,children:(0,eM.jsx)(t_,{fallback:(0,eM.jsx)(m.xu,{height:40}),height:40,history:tN,shouldInputFocusOnTouch:!0,viewType:3})}),nf&&(0,eM.jsx)(th,{fallback:(0,eM.jsx)(m.xu,{height:ef.H}),isUnauthMwebProminentSearchBarExpIconGroup:nf,pageRef:t7,pinId:tt}),!tX&&!tU&&!nh&&!nf&&!np&&(tq?(0,eM.jsx)(ef.Z,{breadcrumbs:tI??[]}):(0,eM.jsx)(eb.Z,{pinId:tt,shouldUseGraphQL:!!t7}))]}),(0,eM.jsxs)(tr,{uanuthDesktopSocialLandingPopover:tR,children:[(nj||nF)&&!np&&(0,eM.jsx)(ea.Z,{pinActionBarOptionsButton:nj&&!na&&(0,eM.jsx)(ti,{queryRef:e5?.detailRef,children:e=>(0,eM.jsx)(m.xu,{"data-test-id":"ellipsis-button",children:(0,eM.jsx)(es.Z,{clickthroughInterstitialExperience:r,graphqlRef:e??null,onMobileTap:n9,onSendButtonClick:nK,pinCreditPrefix:nS,pinId:tt,viewParameter:n5.viewParameter})})})}),np?(0,eM.jsx)(_.Z,{name:"SafeSuspense_Closeup_StoryPinStream",children:(0,eM.jsx)(to,{graphqlRef:e5?.storyPinRef??null,pinId:tt})}):eH?(0,eM.jsx)(eY,{}):(0,eM.jsx)(J.Z,{originalPinImageHeight:e8.height||1,originalPinImageWidth:e8.width||1,pinId:tt,setIsEligibleToShowInlineActionBar:nn,children:e=>(0,eM.jsx)(Q.Z,{actionBarIsMinifiedToMainPinImage:nv,clickthroughInterstitialExperience:r,closeupIsFirstPageInHistoryStack:nV,commentModule:nd?it:null,graphqlRefs:e5,isActionBarInline:nF||!!e.resizePinImageExperimentGroup,isImagePinForUnauthOnTablet:!tX&&!e3&&!(0,F.cL)({embedSrc:c,embedSubtype:p,embedType:v})&&("tablet"===tB||(0,I.oy)()),isInUnauthPdpPlus:t8,isSendPinModalOpen:"sendPinModal"===nE,isVideoPin:e3,onLinklessPinTap:()=>{let e=!nv;nP(e),tK(e?(0,eA.Cp)():(0,eA.FK)())},onMoreButtonClick:n9,onSendPin:nK,pinActionBar:"body"===nO||e.resizePinImageExperimentGroup?ie:null,pinCloseupExperience:D,pinId:tt,pinImageResizePercents:e.pinImageResizePercents,pinnedToBoardId:tf,resizePinImageExperimentGroup:e.resizePinImageExperimentGroup,setCloseupDetailsHeight:e.setCloseupDetailsHeight,setCloseupPinLinkCreditsHeight:e.setCloseupPinLinkCreditsHeight,setCloseupTitleHeight:e.setCloseupTitleHeight,setIsActionBarInline:nD,setIsShowingCloseupDetailsSuspenseFallback:ns,setUploadedToPinterestTextHeight:e.setUploadedToPinterestTextHeight,setUserAttributionHeight:e.setUserAttributionHeight,setUserRepHeight:e.setUserRepHeight,shouldShowReactions:n0,shouldShowSEOPinInfo:ii,showMoreLikeThisButton:nx,viewerId:tL})})]}),tX&&!np&&(0,eM.jsx)(_.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,eM.jsx)(M.Z,{fallback:(0,eM.jsx)(et.Z,{}),children:(0,eM.jsx)(tp,{auxCommerceData:n4,graphqlConfig:e5?{fallback:(0,eM.jsx)(et.Z,{}),isShowingCloseupDetailsSuspenseFallback:nr}:null,isProductDetailPage:eJ,onRelatedPinsTitleEnter:()=>nl(!1),onRelatedPinsTitleExit:()=>nl(!0),pinId:tt,recommendationReason:tT})})}),!tX&&!np&&!tw&&(0,eM.jsx)(ti,{fallback:(0,eM.jsx)(et.Z,{}),queryRef:e5?.detailRef,children:e=>(0,eM.jsx)(tg,{fallback:(0,eM.jsx)(et.Z,{}),isShowingCloseupDetailsSuspenseFallback:nr,onRelatedPinsTitleEnter:()=>nl(!1),onRelatedPinsTitleExit:()=>nl(!0),pinId:tt,pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:tt}})}),(0,eM.jsx)(ti,{queryRef:e5?.detailRef,children:e=>(0,eM.jsxs)(o.Fragment,{children:[tX&&!(0,eh.xT)(tF)&&nV&&na&&!nk&&!nT&&!tH("mweb_turn_off_mini_renux_exp").anyEnabled&&(0,eM.jsx)(_.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,eM.jsx)(M.Z,{children:(0,eM.jsx)(tu,{onComplete:e=>{e&&(t0((0,k.nk)(tO._('We\'ve added fresh ideas for {{ interestName }}', 'navFooter.flyout.text', 'A flyout points at Home button to ask users to go to home page'),{interestName:(0,ey.T_)(e,tQ)}).join("")),t1(!0),t3(!0)),nw(!0)},pinId:tt,showRelatedInterestModal:()=>{nA("relatedInterestsModal")}})})}),e1&&(0,eM.jsx)(M.Z,{children:(0,eM.jsx)(eq,{pinId:tt,viewParameter:n5.viewParameter})}),nE&&(0,eM.jsx)(_.Z,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,eM.jsx)(M.Z,{children:(0,eM.jsx)(m.xu,{"data-test-id":"close-action-bar",children:(0,eM.jsx)(tc,{clickthroughInterstitialExperience:r,clientTrackingParams:n3,graphqlRef:e??null,modal:nE,nativePinType:n8,onDismiss:()=>{tG({action:"click",item:"close-action-bar",within:"action-bar"}),"relatedInterestsModal"===nE&&nw(!0),nA(null)},onEditButtonClick:n7,onSendButtonClick:nK,pinId:tt,postDownloadModalEligibilityType:tP,shouldShowShareOnVideoCloseup:n2,viewerIsOwner:nb,viewParameter:n5.viewParameter})})})})]})})]})})}function tf(e){let{pinId:t}=e,n=(0,eR.S6)()(t),i=(0,G.HG)(),a=(0,u.TH)(),{isAuthenticated:l}=(0,N.B)(),r=(0,Y.Z)({pinKey:n?{type:"deprecated",data:n}:null,viewParameter:156}),s=n?.board,o=n?.promoter&&!n.is_downstream_promotion?n.promoter:null,d=n?.pinner;return n&&d&&s?(0,eM.jsx)(ty,{...e,boardCollaboratedByMe:s.collaborated_by_me??!1,boardCollaboratorPermissions:s.collaborator_permissions,boardId:s.id,boardIsCollaborative:s.is_collaborative,boardOwnerId:s.owner?.id,boardUrl:s.url,closeupAttributionFullName:n.closeup_attribution?.full_name,embedSrc:n.embed?.src,embedSubtype:n.embed?.subtype,embedType:n.embed?.type,feedbackType:r,graphqlRefs:null,hasLinkDomain:!!n.link_domain,hasLinkDomainOfficialUser:!!n.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!n.link_user_website?.official_user,hasNativeCreator:!!n.native_creator,hasRichMetadata:!!n.rich_metadata,hasRichMetadataArticle:!!n.rich_metadata?.article,hasRichMetadataProducts:!!n.rich_metadata?.products,hasRichMetadataRecipe:!!n.rich_metadata?.recipe,hasRichMetadataTutorial:!!n.rich_metadata?.tutorial,hasThirdPartyPinOwner:!!n.third_party_pin_owner,imageSignature:n.image_signature,imagesUrls:n.images?Object.keys(n.images).reduce((e,t)=>t&&n.images?.[t]?.url?{...e,[t]:n.images[t].url}:e,{}):void 0,isDeletedStoryPin:n.story_pin_data?.is_deleted??!1,isDownstreamPromotion:n.is_downstream_promotion,isEligibleForAggregatedComments:n.is_eligible_for_aggregated_comments,isEligibleForPdp:n.is_eligible_for_pdp,isPromoted:n.is_promoted,isV1IdeaPin:n.is_v1_idea_pin,isVideoPin:!!n.videos?.video_list,link:n.link,linkDomainName:n.link_domain?.name,mobileLink:n.mobile_link,nodeId:n.node_id,originalPinImageDimensions:n.images?.["236x"]||n.images?.["136x136"]||{},pinCreatedAt:n.created_at,pinDomain:n.domain,pinId:t,pinnedToBoardId:n.pinned_to_board?.id,pinnedToBoardUrl:n.pinned_to_board?.url,pinnerDomainUrl:d.domain_url,pinnerDomainVerified:d.domain_verified,pinnerId:d.id,pinSectionId:n.section?.id,pinTrackingParams:n.tracking_params,promotedIsRemovable:n.promoted_is_removable,promoterId:o?.id,recommendationReason:n.recommendation_reason&&{reason:n.recommendation_reason.reason,reasonId:n.recommendation_reason.reason_id},seoBreadcrumbs:n.pin_join?.seo_breadcrumbs,shouldOpenInStream:n.should_open_in_stream||!1,storyPinDataId:n.story_pin_data_id,trackedLink:n.tracked_link,videosId:n.videos?.id}):(0,eM.jsx)(m.xu,{margin:5,children:l||i&&(0,C.fY)(a)?(0,eM.jsx)(et.Z,{}):(0,eM.jsx)(ei.Z,{})})}function tb({graphqlRefs:e,...t}){let{pinId:n}=t,i=(0,ed.nF)(),a=(0,v.h)(e8,e.pageRef,i.closeupPageSuspenseBehavior),l=(0,D.Z)({type:"graphqlRef",data:a}),{board:r,pinner:s}=a,o=a.pinJoin?.seoBreadcrumbs?.map(({name:e,url:t})=>({name:e??"",url:t??""})),d=(0,Y.Z)({pinKey:{type:"graphqlRef",data:a},viewParameter:156});return(0,eM.jsx)(ty,{...t,boardCollaboratedByMe:r?.collaboratedByMe??!1,boardCollaboratorPermissions:r?.collaboratorPermissions,boardId:r?.entityId,boardIsCollaborative:r?.isCollaborative,boardOwnerId:r?.owner?.entityId,boardUrl:r?.url,closeupAttributionFullName:a.closeupAttribution?.fullName??"",embedSrc:a.embed?.src,embedSubtype:a.embed?.subtype,embedType:a.embed?.type,feedbackType:d,graphqlRefs:{...e,pageRef:a},hasLinkDomain:!!a.linkDomain,hasLinkDomainOfficialUser:!!a.linkDomain?.officialUser,hasLinkUserWebsiteOfficialUser:!!a.linkUserWebsite?.officialUser,hasNativeCreator:!!a.nativeCreator,hasRichMetadata:!!a.richMetadata,hasRichMetadataArticle:!!a.richMetadata?.article,hasRichMetadataProducts:!!a.richMetadata?.products?.length,hasRichMetadataRecipe:!!a.richMetadata?.recipe,hasRichMetadataTutorial:!!a.richMetadata?.tutorial,hasThirdPartyPinOwner:!!a.thirdPartyPinOwner,imageSignature:a.imageSignature,imagesUrls:l,isDeletedStoryPin:a.storyPinData?.isDeleted??!1,isDownstreamPromotion:a.isDownstreamPromotion,isEligibleForAggregatedComments:a.isEligibleForAggregatedComments,isEligibleForPdp:a.isEligibleForPdp,isPromoted:a.isPromoted,isV1IdeaPin:a.isV1IdeaPin,isVideoPin:!!a.videos?.entityId,link:a.link,linkDomainName:a.linkDomain?.name,mobileLink:a.mobileLink,nodeId:a.nodeId,originalPinImageDimensions:a.imageSpec_236x||a.imageSpec_136x136||{},pinCreatedAt:a.createdAt,pinDomain:a.domain,pinId:n,pinnedToBoardId:a.pinnedToBoard?.entityId,pinnedToBoardUrl:a.pinnedToBoard?.url,pinnerDomainUrl:s?.domainUrl,pinnerDomainVerified:s?.domainVerified,pinnerId:s?.entityId,pinSectionId:a.section?.entityId,pinTrackingParams:a.trackingParams,promotedIsRemovable:a.promotedIsRemovable,promoterId:a.promoter?.entityId,recommendationReason:a.recommendationReason&&{reason:a.recommendationReason.reason,reasonId:a.recommendationReason.reasonId},seoBreadcrumbs:o??[],shouldOpenInStream:a.shouldOpenInStream||!1,storyPinDataId:a.storyPinDataId,trackedLink:a.trackedLink,videosId:a.videos?.entityId})}function tS({graphqlRefs:e,...t}){if(!e)return(0,eM.jsx)(tf,{...t});let{isStoryPin:n,pinId:i}=t;return n?(0,eM.jsx)(ta,{pinId:i,children:n=>n&&(0,eM.jsx)(tb,{...t,graphqlRefs:{...e,storyPinRef:n}})}):(0,eM.jsx)(tb,{...t,graphqlRefs:{...e,storyPinRef:null}})}},989406:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(883119),a=n(160133),l=n(340523),r=n(5859),s=n(554786),o=n(490166),d=n(174281),c=n(479144),u=n(785893);let p={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},m=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:{mainImageEventHandlers:a}})=>{let c=(0,s.ZP)(),m="desktop"===c?8:"undefined"!=typeof window&&window.screen&&window.screen.width<750?0:54,{checkExperiment:g}=(0,l.F)(),{isAuthenticated:_}=(0,r.B)(),h=_?g("auth_closeup_redesign").anyEnabled:g("unauth_closeup_redesign").anyEnabled,y="phone"!==c?d.Hg:"47vw",f="phone"!==c?0:"desktop"===c?8:10;return(0,u.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:h?{__style:p}:void 0,maxWidth:h?1059:void 0,paddingX:h?5:void 0,paddingY:h?5:void 0,children:(0,u.jsxs)(i.xu,{dangerouslySetInlineStyle:"phone"!==c?{__style:{justifyContent:"center"}}:{__style:{marginTop:t?0:54,marginRight:m,marginBottom:54,marginLeft:m,boxShadow:"desktop"===c?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},display:"flex",minHeight:"40vh",overflow:"phone"!==c?void 0:"hidden",position:"relative",rounding:"desktop"===c?void 0:6,children:[(0,u.jsx)(i.xu,{display:"phone"!==c?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==c?void 0:"hidden",paddingX:f,rounding:"desktop"===c?8:void 0,width:y,children:(0,u.jsx)(o.Z,{onMouseEnter:a?.onMouseEnter,onMouseLeave:a?.onMouseLeave,onTouch:a?.onTouch,pressState:"desktop"===c?"none":"compress",rounding:2,children:n})}),(0,u.jsx)(i.xu,{direction:"column",display:"flex",justifyContent:"between",paddingX:f,width:y,children:e})]})})})},g=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:l})=>{let r;let o=(0,s.ZP)(),{storyPinHeight:p}=(0,c.Z)();return r="desktop"===o?void 0:"phone"===o?d.g6:"number"==typeof p?9*p/16:d.Hg,l?(0,u.jsx)(i.xu,{"data-test-id":"closeup-body-landscape",marginEnd:"auto",marginStart:"auto",children:(0,u.jsx)(m,{detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:l})}):(0,u.jsxs)(i.xu,{"data-test-id":"closeup-body-portrait",marginEnd:"auto",marginStart:"auto",maxWidth:r,children:[t||"desktop"===o?(0,u.jsx)(a.Z,{roundedForLargeDevice:!0,children:n}):n,e]})}},984331:(e,t,n)=>{n.d(t,{Z:()=>F}),n(167912);var i,a,l,r=n(333739),s=n(140017),o=n(339001),d=n(180593),c=n(5859),u=n(883119),p=n(237040),m=n(785893);let g=void 0!==i?i:i=n(859334);function _({pin:e}){let t=(0,s.ZP)(),{author:n,authorUrl:i,ccUrl:a,link:l,mediaType:r,providerName:d}=e.mediaAttribution||{},c=!!d&&"Unknown"!==d,p={author:(0,m.jsx)(u.xu,{display:"inlineBlock",children:(0,m.jsx)(u.rU,{href:i||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,m.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:n})},"author")},"author"),provider:c?(0,m.jsx)(u.xu,{display:"inlineBlock",marginEnd:1,children:(0,m.jsx)(u.rU,{href:l||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,m.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:d})},"provider")},"provider"):null},g=c?t._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return n&&(g="VIDEO"===r?c?t._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):t._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):c?t._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):t._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,m.jsx)(u.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,m.jsxs)(u.xv,{inline:!0,size:"200",children:[!!g&&(0,o.nk)(g,p),a&&(0,m.jsx)(u.rU,{href:a,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,m.jsx)(u.xv,{inline:!0,size:"200",children:t._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function h({pinKey:e}){let t=(0,p.nF)(),{data:n}=(0,r.sr)(g,e,{type:"pin",useLegacyAdapter:e=>({mediaAttribution:e.media_attribution?{author:e.media_attribution.author??null,authorUrl:e.media_attribution.author_url??null,ccUrl:e.media_attribution.cc_url??null,link:e.media_attribution.link??null,mediaType:e.media_attribution.media_type??null,providerName:e.media_attribution.provider_name??null}:null,...r.tx}),renderStrategy__DO_NOT_USE:t.closeupPageSuspenseBehavior});return n&&(0,m.jsx)(_,{pin:n})}let y=void 0!==a?a:a=n(165666);function f({pin:e}){let t=(0,s.ZP)(),{authorUrl:n,authorName:i,url:a,providerName:l,ccUrl:r}=e.attribution||{},d=e.attribution?.embed?.src,{type:c,src:p,subtype:g}=e.embed||{},_=!!l&&"Unknown"!==l,h={author:(0,m.jsx)(u.xu,{display:"inlineBlock",children:(0,m.jsx)(u.rU,{href:n||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,m.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:i})},"author")},"author"),provider:_?(0,m.jsx)(u.xu,{display:"inlineBlock",marginEnd:1,children:(0,m.jsx)(u.rU,{href:a||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,m.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:l})},"provider")},"provider"):null},y=_?t._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return i&&(y=(p||d)&&"gif"!==c&&"pinstory"!==g?_?t._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):t._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):_?t._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):t._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,m.jsx)(u.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,m.jsxs)(u.xv,{inline:!0,size:"200",children:[!!y&&(0,o.nk)(y,h),r&&(0,m.jsx)(u.rU,{href:r,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,m.jsx)(u.xv,{inline:!0,size:"200",children:t._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function b({pinKey:e}){let{data:t}=(0,r.sr)(y,e,{type:"pin",useLegacyAdapter:e=>({attribution:e.attribution?{authorName:e.attribution.author_name??null,authorUrl:e.attribution.author_url??null,ccUrl:e.attribution.cc_url??null,embed:e.attribution.embed?{src:e.attribution.embed.src??null}:null,providerName:e.attribution.provider_name??null,url:e.attribution.url??null}:null,embed:e.embed?{src:e.embed.src??null,subtype:e.embed.subtype??null,type:e.embed.type??null}:null,...r.tx})});return t&&(0,m.jsx)(f,{pin:t})}var S=n(667294),x=n(169609),v=n(772667),P=n(696534),k=n(340523),w=n(217058),T=n(623409),I=n(885121),E=n(554786),A=n(923368);function C({text:e}){let{isAuthenticated:t,isBot:n}=(0,c.B)(),[i,a]=(0,S.useState)(!1),l=(0,E.ZP)(),r=(0,T.Z)(),s=(0,P.vs)(),{stackedCloseupEnabled:o}=(0,A.x4)(),d=(0,S.useCallback)(()=>{i||t||((0,w.NC)("click_open_description"),r({action:"click",item:"more-description"})),a(!i)},[i,t,r]);return n?(0,m.jsx)(u.xv,{inline:!0,children:(0,v.Z)({stackedCloseupEnabled:o,text:e})}):"desktop"!==l?(0,m.jsx)(I.Z,{description:e,handleToggle:d,isExpanded:i,maxHeight:42,Wrapper:({children:e})=>(0,m.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start"},children:e})}):(0,m.jsx)(x.Z,{isDarkMode:s,children:(0,v.Z)({text:e})})}function R({photoAttribution:e,text:t}){let n;let i=(0,E.ZP)(),a=(0,T.Z)(),{checkExperiment:l}=(0,k.F)(),{isAuthenticated:r}=(0,c.B)(),s=r?l("auth_closeup_redesign").anyEnabled:l("unauth_closeup_redesign").anyEnabled;return"phone"===i&&(n=s?"start":"center"),(0,m.jsxs)(u.xu,{dangerouslySetInlineStyle:{__style:{textAlign:n}},"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",children:[e,t&&(0,m.jsx)(u.xu,{"data-test-id":"main-pin-description-text",children:(0,m.jsx)(u.iP,{onTap:()=>{a({action:"click",item:"main-pin-description-text"})},children:(0,m.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,m.jsx)(C,{text:t})})})})]})}let j=void 0!==l?l:l=n(970116),L=(e,t)=>{if(e){let n=e.getTime(),i=new Date().getTime();return null==t||i-n<=31536e6*t}return!1};function F({pinKey:e}){let t;let n=(0,s.ZP)(),{isAuthenticated:i,locale:a}=(0,c.B)(),{data:l,childDataKey__DEPRECATED:u}=(0,r.sr)(j,e,{type:"pin",useLegacyAdapter:e=>({attribution:e.attribution&&{__typename:"Attribution"},closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,description:e.description,mediaAttribution:e.media_attribution&&{__typename:"MediaAttribution"},richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{datePublished:e.rich_metadata.article.date_published},description:e.rich_metadata.description,recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata"}},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},seoDescription:e.seo_description,seoNoindexReason:e.seo_noindex_reason,storyPinDataId:e.story_pin_data_id})});if(!l)return null;let{closeupDescription:p,closeupUnifiedDescription:g,storyPinDataId:_}=l,y=l.richMetadata?.description??"",f=l.richMetadata?.article?.datePublished??"",S=l.richSummary?.displayName??"",x=l.description,v=!!l.attribution,P=!!l.mediaAttribution,k=l.seoDescription||"",w=l.seoNoindexReason||"",T=f&&new Date(f),I=i?g?.trim():(0,d.Z)({storyPinDataId:_,pinDescription:x,richMetadataDescription:y,richSummaryDisplayName:S,closeupDescription:p,closeupUnifiedDescription:g,seoDescription:k,seoNoindexReason:w}),E=T&&L(T,2)&&I?(0,o.nk)(n._('{{ pinDescription }} Published on {{ date }}', 'closeup.details.descirptionWithPublishedDate', 'Pin description with publish date'),{date:function(e,t){try{return new Intl.DateTimeFormat(t,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(t){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}(T,a),pinDescription:I}).join(""):I;return(v||P)&&(t=(0,o.nk)(I?"{{ credit }}   ":"{{ credit }}",{credit:P?(0,m.jsx)(h,{pinKey:u},"article-pin"):(0,m.jsx)(b,{pinKey:u},"article-pin"),descriptionToDisplay:E})),(0,m.jsx)(R,{photoAttribution:t,text:I})}},168723:(e,t,n)=>{n.d(t,{Z:()=>eF,f:()=>eI});var i,a,l,r=n(667294);n(167912);var s=n(240684),o=n(883119),d=n(230556),c=n(98068),u=n(89856),p=n(378049),m=n(696534),g=n(510989),_=n(333739),h=n(207012),y=n(582008),f=n(140017),b=n(59545),S=n(422210),x=n(165706),v=n(558273),P=n(567344),k=n(340523),w=n(5859),T=n(608516),I=n(191313),E=n(427514),A=n(629650),C=n(554786),R=n(219168),j=n(984331),L=n(242534),F=n(800856),D=n(752039),O=n(916845),N=n(894965),M=n(618429),Z=n(387450),B=n(604020),U=n(875292),K=n(237040),z=n(861748),H=n(323294),V=n(942397),G=n(701082),$=n(386008),W=n(283970),q=n(367408),Y=n(41117),X=n(844035),J=n(771981),Q=n(605922),ee=n(435333),et=n(115526),en=n(644701),ei=n(223996),ea=n(10630),el=n(118923),er=n(832853),es=n(785893);let eo=(0,s.ZP)({resolved:{},chunkName:()=>"app-www-Reactions-ReactionAggregation",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(80428).then(n.bind(n,656178)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>656178}),ed=(0,er.Z)(()=>n.e(80428).then(n.bind(n,656178)),void 0,"app-www-Reactions-ReactionAggregation"),ec=(0,s.ZP)({resolved:{},chunkName:()=>"app-www-SeeMoreButton",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(27795).then(n.bind(n,443171)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>443171}),eu=(0,er.Z)(()=>n.e(27795).then(n.bind(n,443171)),void 0,"app-www-SeeMoreButton"),ep=e=>(0,el.b)()?(0,es.jsx)(eu,{...e}):(0,es.jsx)(ec,{...e}),em=(0,s.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-PinRecipe",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(4183).then(n.bind(n,703142)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>703142}),eg=(0,er.Z)(()=>n.e(4183).then(n.bind(n,703142)),void 0,"app-www-closeup-duplo-PinRecipe"),e_=e=>(0,el.b)()?(0,es.jsx)(eg,{...e}):(0,es.jsx)(em,{...e}),eh=(0,s.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-PinRecipeRating",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(14360).then(n.bind(n,204926)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>204926}),ey=(0,er.Z)(()=>n.e(14360).then(n.bind(n,204926)),void 0,"app-www-closeup-duplo-PinRecipeRating"),ef=e=>(0,el.b)()?(0,es.jsx)(ey,{...e}):(0,es.jsx)(eh,{...e}),eb=(0,s.ZP)({resolved:{},chunkName:()=>"app-www-VisualSearch-duplo-DuploShoppingModule",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(32443).then(n.bind(n,211224)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>211224},{ssr:!1}),eS=(0,er.Z)(()=>n.e(32443).then(n.bind(n,211224)),{ssr:!1}),ex=e=>(0,el.b)()?(0,es.jsx)(eS,{...e}):(0,es.jsx)(T.Z,{children:(0,es.jsx)(eb,{...e})}),ev=(0,r.lazy)(()=>n.e(46148).then(n.bind(n,746148))),eP=(0,er.Z)(()=>n.e(46148).then(n.bind(n,746148)),{ssr:!1}),ek=(0,r.lazy)(()=>n.e(68951).then(n.bind(n,868951))),ew=(0,er.Z)(()=>n.e(68951).then(n.bind(n,868951)),{ssr:!1}),eT=r.Fragment,eI=({children:e})=>"lg"===(0,W.H)()?(0,es.jsx)(o.Le,{top:68,children:(0,es.jsx)(o.xu,{marginStart:4,children:e})}):e,eE=void 0!==i?i:i=n(955120),eA=void 0!==a?a:a=n(572498),eC=void 0!==l?l:l=n(943992);function eR(e){let t,n;let i=(0,f.ZP)(),{commentCount:a,commentsDisabled:l,commentModule:s,isEligibleForPdp:u,isImagePinForUnauthOnTablet:_,isStoryPin:y,onClickTitleOrDomain:K,shouldShowAggregatedComments:W,shouldShowReactions:et,shouldShowSEOPinInfo:ei,viewParameter:er,viewerId:ec,pinActionBar:eu,sourceUserBlockedByMe:em,sourceUserExplicitlyFollowedByMe:eg,sourceUserFollowerCount:eh,sourceUserFullName:ey,sourceUserId:eb,sourceUserImageLargeUrl:eS,sourceUserimageMediumUrl:eE,sourceUserImageSmallUrl:eA,sourceUserIsVerifiedMerchant:eR,sourceUserUsername:ej,sourceUserVerifiedIdentityVerified:eL,pinId:eF,pinLink:eD,pinDomain:eO,pinProductPrice:eN,pinProductInStock:eM,pinReactionCounts:eZ,promoterFullName:eB,hasPinProduct:eU,hasSourceUser:eK,hasOfficialUser:ez,hasLinkDomain:eH,hasNativeCreator:eV,hasOriginPinner:eG,hasPromoter:e$,hasRichMetadataArticle:eW,hasRichMetadataTutorial:eq,hasRichMetadataRecipe:eY,hasRichMetadataRecipeCategorizedIngredients:eX,hasRichMetadataRecipeAggregateInfo:eJ,hasRichMetadataProductOfferSummary:eQ,hasRichSummaryProductOfferSummary:e0,richMetadataRecipeFromAggregatedData:e1,richMetadataProductName:e3,richMetadataProductRatingValue:e2,richMetadataProductRatingCount:e6,richSummaryProductName:e4,pinJoinVisualAnnotation:e5,pinJoinAnnotationsWithLinks:e8,graphqlRef:e7,isActionBarInline:e9,setIsActionBarInline:te,clientTrackingParams:tt,shoppingKlpUrls:tn,storyPinKeyValueBlocks:ti,setCloseupDetailsHeight:ta,setCloseupPinLinkCreditsHeight:tl,setCloseupTitleHeight:tr,setUploadedToPinterestTextHeight:ts,setUserAttributionHeight:to,setUserRepHeight:td,isInUnauthPdpPlus:tc,pinKey:tu}=e,{checkExperiment:tp}=(0,k.F)(),tm=(0,h.Z)(eC,tu),tg=(0,C.ZP)(),t_="desktop"===tg,th="phone"===tg,{isAuthenticated:ty,country:tf,locale:tb,isBot:tS,regionFromIp:tx}=(0,w.B)(),tv=(0,$.mN)(),tP=(0,$.Tt)(),tk=(0,m.vs)(),tw=u&&ty,tT=!t_&&!u,tI=tw||tT,tE=(0,r.useRef)(null),tA=(0,r.useRef)(null),tC=(0,r.useRef)(null),tR=(0,r.useRef)(null),tj=(0,r.useRef)(null),tL=(0,r.useRef)(null),tF=(0,r.useRef)(null),tD=(0,el.b)();(0,G.Z)(e=>{ta&&tA&&tA.current&&tA.current.offsetHeight<72&&ta(e.offsetHeight)},tE),(0,G.Z)(e=>{tl&&tl(e.offsetHeight)},tC),(0,G.Z)(e=>{tr&&tr(e.offsetHeight)},tR),(0,G.Z)(e=>{to&&to(e.offsetHeight)},tL),(0,G.Z)(e=>{ts&&ts(e.offsetHeight)},tj),(0,G.Z)(e=>{td&&td(e.offsetHeight)},tF);let tO=!t_&&!!W&&ty&&(!u||tp("ce_mweb_pdp_comments").anyEnabled),tN=!t_&&(!ty||tI&&e9||!u&&tp("auth_mweb_inline_action_bar").anyEnabled),tM=!ty&&eU&&(u||tS||!tp("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled);if(ty&&u)return(0,es.jsx)(eI,{children:(0,es.jsxs)(o.xu,{"data-test-id":"CloseupDetails",children:[(0,es.jsx)(o.xu,{paddingX:2,paddingY:s?0:3,width:"100%",children:(0,es.jsx)(X.Z,{graphqlRef:e7,inlinePinActionBar:tN?eu:void 0,inMwebPdpCommentsExp:tO,onClickTitleOrDomain:K,pinId:eF,setIsActionBarInline:tI?te:void 0})}),s]})});let tZ=!t_&&["no_collapse_by_default","collapse_by_default"].includes(tp(ty?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group),tB=(0,v._S)(eO)?(0,H.Fc)({i18n:i,hasRichMetadataProductOfferSummary:eQ,richMetadataProductName:e3,richSummaryProductName:e4,hasRichSummaryProductOfferSummary:e0}):void 0,tU=(0,v._S)(eO)?(0,H.Fc)({i18n:i,hasRichMetadataProductOfferSummary:eQ,richMetadataProductName:e3,richSummaryProductName:e4,hasRichSummaryProductOfferSummary:e0})||(0,H.Wj)({i18n:i,hasLinkDomain:eH,hasRichMetadataArticle:eW,hasRichMetadataRecipeCategorizedIngredients:eX,hasRichMetadataTutorial:eq,richMetadataRecipeFromAggregatedData:e1}):void 0,{pinCreditLink:tK,pinCredit:tz}=(0,H.Xe)({hasLinkDomain:eH,hasNativeCreator:eV,hasOriginPinner:eG,pinDomain:eO,sourceUserUsername:ej,sourceUserFullName:ey}),{annotationsWithLinks:tH}=(0,P.eK)({pinJoinVisualAnnotation:e5,pinJoinAnnotationsWithLinks:e8}),tV=(0,H.AH)(eD),tG=eK&&(!ty||tz&&tK),t$=et&&!!eZ&&!tp(`${ty?"auth":"unauth"}_mweb_reactions_expansion_mvp_idea_video_pin`).anyEnabled,tW=(0,S.Z)(tP?.created_at)&&!(0,V.V0)(tP),tq=tS&&!t_&&tI&&tp("mweb_render_missing_seo_content_holdout_ff").anyEnabled,tY=tq?!tI:tS||!tI,tX=ty?tp("auth_closeup_redesign").anyEnabled:tp("unauth_closeup_redesign").anyEnabled,tJ=!t_&&ei&&(0,es.jsx)(o.xu,{marginBottom:tc?2:0,marginTop:tc?2:0,children:(0,es.jsx)(ep,{dedupeVisualAnnotations:null,fallback:(0,es.jsx)(o.$j,{accessibilityLabel:i._('Loading See More', 'closeupDetails.SeeMoreButton.loading.label', 'Spinner indicates see more button is loading'),show:!0}),graphqlRef:e7,isAuth:ty,isMainPin:!0,lazyLoadAnnotations:!ty&&!tS,onClickTitleOrDomain:K,pinCreditPrefix:tU,pinId:eF,renderOnlyHiddenSEOContent:!tq&&tI&&tS,shoppingKlpUrls:tn})}),tQ=ez&&(0,es.jsx)(o.xu,{ref:tL,marginBottom:2,children:(0,es.jsx)(Z.Z,{clientTrackingParams:tt,graphqlRef:e7,hideFollowButton:tp("lex_follow_button").group.includes("hide_follow")||t_,justifyContent:t_?"start":"center",pinId:eF,seeMoreButton:tY&&tJ,viewerId:ec})}),t0=eb&&tv(eb),t1=t0?t0.explicitly_followed_by_me:!!eg,t3=!!tG&&!ez&&(0,es.jsxs)(o.xu,{ref:tF,alignItems:"center","data-test-id":"CloseupUserRep",display:"flex",flex:"grow",justifyContent:"between",marginTop:tX?void 0:J.dP,width:"100%",children:[(0,es.jsx)(en.Z,{activateLexFollowExp:()=>tp("lex_follow_button"),blockedByMe:em??!1,clientTrackingParams:tt,explicitlyFollowedByMe:t1,followerCount:eh??0,fullName:ey??"",id:eb??"",imageLargeUrl:eS??"",imageMediumUrl:eE??"",imageSmallUrl:eA??"",isEligibleForPdp:!!u,isImagePinForUnauthOnTablet:_??!1,isOnCloseup:!0,isVerifiedMerchant:eR??!1,pinId:eF,pinKey:e7,textColor:"default",type:"row",username:ej??"",verifiedIdentityVerified:eL??!1,viewParameter:er,viewType:3}),tY&&tJ]}),t2=t_&&(tH||[]).length>0&&(0,es.jsx)(r.Fragment,{children:(0,es.jsx)(o.xu,{marginTop:tX?4:0,padding:tX?0:2,paddingX:0,children:(0,es.jsx)(ea.ZP,{dedupeVisualAnnotations:null,graphqlRef:e7,mode:"inlineWithScrollArrows",pinId:eF,shoppingKlpUrls:tn})})}),t6=t$&&(0,es.jsx)(g.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,es.jsx)(o.xu,{alignSelf:"center",display:"flex",justifyContent:t_||tX?"start":"center",marginTop:t_?2:void 0,children:(0,es.jsx)(e=>tD?(0,es.jsx)(ed,{...e}):(0,es.jsx)(T.Z,{children:(0,es.jsx)(eo,{...e})}),{disableModal:!ty,pinId:eF,reactionCounts:eZ,textSize:d.n,textWeight:"bold",viewParameter:156,viewType:3})})});eO&&eD&&(t={domain:eO,url:eD});let t4=e7?{type:"graphqlRef",data:e7}:{type:"deprecated",data:eF},t5=(ti||[]).map((e,t)=>(0,es.jsx)(Q.Z,{categoryType:e.categoryType??e.category_type,size:"300",type:"compact",value:e.value},`key-val-component-${t}`)).filter(e=>null!=e),t8=J.dP,t7=t$||th?J.dP:0,t9=ty?void 0:10,ne=t_?"start":"center",nt=!!e2&&e6;return tX&&(t8=t_?4:2,t7=t$||th?J.dP:1,t9=ty?void 0:8,n=th,ne="start"),(0,es.jsx)(eI,{children:(0,es.jsxs)(o.xu,{ref:tE,"data-test-id":"CloseupDetails",children:[(0,es.jsxs)(o.xu,{marginBottom:tZ&&!tX?0:4,marginTop:4,paddingX:N.x,width:"100%",children:[!tN&&eu,th&&tQ,t6,(t_||tM||tV&&(!tG||_))&&(0,es.jsx)(o.xu,{ref:tC,"data-test-id":"callToActionButton",display:ty||t_||_||tM?void 0:"none",marginTop:t7,children:!tc&&(0,es.jsx)(F.Z,{isImagePinForUnauthOnTablet:_,onClickTitleOrDomain:K,pinCreditPrefix:tX?tB:tU,pinDomain:eO})}),t_&&tM&&eN&&!tc&&(0,es.jsxs)(o.xu,{alignItems:"baseline",direction:"row",display:"flex",marginTop:1,children:[(0,es.jsx)(o.xv,{size:"500",children:eN}),(0,es.jsx)(o.xu,{marginStart:2,children:(0,es.jsx)(o.xv,{size:"400",children:eM?i._('In stock', 'closeup.details.productPinInStock', 'Product pin in stock'):i._('Out of stock', 'Product pin out of stock', 'Product pin out of stock')})})]}),(0,es.jsxs)(eT,{children:[th&&t3,(0,es.jsx)(o.xu,{ref:tR,marginTop:tX?4:J.dP,children:(0,es.jsx)(O.Z,{forceSmallerHeading:n,graphqlRef:e7,hasLink:tV,lineClamp:tX?void 0:(0,M.Z)({isImagePinForUnauthOnTablet:_}),onClick:K,pinId:eF,textAlign:ne})})]}),(0,es.jsx)(eT,{children:th&&tZ&&(0,es.jsx)(o.xu,{marginTop:J.dP,children:(0,es.jsx)(A.Z,{color:tk?"light":"default",items:t5.filter(e=>""!==e)})})}),!t_&&eN&&(0,es.jsx)(o.kC,{alignItems:"stretch",justifyContent:tX?"start":"center",children:(0,es.jsxs)(o.xv,{children:[tc?(0,es.jsx)(o.xv,{inline:!0,size:"300",weight:"bold",children:eN}):(0,es.jsx)(o.xv,{inline:!0,children:eN}),tc?(0,es.jsx)(r.Fragment,{children:!eM&&(0,es.jsxs)(r.Fragment,{children:["  ",i._('Out of stock', 'closeup.details.productPinOutOfStock', 'Product pin out of stock')]})}):(0,es.jsxs)(r.Fragment,{children:["  ",eM?i._('In stock', 'closeup.details.productPinInStock', 'Product pin in stock'):i._('Out of stock', 'closeup.details.productPinOutOfStock', 'Product pin out of stock')]})]})}),eY&&eJ&&!tW&&(0,es.jsx)(ef,{boldText:!1,fallback:(0,es.jsx)(o.$j,{accessibilityLabel:i._('Loading Pin recipe rating', 'closeupDetails.PinRecipeRating.loading.label', 'Spinner indicates pin recipe rating is loading'),show:!0}),graphqlRef:e7,isWideViewport:t_,marginTop:J.dP,pinId:eF,textSize:"300"}),t_&&tM&&eN&&tc&&(0,es.jsxs)(o.xu,{alignItems:"baseline",direction:"row",display:"flex",marginBottom:2,marginTop:2,children:[(0,es.jsx)(o.xu,{children:(0,es.jsxs)(o.xv,{size:"400",children:[!eM&&i._('Out of stock', 'Product pin out of stock', 'Product pin out of stock')," "]})}),(0,es.jsx)(o.xv,{inline:!0,size:"400",weight:"bold",children:eN})]}),eU&&nt&&tc&&t_&&(0,es.jsx)(o.xu,{"data-test-id":"unauth-pdp-rating-and-review",marginTop:3,children:(0,es.jsx)(c.Z,{count:e6,countFormat:"number",countType:"review",hideSeparationDot:!1,isInUnauthPdpPlus:tc,ratingValue:e2,shippingInfo:void 0})}),eU&&nt&&tc&&!t_&&(0,es.jsxs)(o.xu,{"data-test-id":"unauth-pdp-rating-and-review",children:[(0,es.jsx)(c.Z,{count:e6,countFormat:"number",countType:"review",hideSeparationDot:!1,isInUnauthPdpPlus:tc,ratingValue:e2,shippingInfo:void 0}),(0,es.jsx)(o.xu,{marginTop:2,children:(0,es.jsx)(F.Z,{isImagePinForUnauthOnTablet:_,onClickTitleOrDomain:K,pinCreditPrefix:tX?tB:tU,pinDomain:eO})})]}),eU&&t_&&tc&&(0,es.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"15px 0"}},"data-test-id":"visit-button-unauth",children:(0,es.jsx)(B.Z,{actionButtonText:i._('Visit site', 'closeup.shop.button', 'shop button'),clickthroughInterstitialExperience:null,graphqlRef:e7,isDesktop:t_,isInUnauthPdpPlus:tc,pinId:eF})}),(0,es.jsx)(o.xu,{ref:tA,children:(0,es.jsxs)(eT,{children:[tc&&(0,es.jsx)(o.kC,{justifyContent:"between",children:tN&&(0,es.jsx)(o.xu,{marginBottom:tX&&!s?4:0,marginTop:tX?4:0,children:eu})}),(0,es.jsx)(b.Z,{onVisibilityChange:tI?e=>{if(e&&e.length>0&&te){let{intersectionRatio:t,boundingClientRect:n}=e[0],i=n.y<0;te(1===t||i)}}:()=>{},options:{threshold:[1]},children:e=>(0,es.jsx)(o.xu,{ref:e,children:(0,es.jsx)(o.xu,{marginTop:tX?t8:J.dP,children:tM?(0,es.jsx)(Y.Z,{isInUnauthPdpPlus:tc,onClickTitleOrDomain:K,pinKey:tm}):(0,es.jsx)(j.Z,{pinKey:t4})})})})]})}),!tc&&tN&&(0,es.jsx)(o.xu,{marginBottom:tX&&!s?4:0,marginTop:tX?4:0,children:eu}),t_&&!ty&&t2,!th&&(0,es.jsx)(o.xu,{marginTop:tX?J.dP:0,children:t3}),!th&&(0,es.jsx)(o.xu,{marginTop:tX?8:J.dP,children:tQ}),t_&&ty&&(0,es.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},"data-test-id":"UnauthVaseFullBleedModalContainer",children:(0,es.jsx)(R.Z,{onClose:()=>{},pinKey:t4})}),!t_&&e$&&(0,es.jsxs)(r.Fragment,{children:[(0,es.jsx)(o.xu,{marginTop:J.dP,children:(0,es.jsx)(o.iz,{})}),(0,es.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,es.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:i._('Promoted Pin', 'Denotes promoted pin in closeup', 'Denotes promoted pin in closeup')}),(0,es.jsx)(g.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:tD?(0,es.jsx)(ew,{graphqlRef:e7,pinId:eF,promoter:eB??"",type:"promoted"}):(0,es.jsx)(T.Z,{children:(0,es.jsx)(ek,{graphqlRef:e7,pinId:eF,promoter:eB??"",type:"promoted"})})})]}),(0,es.jsx)(o.iz,{})]}),!tW&&eY&&!y&&(0,es.jsx)(q.Z,{hash:"recipe",offset:-x.DEFAULT_HEIGHT,children:(0,es.jsx)(e_,{fallback:(0,es.jsx)(o.$j,{accessibilityLabel:i._('Loading Pin recipe', 'closeupDetails.PinRecipe.loading.label', 'Spinner indicates Pin recipe is loading'),show:!0}),graphqlRef:e7,pinId:eF})}),!tW&&y&&(0,es.jsx)(L.Z,{clientTrackingParams:tt,graphqlRef:e7,link:t,pinId:eF??""}),!tZ&&(0,es.jsx)(D.Z,{graphqlRef:e7,inCollapsibleModulesExp:tZ,pinId:eF}),!ty&&th&&"IN"===tf&&(tb||"").startsWith("en")&&ee.N3.includes(tx)&&3>=Number((0,I.qn)("indiaUnauthLocaleShowCount",0))&&(0,es.jsx)(g.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:tD?(0,es.jsx)(eP,{}):(0,es.jsx)(T.Z,{children:(0,es.jsx)(ev,{})})}),(0,es.jsx)(p.Z,{isDesktop:t_,pinKey:t4})]}),ty&&(0,es.jsx)(ex,{pinKey:tm,view:3,viewParameter:140}),t_&&W&&!eU&&(0,es.jsx)(g.Z,{name:"CommentThread",children:(0,es.jsxs)(o.xu,{marginTop:t9,paddingX:2,children:[(0,es.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:a&&!l?(0,E.Z)(i.ngettext('{{ count }} Comment', '{{ count }} Comments', a, 'desktopPinCloseup.sectionTitle.commentsCountLabel', 'Comments on a Pin. count: number of comments'),{count:a.toString()}):i._('Comments', 'desktopPinCloseup.sectionTitle', 'Title of comments section')}),(0,es.jsx)(z.Z,{isReadOnly:!0,pinId:eF,pinKey:t4,viewParameter:er}),!tS&&!l&&(0,es.jsx)(U.Z,{isStoryPin:!1,viewParameter:er})]})}),!t_&&s]})})}let ej=e=>{let t,n;let i=(0,ei.Z)(e),a=(0,et.Z)(e),l=(0,K.nF)(),r=(0,y.h)(eE,e.pinner,l.closeupPageSuspenseBehavior),s=(0,y.h)(eE,e.nativeCreator,l.closeupPageSuspenseBehavior),o=(0,y.h)(eE,e.linkDomain?.officialUser??null,l.closeupPageSuspenseBehavior),d=(0,y.h)(eE,e.originPinner,l.closeupPageSuspenseBehavior),c=e.pinJoin?.visualAnnotation||[],p=e.pinJoin?.shoppingKlpUrls||[],m=e.promoter&&!e.isDownstreamPromotion?e.promoter:null,g=e.richMetadata?.products?.[0],_=e.richSummary?.products?.[0],h=e.aggregatedPinData?.commentCount||0,f=e.aggregatedPinData?.didItData?.imagesCount||0,{isAuthenticated:b}=(0,w.B)();t=s||(e.linkDomain?o:d||r),b||t||(t=r);let S=!!e.closeupAttribution;return g&&g.name&&g.offerSummary&&(n=g.offerSummary),!n&&_&&_.name&&_.offerSummary&&(n=_.offerSummary),{commentCount:h+f,commentsDisabled:e.commentsDisabled,closeupUnifiedDescription:e.closeupUnifiedDescription,hasLinkDomain:!!e.linkDomain,hasNativeCreator:!!e.nativeCreator,hasOfficialUser:S,hasOriginPinner:!!e.originPinner,hasPinProduct:!!n??!1,hasPromoter:!!m,hasRichMetadataArticle:!!e.richMetadata?.article,hasRichMetadataProductOfferSummary:!!g?.offerSummary,hasRichMetadataRecipe:!!e.richMetadata?.recipe,hasRichMetadataRecipeAggregateInfo:!!e.richMetadata?.recipe?.displayCookTime||!!e.richMetadata?.recipe?.servingsSummary||!!e.richMetadata?.recipe?.aggregateRating,hasRichMetadataRecipeCategorizedIngredients:!!e.richMetadata?.recipe?.categorizedIngredients,hasRichMetadataTutorial:!!e.richMetadata?.tutorial,hasRichSummaryProductOfferSummary:!!g?.offerSummary,richMetadataProductRatingValue:e.richMetadata?.aggregateRating?.ratingValue,richMetadataProductRatingCount:e.richMetadata?.aggregateRating?.ratingCount,hasSourceUser:!!t,isEligibleForPdp:e.isEligibleForPdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:a,pinJoinVisualAnnotation:c,pinLink:e.link,pinProductInStock:n?.inStock,pinProductPrice:n&&(0,u.Z)({maxPrice:n.maxPrice,minPrice:n.minPrice,price:n.price}),pinReactionCounts:i,promoterFullName:m?.fullName,richMetadataProductName:g?.name,richMetadataRecipeFromAggregatedData:e.richMetadata?.recipe?.fromAggregatedData,richSummaryProductName:_?.name,shouldShowAggregatedComments:e.isEligibleForAggregatedComments,shoppingKlpUrls:p,sourceUserBlockedByMe:t?.blockedByMe,sourceUserExplicitlyFollowedByMe:t?.explicitlyFollowedByMe,sourceUserFollowerCount:t?.followerCount,sourceUserFullName:t?.fullName,sourceUserId:t?.entityId,sourceUserImageLargeUrl:t?.imageLargeUrl,sourceUserimageMediumUrl:t?.imageMediumUrl,sourceUserImageSmallUrl:t?.imageSmallUrl,sourceUserIsVerifiedMerchant:t?.isVerifiedMerchant,sourceUserUsername:t?.username,sourceUserVerifiedIdentityVerified:t?.verifiedIdentity?.verified,storyPinKeyValueBlocks:e.storyPinData?.metadata?.basics?.keyValueBlocks,pinKey:e}},eL=e=>{let t,n;let{isAuthenticated:i}=(0,w.B)(),a=(0,$.mN)();if(!e)return null;let l=e.aggregated_pin_data?.comment_count||0,r=e.aggregated_pin_data?.did_it_data?.images_count||0,s=e.promoter&&!e.is_downstream_promotion?e.promoter:null,o=e.rich_metadata?.products?.[0],d=e.rich_summary?.products?.[0],{link_domain:c,native_creator:p,origin_pinner:m,pinner:g}=e||{},_=(0,H.wS)(c,p,m,g);i||_||(_=g),_&&(t="string"==typeof _?a(_):_);let h=!!e.closeup_attribution;return o&&o.name&&o.offer_summary&&(n=o.offer_summary),!n&&d&&d.name&&d.offer_summary&&(n=d.offer_summary),{commentCount:l+r,commentsDisabled:e.comments_disabled,hasLinkDomain:!!e.link_domain,hasNativeCreator:!!e.native_creator,hasOfficialUser:h,hasOriginPinner:!!e.origin_pinner,hasPinProduct:!!n??!1,hasPromoter:!!s,hasRichMetadataArticle:!!e.rich_metadata?.article,hasRichMetadataProductOfferSummary:!!o?.offer_summary,hasRichMetadataRecipe:!!e.rich_metadata?.recipe,hasRichMetadataRecipeCategorizedIngredients:!!e.rich_metadata?.recipe?.categorized_ingredients,hasRichMetadataTutorial:!!e.rich_metadata?.tutorial,hasRichSummaryProductOfferSummary:!!o?.offer_summary,hasSourceUser:!!_,isEligibleForPdp:e.is_eligible_for_pdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:e.pin_join?.annotations_with_links,pinJoinVisualAnnotation:e.pin_join?.visual_annotation,pinLink:e.link,pinProductInStock:n?.in_stock,pinProductPrice:n&&(0,u.Z)({maxPrice:n.max_price,minPrice:n.min_price,price:n.price}),pinReactionCounts:e.reaction_counts,promoterFullName:s?.full_name,richMetadataProductName:o?.name,richMetadataProductRatingValue:e.rich_metadata?.aggregate_rating?.rating_value,richMetadataProductRatingCount:e.rich_metadata?.aggregate_rating?.rating_count,richMetadataRecipeFromAggregatedData:e.rich_metadata?.recipe?.from_aggregated_data,richSummaryProductName:d?.name,shouldShowAggregatedComments:e.is_eligible_for_aggregated_comments,shoppingKlpUrls:e.pin_join?.shopping_klp_urls||[],sourceUserBlockedByMe:t?.blocked_by_me,sourceUserExplicitlyFollowedByMe:t?.explicitly_followed_by_me,sourceUserFollowerCount:t?.follower_count,sourceUserFullName:t?.full_name,sourceUserId:t?.id,sourceUserImageLargeUrl:t?.image_large_url,sourceUserimageMediumUrl:t?.image_medium_url,sourceUserImageSmallUrl:t?.image_small_url,sourceUserIsVerifiedMerchant:t?.is_verified_merchant,sourceUserUsername:t?.username,sourceUserVerifiedIdentityVerified:t?.verified_identity?.verified,storyPinKeyValueBlocks:e.story_pin_data?.metadata?.basics?.key_value_blocks,pinKey:{type:"deprecated",data:e}}};function eF({graphqlRef:e,pinId:t,...n}){let i=(0,K.nF)(),{data:a,childDataKey__DEPRECATED:l}=(0,_.HF)(eA,e?{type:"graphqlRef",data:e}:{type:"deprecated",data:t},{type:"pin",useGraphQLAdapter:ej,useLegacyAdapter:eL,renderStrategy__DO_NOT_USE:i.closeupPageSuspenseBehavior});return!!a&&(0,es.jsx)(eR,{...n,...a,graphqlRef:"graphqlRef"===l.type?l.data:null,pinId:t})}},242534:(e,t,n)=>{n.d(t,{Z:()=>P});var i,a=n(667294),l=n(167912),r=n(883119),s=n(230556),o=n(249123),d=n(213377),c=n(140017),u=n(340523),p=n(5859),m=n(554786),g=n(153896),_=n(894965),h=n(312244),y=n(19447),f=n(785893);let b=void 0!==i?i:i=n(667952);function S({listBlocks:e,templateType:t}){let n=(0,c.ZP)(),i=(0,m.ml)(),{checkExperiment:l}=(0,u.F)(),{isAuthenticated:y}=(0,p.B)(),b=i&&["no_collapse_by_default","collapse_by_default"].includes(l(y?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group),S=new Map([[null,n._('Notes', 'Closeup.CloseupDetailsBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,n._('Ingredients', 'Closeup.CloseupDetailsBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,n._('Supplies', 'Closeup.CloseupDetailsBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,f.jsx)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:e&&e.length>0&&(0,f.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{rowGap:16}},direction:"column",display:"flex",marginTop:4,children:[b&&(0,f.jsx)(h.Z,{marginStart:d.D6+_.x}),(0,f.jsx)(g.Z,{heading:S.get(t),children:(0,f.jsx)(({children:e})=>b?(0,f.jsx)(r.kC,{direction:"column",gap:4,children:e}):(0,f.jsx)(o.Z,{children:e}),{children:e.map((e,t)=>{let n=`${e.heading||"empty"}-${t}-listHeading`;return(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(r.xu,{marginTop:b?0:2,paddingY:b?0:2}),(0,f.jsx)(r.xv,{size:s.n,weight:"bold",children:e.heading}),(e.blocks??[]).map((t,n)=>{let i=`item-${n}-${e.heading||"empty"}`;return(0,f.jsx)(a.Fragment,{children:(0,f.jsx)(r.xu,{marginBottom:1,children:(0,f.jsxs)(r.xv,{size:s.n,children:[" ",t.text?t.text:""]})})},i)})]},n)})})})]})})}function x({pinId:e,graphqlRef:t,...n}){let i=(0,y.S6)()(e),{key_value_blocks:a,list_blocks:l}=i?.story_pin_data?.metadata?.basics||{};return(0,f.jsx)(S,{...n,graphqlRef:null,keyValueBlocks:a,listBlocks:l,pinId:e,templateType:i?.story_pin_data?.metadata?.template_type,title:i?.title??""})}function v({pinId:e,graphqlRef:t,...n}){let i=(0,l.useFragment)(b,t),a=i?.storyPinData?.metadata?.basics||{};return(0,f.jsx)(S,{...n,graphqlRef:i,keyValueBlocks:a.keyValueBlocks,listBlocks:a.listBlocks,pinId:e,templateType:i?.storyPinData?.metadata?.templateType,title:i?.title??""})}function P(e){return e.graphqlRef?(0,f.jsx)(v,{graphqlRef:e.graphqlRef,...e}):(0,f.jsx)(x,{...e})}},336184:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),a=n(883119),l=n(140017),r=n(340523),s=n(448318),o=n(5859),d=n(71328),c=n(554786),u=n(760101),p=n(894965),m=n(785893);function g({children:e,isImagePinForUnauthOnTablet:t}){let{isAuthenticated:n}=(0,o.B)();return(0,m.jsxs)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,zIndex:n?void 0:p.e,children:[(0,m.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}var _=n(48481),h=n(217058),y=n(623409);function f({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:n,inviterFirstName:r}){let s=(0,l.ZP)(),o=(0,y.Z)(),d=(0,_.Z)(),u=(0,i.useRef)(),p="desktop"===(0,c.ZP)(),g=r&&n,f=g&&(s._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",r),b=s._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),S=s._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text');return(0,m.jsx)(a.iP,{onMouseEnter:()=>{g&&(0,h.My)("dweb.main_pin.social.wash.view"),(0,h.My)("dweb.pin.wash.view")},onMouseLeave:()=>{g?o({action:"dismiss",item:"main-pin-social-wash"}):o({action:"dismiss",item:"main-pin-wash"})},onTap:({event:e})=>{p&&(e.preventDefault(),o({action:"click",item:"pin-image"}),n&&r&&o({action:"click",item:"main-pin-social-wash"}),o({action:"click",item:"main-pin-image-signup-modal"}),d({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),t&&o({action:"click",item:"pdp-pin-image"}))},children:(0,m.jsxs)(a.xu,{zIndex:new a.Ry(2),children:[(0,m.jsx)(a.xu,{ref:u,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:n?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,m.jsx)(a.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:240,paddingY:10,children:(0,m.jsx)(a.xu,{marginTop:8,children:(0,m.jsx)(a.X6,{align:"center",color:"light",size:g?"500":"400",children:p?f||b:S})})})}),!p&&(0,m.jsx)(a.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(a.hU,{accessibilityLabel:s._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),o({action:"dismiss",item:"main-pin-hover-overlay"}))},size:"md"})})]})})}var b=n(174281),S=n(810052);let x=e=>{let t=(0,l.ZP)(),{alt:n,clickthroughOverlayOptions:p,color:_,isFlashlightPage:h,naturalHeight:y,naturalWidth:x,placeholder:v,pinImageResizePercent:P=100,pwtElementTimingId:k,pwtSurfaceContext:w,setShowClickthroughOverlay:T,showSpinner:I,src:E,stickyFooter:A,isEligibleForPdp:C}=e,R=(0,u.Z)(),{checkExperiment:j}=(0,r.F)(),L=!R,{isAuthenticated:F}=(0,o.B)(),D=(0,c.ZP)(),O="desktop"===D,N=F&&!O&&j("auth_mweb_inline_action_bar").anyEnabled,M=(0,i.useRef)(),[Z,B]=(0,i.useState)(!L||!!E&&!!v&&v===E),U=(0,i.useRef)(""),K=()=>{w&&w.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)(()=>{let e=new Image;e.onload=()=>B(!0),e.src=E},[]);let z=(0,i.useRef)(S.a()?.setHasScrolledPastMainContent);(0,i.useEffect)(()=>{let e=(0,d.Z)(()=>{if(M.current){let t=window.scrollY>M.current.offsetTop+M.current.offsetHeight;z.current?.(t),t&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]);let[H,V]=(0,i.useState)();(0,i.useEffect)(()=>{M.current&&V(M.current.scrollHeight)},[]);let G=!h&&"tablet"===D,$=L?(0,m.jsx)(s.Z,{alt:n,color:_,elementTiming:k,naturalHeight:y,naturalWidth:x,onLoad:K,src:v}):null;return(0,m.jsxs)(a.xu,{ref:M,dangerouslySetInlineStyle:{__style:{transition:100===P?"":"width 500ms ease-in-out"}},"data-test-id":"pin-closeup-image",marginTop:"tablet"===D&&N?12:0,maxHeight:"100%",maxWidth:"tablet"===D?b.g6:void 0,minHeight:100===P?H:void 0,overflow:A?void 0:"hidden",position:"relative",rounding:h||"phone"===D?0:6,width:h||"phone"===D?`${P}%`:O?508:b.Hg,children:[!F&&p&&(0,m.jsx)(g,{isImagePinForUnauthOnTablet:!1,children:(0,m.jsx)(f,{inviterFirstName:U.current,isEligibleForPdp:C,setShowClickthroughOverlay:T})}),$&&(G?(0,m.jsx)(a.xu,{overflow:"hidden",rounding:6,children:$}):$),(0,m.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:Z?1:0,transition:Z&&!O?"opacity .5s ease-in-out":void 0,backgroundColor:_}},left:!0,overflow:G?"hidden":void 0,position:L?"absolute":"relative",right:!0,rounding:G?6:5,top:!0,children:L?(0,m.jsx)(a.Ee,{alt:n,naturalHeight:y,naturalWidth:x,src:E}):(0,m.jsx)(s.Z,{alt:n,color:_,elementTiming:k,naturalHeight:y,naturalWidth:x,onLoad:K,src:E})}),I&&(0,m.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:Z?0:1,transition:Z?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!Z&&(0,m.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(a.$j,{accessibilityLabel:t._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),A]})}},479528:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(214877),l=n(179370),r=n(172203),s=n(340523),o=n(554786),d=n(194602),c=n(149722),u=n(785893);let p=({isEligibleForPinImageResizeToBody:e,isEligibleForPinImageResizeToTitle:t,pinId:n})=>{let a;let{checkExperiment:o}=(0,s.F)(),{viewExperience:d}=(0,l.M)(),c=(0,r.Z)(1000511,{pin_id:n}),u=c&&c.experience&&505784===c.experience.experience_id;return(0,i.useEffect)(()=>{u&&d(1000511,505784)},[u,d]),u?(a="",t&&(a=o("mweb_pin_closeup_resize_image").group),!a&&e&&(a=o("mweb_pin_closeup_resize_image_body").group),a):""};function m({children:e,originalPinImageHeight:t=1,originalPinImageWidth:n=1,pinId:l,setIsEligibleToShowInlineActionBar:r}){let s=(0,d.Z)(),{logContextEvent:o}=(0,a.v)(),c=s?820:window.innerWidth,u=s?1180:window.innerHeight,m=c/n*t,[g,_]=(0,i.useState)(""),[h,y]=(0,i.useState)(0),[f,b]=(0,i.useState)(0),[S,x]=(0,i.useState)(0),[v,P]=(0,i.useState)(0),[k,w]=(0,i.useState)(0),[T,I]=(0,i.useState)(0),[E,A]=(0,i.useState)(!1),[C,R]=(0,i.useState)(!1),[j,L]=(0,i.useState)(m),[F,D]=(0,i.useState)(m);(0,i.useEffect)(()=>{if(h){let e=u-h-86;L(e),A(m>e)}let e=u-(f?S>33?141:138:!f&&S>33?134:S+126)-f-v-k-T;e<m&&(D(e),R(m>e))},[h,S,f,m,v,k,T,u]);let O=p({isEligibleForPinImageResizeToBody:E,isEligibleForPinImageResizeToTitle:C,pinId:l});return(0,i.useLayoutEffect)(()=>{O?(o({event_type:15046,component:13283}),r(!0)):r(!1)},[o,O,r]),(0,i.useEffect)(()=>{g!==l&&(_(l),L(m),D(m))},[g,m,l]),e({pinImageResizePercents:{pinImageResizePercentForShowTitleVariant:C?F/m*100:100,pinImageResizePercentForShowBodyVariant:E?j/m*100:100},resizePinImageExperimentGroup:O,setCloseupDetailsHeight:y,setCloseupPinLinkCreditsHeight:b,setCloseupTitleHeight:x,setUploadedToPinterestTextHeight:P,setUserAttributionHeight:w,setUserRepHeight:I})}function g({children:e,originalPinImageHeight:t,originalPinImageWidth:n,pinId:i,setIsEligibleToShowInlineActionBar:a}){let l=(0,o.ml)(),{checkExperiment:r}=(0,s.F)(),{isAuth:d}=(0,c.Z)(),{group:p}=r("mweb_pin_closeup_resize_image",{dangerouslySkipActivation:!0}),{group:g}=r("mweb_pin_closeup_resize_image_body",{dangerouslySkipActivation:!0});return l&&d&&(p||g)?(0,u.jsx)(m,{originalPinImageHeight:t,originalPinImageWidth:n,pinId:i,setIsEligibleToShowInlineActionBar:a,children:e}):e({pinImageResizePercents:{pinImageResizePercentForShowBodyVariant:100,pinImageResizePercentForShowTitleVariant:100}})}},554074:(e,t,n)=>{n.d(t,{Z:()=>_});var i,a=n(167912),l=n(883119),r=n(140017),s=n(340523),o=n(5859),d=n(19447),c=n(785893);let u=void 0!==i?i:i=n(997525),p=({embedsrc:e,pinImgSrc:t})=>{let n=(0,r.ZP)(),i=(0,o.B)(),{checkExperiment:a}=(0,s.F)(),d={};e&&e.includes("youtube")&&e.includes("/embed/")&&t&&(d.background=`url("${t}")`,d.backgroundSize="cover",d.backgroundPosition="center");let u=e?.replace("http://","https://");return(i.isAuthenticated?a("embed_rewrite_youtube").anyEnabled:a("embed_rewrite_youtube_unauth").anyEnabled)&&u&&u.startsWith("https://www.youtube.com/embed/")&&(u=u.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/")),(0,c.jsx)(l.xu,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%",background:d.background,backgroundSize:d.backgroundSize,backgroundPosition:d.backgroundPosition}},overflow:"hidden",position:"relative",rounding:2,children:(0,c.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:u,style:{width:"100%",height:"100%",position:"absolute",border:0},title:n._('Embedded content', 'Embedded iframe accessibility title', 'Embedded iframe accessibility title')})})},m=({graphqlRef:e})=>{let{embed:t,imageSpec_736x:n}=(0,a.useFragment)(u,e),i=n?.url??"";return(0,c.jsx)(p,{embedsrc:t?.src,pinImgSrc:i})},g=({pinId:e})=>{let{embed:t,images:n}=(0,d.S6)()(e)??Object.freeze({});return(0,c.jsx)(p,{embedsrc:t?.src,pinImgSrc:n?n["736x"]?.url:void 0})};function _({graphqlRef:e,pinId:t}){return e?(0,c.jsx)(m,{graphqlRef:e}):(0,c.jsx)(g,{pinId:t})}},2034:(e,t,n)=>{n.d(t,{Z:()=>ec});var i,a,l,r=n(667294),s=n(702664),o=n(167912),d=n(616550),c=n(240684),u=n(883119),p=n(68465),m=n(525364),g=n(877457),_=n(213377),h=n(558273),y=n(340523),f=n(906623),b=n(5859),S=n(627408),x=n(554786),v=n(989406),P=n(168723),k=n(554074),w=n(442359),T=n(255396),I=n(256661),E=n(916840),A=n(171394),C=n(212208),R=n(736079),j=n(176063),L=n(19447),F=n(283970),D=n(311462),O=n(118923),N=n(832853),M=n(785893);let Z=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-CloseupStoryPinBlock",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93041),n.e(10495),n.e(40126)]).then(n.bind(n,695625)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>695625}),B=(0,N.Z)(()=>Promise.all([n.e(93041),n.e(10495),n.e(40126)]).then(n.bind(n,695625)),void 0,"app-www-closeup-duplo-CloseupStoryPinBlock"),U=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-storyPins-duplo-StoryPinCloseup",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93041),n.e(10495),n.e(69289),n.e(85165)]).then(n.bind(n,680053)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>680053}),K=(0,N.Z)(()=>Promise.all([n.e(93041),n.e(10495),n.e(69289),n.e(85165)]).then(n.bind(n,680053)),void 0,"app-www-storyPins-duplo-StoryPinCloseup"),z=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-CloseupVideo",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93041),n.e(66824)]).then(n.bind(n,793711)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>793711}),H=(0,N.Z)(()=>Promise.all([n.e(93041),n.e(66824)]).then(n.bind(n,793711)),void 0,"app-www-closeup-duplo-CloseupVideo"),V=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-StoryPinCloseupBodyOnDesktop",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93041),n.e(10495),n.e(69289),n.e(25578),n.e(70566)]).then(n.bind(n,895612)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>895612}),G=(0,N.Z)(()=>Promise.all([n.e(93041),n.e(10495),n.e(69289),n.e(25578),n.e(70566)]).then(n.bind(n,895612)),void 0,"app-www-closeup-duplo-StoryPinCloseupBodyOnDesktop"),$=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-StoryPinCloseupDetailsOnDesktop",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(25578),n.e(60815)]).then(n.bind(n,325578)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>325578}),W=(0,N.Z)(()=>Promise.all([n.e(25578),n.e(60815)]).then(n.bind(n,325578)),void 0,"app-www-closeup-duplo-StoryPinCloseupDetailsOnDesktop"),q=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-StoryPinCloseupBodyOnMobile",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93041),n.e(10495),n.e(69289),n.e(85165),n.e(2790)]).then(n.bind(n,525422)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>525422}),Y=(0,N.Z)(()=>Promise.all([n.e(93041),n.e(10495),n.e(69289),n.e(85165),n.e(2790)]).then(n.bind(n,525422)),void 0,"app-www-closeup-duplo-StoryPinCloseupBodyOnMobile"),X=(0,c.ZP)({resolved:{},chunkName:()=>"app-www-SeoDebugModule-SeoDebugModulePin",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(86752).then(n.bind(n,864942)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>864942}),J=(0,N.Z)(()=>n.e(86752).then(n.bind(n,864942)),void 0,"app-www-SeoDebugModule-SeoDebugModulePin"),Q=(0,c.ZP)({resolved:{},chunkName:()=>"app-packages-rich-snippet-LeafSnippet",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93254),n.e(54074)]).then(n.bind(n,640998)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>640998}),ee=(0,N.Z)(()=>Promise.all([n.e(93254),n.e(54074)]).then(n.bind(n,640998)),void 0,"app-packages-rich-snippet-LeafSnippet"),et=void 0!==i?i:i=n(256213),en=void 0!==a?a:a=n(75886),ei=void 0!==l?l:l=n(554043),ea=({setIsShowingCloseupDetailsSuspenseFallback:e})=>((0,r.useEffect)(()=>(e(!0),()=>e(!1)),[e]),null),el=({children:e,queryRef:t})=>e((0,o.useFragment)(en,o.usePreloadedQuery(p.default,t).v3GetPinQuery?.data)),er=({children:e,fallback:t,queryRef:n})=>n?(0,M.jsx)(r.Suspense,{fallback:t,children:(0,M.jsx)(el,{queryRef:n,children:t=>t&&e(t)})}):e(null);function es({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,closeupIsFirstPageInHistoryStack:n,commentModule:i,embedSrc:a,embedSubtype:l,embedType:c,graphqlRefs:p,hasImages:E,hasProductAdditionalImages:L,shouldRenderAsStoryPinVideo:N,isActionBarInline:et,isEligibleForPdp:en,isImagePinForUnauthOnTablet:el,isSendPinModalOpen:es,isVideoPin:eo,onMoreButtonClick:ed,onSendPin:ec,pinActionBar:eu,pinCloseupExperience:ep,pinId:em,pinImageLargeUrl:eg,pinImageResizePercents:e_={},pinLink:eh,pinMobileLink:ey,pinnedToBoardId:ef,pinTrackedLink:eb,resizePinImageExperimentGroup:eS="",setCloseupDetailsHeight:ex,setCloseupPinLinkCreditsHeight:ev,setCloseupTitleHeight:eP,setIsActionBarInline:ek,setIsShowingCloseupDetailsSuspenseFallback:ew,setUploadedToPinterestTextHeight:eT,setUserAttributionHeight:eI,setUserRepHeight:eE,shouldShowReactions:eA,shouldShowSEOPinInfo:eC,showMoreLikeThisButton:eR,viewerId:ej,legacyPin:eL,isInUnauthPdpPlus:eF}){let eD=p?.pageRef,{isAuthenticated:eO,isBot:eN}=(0,b.B)(),{seoDebug:eM}=(0,s.useSelector)(({session:e})=>e),{clientTrackingParams:eZ,isStoryPin:eB,viewParameter:eU,shouldRenderAsStoryPin:eK}=(0,I.R)(),ez=(0,d.TH)(),eH=(0,x.Wb)(),eV=(0,F.H)(),eG=(0,f.E)(),e$=(0,x.HG)(),{viewType:eW}=(0,m.SU)(),{checkExperiment:eq}=(0,y.F)(),eY=!e$&&eq(eO?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,[eX,eJ]=(0,r.useState)(!1),[eQ,e0]=(0,r.useState)(!0),e1=(0,g.g)(),e3=e1?.pinLinkClickHandler,e2=eS.includes("peek_related_pins"),e6=eS.includes("peek_title"),e4=eS.includes("background"),e5=eS.includes("expand_button"),{pinImageResizePercentForShowBodyVariant:e8=100,pinImageResizePercentForShowTitleVariant:e7=100}=e_,e9=(0,O.b)(),te=e9?B:Z,tt=e9?K:U,tn=e9?ee:Q,ti=()=>{t(),e3&&e3()},ta=(0,C.Z)(),tl=()=>ta({linkType:ey&&"mobile"||eb&&"tracked"||eh&&"external"||"original",viewParameter:eU}),tr=(0,s.useDispatch)(),ts=(0,s.useSelector)(({pinNavContext:e})=>e?.pinId!==em?{}:e,(e,t)=>e?.pinId===t?.pinId);(0,r.useEffect)(()=>{ts?.pinId&&ts.pinId!==em&&tr((0,j.H)())},[]);let to=(0,o.useFragment)(ei,p?.storyPinRef??null);return(0,M.jsxs)(T.Z,{imageLargeUrl:eg,isVideoPin:eo,pinId:em,children:[eM&&eQ&&(0,M.jsx)(e9?J:X,{entityId:em,setShowSeoDebugModule:e0}),e&&(0,M.jsx)(A.Z,{onMoreButtonTap:ed,onSendButtonTap:ec}),eK?(0,M.jsxs)(r.Fragment,{children:[e$?(0,M.jsx)(e9?G:V,{clientTrackingParams:eZ,graphqlRef:to,pinActionBar:eu,pinId:em}):(0,M.jsx)(e9?Y:q,{clientTrackingParams:eZ,graphqlRef:to,pinCloseupExperience:ep,pinId:em,pinnedToBoardId:ef,viewParameter:eU,viewType:3}),(0,M.jsx)(er,{queryRef:p?.detailRef,children:e=>!e$&&!el&&(0,M.jsx)(P.Z,{clientTrackingParams:eZ,graphqlRef:e??null,isActionBarInline:et||!!eS,isInUnauthPdpPlus:eF,isStoryPin:!0,onClickTitleOrDomain:eO?tl:ti,pinId:em,setIsActionBarInline:ek,shouldShowReactions:eA,shouldShowSEOPinInfo:eC,viewParameter:eU})})]}):(0,M.jsx)(v.Z,{detail:eB&&!eK&&e$?(0,M.jsx)(P.f,{children:(0,M.jsxs)(u.xu,{padding:3,children:[eu,(0,M.jsx)(e9?W:$,{clientTrackingParams:eZ,disableScroll:!0,graphqlRef:to,pinId:em,shouldHideReactions:!0})]})}):(0,M.jsx)(er,{fallback:(0,M.jsx)(ea,{setIsShowingCloseupDetailsSuspenseFallback:ew}),queryRef:p?.detailRef,children:t=>(0,M.jsx)(P.Z,{clientTrackingParams:eZ,commentModule:i,graphqlRef:t??null,isActionBarInline:et,isImagePinForUnauthOnTablet:el,isInUnauthPdpPlus:eF,isStoryPin:eB,onClickTitleOrDomain:ti,pinActionBar:e?null:eu,pinId:em,setCloseupDetailsHeight:ex,setCloseupPinLinkCreditsHeight:ev,setCloseupTitleHeight:eP,setIsActionBarInline:ek,setUploadedToPinterestTextHeight:eT,setUserAttributionHeight:eI,setUserRepHeight:eE,shouldShowReactions:eA,shouldShowSEOPinInfo:eC,viewerId:ej,viewParameter:eU})}),isShowingBreadcrumbs:!eO&&!(eB&&!e$),media:(0,M.jsx)(S.Z,{clientTrackingParams:eZ,component:eo?179:85,viewParameter:eU,children:eo?(0,M.jsx)(e9?H:z,{handleVideoTimeChange:e=>{tr((0,j.k)({pinId:em,video:{elapsedTime:e}}))},isAuthenticated:eO,isFirstPageInHistoryStack:n,isSendPinModalOpen:es,onSendPin:ec,pinId:em,pinKey:eD?{type:"graphqlRef",data:eD}:{type:"deprecated",data:em},startTimeAt:ts?.video?.elapsedTime}):(0,h.cL)({embedSrc:a,embedSubtype:l,embedType:c})?(0,M.jsx)(er,{queryRef:p?.detailRef,children:e=>(0,M.jsx)(k.Z,{graphqlRef:e??null,pinId:em})}):!e$&&L&&(eO?en:!eN)?(0,M.jsx)(er,{queryRef:p?.detailRef,children:e=>(0,M.jsx)(D.Z,{pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:em},pwtSurfaceContext:eG,showMoreLikeThisButton:eR,unauthLazyLoad:!eO,viewParameter:eU})}):E?(0,M.jsx)(R.x,{children:(0,M.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{margin:eO&&!eH?`0 ${-_.yt}px`:void 0}},children:(0,M.jsx)(w.Z,{actionBarIsMinifiedToMainPinImage:e,clickthrough:eX?ti:void 0,graphqlRef:eD??null,inPinImageResizeExp:!!eS,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),N||tl()},pinId:em,pinImageResizePercent:e6?e7:e2?e8:100,renderStoryPinBlock:({placeholder:e})=>N&&eY?(0,M.jsx)(tt,{clientTrackingParams:eZ,experience:ep,graphqlRef:to,location:ez,pinId:em,pinnedToBoardId:ef,viewParameter:eU,viewType:eW}):(0,M.jsx)(te,{pinId:em,pinKey:null!=to?{type:"graphqlRef",data:to}:{type:"deprecated",data:em},placeholder:e}),setShowClickthroughOverlay:eJ,shouldRenderAsStaticImageIdeaPin:eB&&!eK,shouldRenderAsStoryPinVideo:N,shouldShowSEOPinInfo:eC,showBaseColorBackground:e4,showExpandActionButton:e5,showMoreLikeThisButton:eR,viewParameter:eU})})}):(0,M.jsx)(r.Fragment,{children:null})}),sideBySideOptions:"lg"===eV||e$?{mainImageEventHandlers:eo?void 0:e$?{onMouseEnter:()=>{eJ(!0)},onMouseLeave:()=>{eJ(!1)}}:{onTouch:e=>{e.stopPropagation(),e.preventDefault(),tl()}}}:null}),!eO&&(0,M.jsx)(er,{queryRef:p?.detailRef,children:e=>e?(0,M.jsx)(tn,{pinKey:e}):eL?(0,M.jsx)(tn,{pinKey:{type:"deprecated",data:eL}}):null})]})}function eo({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,graphqlRefs:n,onLinklessPinTap:i,isInUnauthPdpPlus:a,pinId:l,...r}){let s=(0,o.useFragment)(et,n.pageRef),d=(0,E.I)({clickthroughInterstitialExperience:t,linklessOptions:(0,h.rM)({mobileLink:s.mobileLink,trackedLink:s.trackedLink,link:s.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:i}:void 0,graphqlRef:s}),c=s.richMetadata?.products?.[0],u=Number(c?.additionalImageSpec_236x?.length)>0||Number(c?.additionalImageSpec_474x?.length)>0||Number(c?.additionalImageSpec_564x?.length)>0||Number(c?.additionalImageSpec_736x?.length)>0,p=s.storyPinData?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),m=p?.some(e=>e.blocks?.find(e=>3===e.blockType))||(p?.length||0)>1;return(0,M.jsx)(es,{...r,actionBarIsMinifiedToMainPinImage:e,clickthrough:d,clickthroughInterstitialExperience:t,embedSrc:s.embed?.src,embedSubtype:s.embed?.subtype,embedType:s.embed?.type,graphqlRefs:{...n,pageRef:s},hasImages:!!s.imageSpec_orig,hasProductAdditionalImages:u,isEligibleForPdp:s.isEligibleForPdp,isInUnauthPdpPlus:a,legacyPin:null,onLinklessPinTap:i,pinId:l,pinImageLargeUrl:s.imageLargeUrl,pinLink:s.link,pinMobileLink:s.mobileLink,pinTrackedLink:s.trackedLink,shouldRenderAsStoryPinVideo:m})}function ed({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,isInUnauthPdpPlus:n,onLinklessPinTap:i,pinId:a,...l}){let r=(0,L.S6)()(a),s=(0,E.Z)({clickthroughInterstitialExperience:t,linklessOptions:(0,h.rM)({mobileLink:r?.mobile_link,trackedLink:r?.tracked_link,link:r?.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:i}:void 0,pinId:a}),o=r?.story_pin_data?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),d=o?.some(e=>e.blocks?.find(e=>3===e.block_type))||(o?.length||0)>1;return r?(0,M.jsx)(es,{...l,actionBarIsMinifiedToMainPinImage:e,clickthrough:s,clickthroughInterstitialExperience:t,embedSrc:r.embed?.src,embedSubtype:r.embed?.subtype,embedType:r.embed?.type,hasImages:!!r.images,hasProductAdditionalImages:Number(r.rich_metadata?.products?.[0].additional_images?.length)>0,isEligibleForPdp:r.is_eligible_for_pdp,isInUnauthPdpPlus:n,legacyPin:r,onLinklessPinTap:i,pinId:a,pinImageLargeUrl:r.image_large_url,pinLink:r.link,pinMobileLink:r.mobile_link,pinTrackedLink:r.tracked_link,shouldRenderAsStoryPinVideo:d}):null}function ec({isInUnauthPdpPlus:e,graphqlRefs:t,...n}){return t?(0,M.jsx)(eo,{...n,graphqlRefs:t,isInUnauthPdpPlus:e}):(0,M.jsx)(ed,{...n,isInUnauthPdpPlus:e})}},442359:(e,t,n)=>{n.d(t,{Z:()=>en});var i,a=n(667294),l=n(702664),r=n(167912),s=n(240684),o=n(883119),d=n(46113),c=n(889449),u=n(899165),p=n(696534),m=n(140017),g=n(422210),_=n(160133),h=n(391884),y=n(559655),f=n(558273),b=n(567344),S=n(661428),x=n(340523),v=n(193300),P=n(906623),k=n(146935),w=n(5859),T=n(608516),I=n(217058),E=n(623409),A=n(163471),C=n(554786),R=n(336184),j=n(256661),L=n(57158),F=n(893816),D=n(490166),O=n(942397),N=n(736079),M=n(174281),Z=n(810052),B=n(19447),U=n(386008),K=n(953565),z=n(118923),H=n(832853),V=n(42040),G=n(785893);let $=(0,s.ZP)({resolved:{},chunkName:()=>"app-www-closeup-duplo-ShuffleRendererWrapper",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(38956),n.e(39416)]).then(n.bind(n,491483)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>491483}),W=(0,H.Z)(()=>Promise.all([n.e(38956),n.e(39416)]).then(n.bind(n,491483)),void 0,"app-www-closeup-duplo-ShuffleRendererWrapper"),q=(0,a.lazy)(()=>Promise.all([n.e(87348),n.e(198)]).then(n.bind(n,700198))),Y=void 0!==i?i:i=n(988259),X=({children:e,onTouch:t})=>{let n=(0,C.ZP)();return(0,G.jsx)(o.xu,{overflow:"phone"!==n?"hidden":void 0,rounding:"phone"!==n?6:void 0,children:"desktop"===n?e:(0,G.jsx)(D.Z,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),t()},pressState:"none",children:e})})},J=({pinId:e})=>(0,l.useSelector)(({feeds:t})=>{let n=t[`related-pins:${e||""}`];return!!n&&0===n.length});function Q({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,onImageClick:n,setShowClickthroughOverlay:i,shouldShowSEOPinInfo:l,viewParameter:r,imagesUrls:s,embedSrc:c,embedType:S,description:D,descriptionHtml:B,altText:H,autoAltText:Y,dominantColor:Q,pinId:ee,domain:et,pinJoinVisualAnnotation:en,pinnerConnectionType:ei,hasPromoter:ea,graphqlRef:el,isEligibleForPdp:er,isHiddenPin:es,isUnsafePin:eo,shouldRenderAsStaticImageIdeaPin:ed,renderStoryPinBlock:ec,imageSignature:eu,shouldRenderAsStoryPinVideo:ep,shouldRenderShuffle:em,placeholder:eg,isSmallestImgPlaceholder:e_,inPinImageResizeExp:eh=!1,pinImageResizePercent:ey,showBaseColorBackground:ef=!1,shuffleId:eb,showExpandActionButton:eS=!1,showMoreLikeThisButton:ex=!1}){let ev=(0,m.ZP)(),eP=(0,P.E)(),ek=(0,p.vs)(),ew=(0,C.HG)(),eT=(0,C.Wb)(),eI=(0,C.ml)(),eE=(0,N.Z)(),{onSendButtonClick:eA}=(0,j.R)(),eC=(0,A.Z)(),{isAuthenticated:eR,isBot:ej,isSocialBot:eL,countryFromIp:eF,userAgent:{platform:eD,canUseNativeApp:eO}}=(0,w.B)(),{hasClickedMoreLikeThisButton:eN,setHasClickedMoreLikeThisButton:eM}=(0,F.g)(),eZ=(0,d.Z)({shuffleId:eb,shouldRenderShuffle:em}),eB=(0,z.b)(),eU=(0,C.ZP)(),eK=`${eD}.${eU}`,ez=(0,a.useRef)(Date.now()),eH=(0,a.useRef)(null),eV=!eR&&!ew&&["ios","ipad","android"].includes(eD),eG=!eR&&eI&&["ios","android"].includes(eD),e$=!eR&&eI&&["ios","android"].includes(eD),{shouldShowLearningUpsell:eW,setShouldShowLearningUpsell:eq,hasScrolledPastMainContent:eY}=(0,Z.a)()??Object.freeze({}),eX=(0,U.Tt)(),eJ=J({pinId:ee}),eQ=null,{checkExperiment:e0}=(0,x.F)(),e1=!ew&&e0(eR?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,e3=(0,u.Z)({isHiddenPin:es,isUnsafePin:eo}),e2=!eR&&eI&&!eO;(eR||eJ||eY||ew)&&(!ex||eN)?!e3||e2||eR&&((0,g.Z)(eX?.created_at)&&!(0,O.V0)(eX)||ea||(0,f.sY)(S)||e)||(eQ="visualSearch"):eQ="moreLikeThisButton";let e6=(0,V.I)(),e4=(0,E.Z)(),e5=(0,h.Z)({imagesUrls:s,embedSrc:c,embedType:S,preferredResolution:(0,y.Z)({isDesktop:ew,countryFromIp:eF,isBot:ej,pinnerConnectionType:ei,shouldRenderSIIP:ed}),excludeOriginals:!ej&&!eL});(0,a.useEffect)(()=>{if(e6){let e=document.getElementById("pin-image-preload")?.getAttribute("href")??"",t="";try{t=document.URL.split("/pin/")[1].slice(0,-1)}catch{t="unknown"}(0,K.nP)("www.closeup.preloadImageCheck",{sampleRate:1,tags:{isAuthenticated:eR,deviceType:eU,isEqual:e===e5,isGraphQL:!!el}}),(0,v.w)(t=>{let{entries:n}=t,{element:i,url:a}=n[n.length-1];(0,K.nP)("www.closeup.mainPinImageLcpCheck",{sampleRate:1,tags:{isAuthenticated:eR,deviceType:eU,isEqual:e5===a,isGraphQL:!!el,isPreloadEqual:e===a,nodeName:i?i.nodeName:"unknown"}})}),e!==e5&&((0,K.nP)("www.closeup.preloadImageCheckWithId",{sampleRate:.5,tags:{isAuthenticated:eR,deviceType:eU,pinId:t}}),(0,K.nP)("www.closeup.preloadImageCheckWithResolutions",{sampleRate:1,tags:{isAuthenticated:eR,deviceType:eU,resolution:e5.split("/")[3]}}));let n=document.querySelector('[data-test-id="pin-closeup-image"]');(n?.querySelectorAll("img").length||0)>1&&((0,K.nP)("www.closeup.mainImageCount",{sampleRate:1,tags:{isAuthenticated:eR,deviceType:eU}}),(0,K.nP)("www.closeup.mainImageCountWithId",{sampleRate:.1,tags:{isAuthenticated:eR,deviceType:eU,pinId:t}}))}},[]);let e8="phone"===eU||eT?"100%":M.Hg,e7=["phone"].includes(eU)?"100%":M.Hg,e9=(0,G.jsx)(R.Z,{alt:l?(0,b.rw)(D??"",B||"",en,H||"",Y||""):ev._('Pin image', 'Pin closeup image', 'Pin closeup image'),clickthroughOverlayOptions:t?{onConfirm:t,visitButtonText:"Uploaded by user"===et?ev._('Uploaded by user', 'pin.default_domain', 'default domain for the pin'):et||""}:void 0,color:Q||"#efefef",isEligibleForPdp:er,naturalHeight:eg?.height??1,naturalWidth:eg?.width??1,pinImageResizePercent:ey,placeholder:eg?.url??"",pwtElementTimingId:k.f,pwtSurfaceContext:eP,setShowClickthroughOverlay:i,showSpinner:e_,src:e5,stickyFooter:!eh&&eQ&&(0,G.jsx)(L.Z,{imageSignature:eu,isPdp:er,pinId:ee,setHasClickedMoreLikeThisButton:eM,type:eQ,viewParameter:r})},ee),te=(0,G.jsx)(X,{onTouch:()=>{e$&&eq?(eW?e4({action:"dismiss",item:"learning-upsell"}):e4({action:"click",item:"learning-upsell"}),eq(!eW)):n(),eV&&(0,I.My)(`unauth.mweb.${eK}.pin.image.touch`),!eR&&er&&e4({action:"click",item:"pdp-pin-image"})},children:(0,G.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none",background:(()=>{if(eh)return ef?`linear-gradient(90deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0) ${.25*window.innerWidth}px, rgba(0, 0, 0, 0) ${.5*window.innerWidth}px, rgba(0, 0, 0, 0.0) ${.75*window.innerWidth}px, rgba(0, 0, 0, 0.4) ${window.innerWidth}px)`:ek?"#111111":"#efefef"})()}},"data-test-id":"closeup-container",display:"flex",justifyContent:"center",onContextMenu:e=>{!eR&&er&&(0,I.My)("unauth.pdp.pin.context_menu.open",{device:eU});let t=ew&&!eR&&e0("unauth_desktop_right_click").group;"enabled_remove_custom_menu"!==t&&(e.preventDefault(),e.stopPropagation(),ew?(eE((0,G.jsx)(T.Z,{children:(0,G.jsx)(q,{desktopContextMenuState:{x:e.clientX,y:e.clientY},graphqlRef:el??null,isMainPinImage:!0,onSendButtonClick:eA,pinId:ee,unauthRightClickExperiment:"enabled_context_menu_redesign"===t})})),(0,I.My)("pcons.dweb.main_pin.context_menu.open")):(0,I.My)(`${eR?"auth":"unauth"}.mweb_pin_closeup_page.pin_image.long_press`))},onTouchEnd:e=>{if(!eV&&!eG)return;e.stopPropagation(),(0,I.My)(`unauth.mweb.${eK}.pin.image.touch.end`);let t=Date.now()-ez.current>500,n=!1,i=eH.current;if(e.changedTouches&&e.changedTouches.length>0&&i){let t=e.changedTouches.item(0),a=t.clientX-i.x,l=t.clientY-i.y;n=t&&Math.pow(a,2)+Math.pow(l,2)>100}!eV||!t||n||((0,I.My)(`unauth.mweb.${eK}.pin.image.long.touch`),e.preventDefault(),eR||ew||eC({pinId:ee,location:"main-pin-long-press"}))},onTouchMove:e=>{eG&&e.stopPropagation()},onTouchStart:e=>{if((eV||eG)&&(e.stopPropagation(),ez.current=Date.now(),(0,I.My)(`unauth.mweb.${eK}.pin.image.touch.start`),e.changedTouches&&e.changedTouches.length>0)){let t=e.changedTouches.item(0);t&&(eH.current={x:t.clientX,y:t.clientY})}},children:[(!ed||!e1)&&(em?(0,G.jsx)(eB?$:W,{fallback:e9,rounded:!eI,shuffle:eZ,width:e7,children:e9}):e9),ed&&(e1?(0,G.jsxs)(o.xu,{marginEnd:-2,marginStart:-2,overflow:eQ?void 0:"hidden",width:e8,children:[ec({placeholder:eg&&{height:eg.height,width:eg.width}}),eQ&&!ep&&(0,G.jsx)(L.Z,{imageSignature:eu,isPdp:er,pinId:ee,setHasClickedMoreLikeThisButton:eM,type:eQ,viewParameter:r})]}):(0,G.jsx)(o.xu,{bottom:!0,left:!0,marginEnd:-2,marginStart:-2,overflow:"hidden",position:"absolute",right:!0,rounding:6,top:!0,children:ec({placeholder:eg&&{height:eg.height,width:eg.width}})}))]})}),tt=eR?_.Z:a.Fragment;return(0,G.jsx)(o.xu,{position:"relative",width:"100%",children:eh?(0,G.jsx)(tt,{children:(0,G.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{background:ef?Q||"#efefef":void 0}},children:[eS&&(0,G.jsx)(o.xu,{bottom:!0,position:"absolute",right:!0,width:"100%",children:(0,G.jsx)(L.Z,{imageSignature:eu,inPinImageResizeExp:eh,pinId:ee,type:"expand",viewParameter:r})}),eQ&&(0,G.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",width:"100%",children:(0,G.jsx)(L.Z,{imageSignature:eu,inPinImageResizeExp:eh,isPdp:er,pinId:ee,type:eQ,viewParameter:r})}),te]})}):te})}function ee({graphqlRef:e,pinId:t,...n}){let i=(0,r.useFragment)(Y,e),a=(0,S.Z)(i),l=i.imageSpec_236x||i.imageSpec_136x136,s=!!(l&&!i.imageSpec_236x),{isBot:o}=(0,w.B)(),d=(0,c.Z)(),u=i.shuffle?.entityId,p=!!i.shuffle&&!o&&d().isShuffleRendererEnabled;return(0,G.jsx)(Q,{...n,altText:i.altText,autoAltText:i.autoAltText,description:i.description,descriptionHtml:i.descriptionHtml,domain:i.domain,dominantColor:i.dominantColor,embedSrc:i.embed&&i.embed.src,embedType:i.embed&&i.embed.type,graphqlRef:i,hasPromoter:!!i.promoter&&!i.isDownstreamPromotion,imageSignature:i.imageSignature,imagesUrls:a,isEligibleForPdp:!!i.isEligibleForPdp,isHiddenPin:i.isHidden,isSmallestImgPlaceholder:s,isUnsafePin:i.isUnsafe,pinId:t,pinJoinVisualAnnotation:i.pinJoin?.visualAnnotation,pinnerConnectionType:i.pinner?.connectionType,placeholder:l&&{height:l.height,width:l.width,url:l.url},shouldRenderShuffle:p,shuffleId:u})}function et({pinId:e,...t}){let n=(0,B.S6)()(e),i=n?.images?.["236x"]||n?.images?.["136x136"],a=!!(i&&!n?.images?.["236x"]),l=(0,S.Z)(null!=n?{type:"deprecated",data:n}:null),{isBot:r}=(0,w.B)(),s=(0,c.Z)(),o=n?.shuffle?.id,d=!!o&&!r&&s().isShuffleRendererEnabled;return(0,G.jsx)(Q,{...t,altText:n?.alt_text,autoAltText:n?.auto_alt_text,description:n?.description,descriptionHtml:n?.description_html,domain:n?.domain,dominantColor:n?.dominant_color,embedSrc:n?.embed?.src,embedType:n?.embed?.type,hasPromoter:!!(n&&n.promoter&&!n.is_downstream_promotion),imageSignature:n?.image_signature,imagesUrls:l,isEligibleForPdp:!!n?.is_eligible_for_pdp,isHiddenPin:n?.is_hidden,isSmallestImgPlaceholder:a,isUnsafePin:n?.is_unsafe,pinId:e,pinJoinVisualAnnotation:n?.pin_join?.visual_annotation,pinnerConnectionType:n?.pinner?.connection_type,placeholder:i&&{height:i.height,width:i.width,url:i.url},shouldRenderShuffle:d,shuffleId:o})}function en({graphqlRef:e,...t}){return e?(0,G.jsx)(ee,{...t,graphqlRef:e}):(0,G.jsx)(et,{...t})}},255396:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(616550),a=n(883119),l=n(494125),r=n(256661),s=n(560007),o=n(237040),d=n(939809),c=n(785893);let u=({children:e,imageLargeUrl:t,isVideoPin:n,pinId:u})=>{let p=(0,i.k6)(),{clientTrackingParams:m,viewParameter:g}=(0,r.R)(),_=(0,o.Yg)();return(0,l.Z)(()=>{_?.("main_pin_impression")}),(0,c.jsx)(a.xu,{"data-layout-shift-boundary-id":"CloseupPageBody",children:(0,c.jsx)(d.dL,{auxData:{closeup_navigation_type:(0,s.Z)(p)},component:n?179:85,impressionData:{imageURL:t,type:13},loggingId:u,slotIndex:-1,trackingParams:m,viewData:{pin_id:u},viewParameter:g,viewType:3,children:({impressionTrackerRef:t})=>(0,c.jsx)(a.xu,{ref:t,"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",children:e})},u)})}},587853:(e,t,n)=>{n.d(t,{Z:()=>h}),n(167912);var i,a=n(883119),l=n(333739),r=n(179425),s=n(160567),o=n(256661),d=n(50786),c=n(667294),u=n(510989),p=n(608516),m=n(785893);function g({children:e,imageViewer:t}){return(0,m.jsxs)(c.Fragment,{children:[(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-out"}},"data-layout-shift-boundary-id":"CloseupPageContainerInner",display:t?"visuallyHidden":"block",opacity:t?0:1,children:!t&&e}),(0,m.jsx)(u.Z,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,m.jsx)(p.Z,{children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-in"}},display:t?"block":"visuallyHidden",opacity:t?1:0,children:t})})})]})}var _=n(713399);function h({children:e,closeupPageContext:t,hasGutter:c,imageViewer:u,pinKey:p,stickyUpsell:h}){let{childDataKey__DEPRECATED:y}=(0,l.sr)(void 0!==i?i:i=n(574747),p,{type:"pin",useLegacyAdapter:()=>({})});return(0,m.jsx)(o.q,{value:t,children:(0,m.jsxs)(a.xu,{position:"relative",width:"100%",children:[!!h&&(0,m.jsx)(a.Le,{top:s.SB,zIndex:new a.Ry(99999),children:h}),(0,m.jsx)(_.Z,{graphqlRef:"graphqlRef"===y.type?y.data:null,onSendButtonClick:t.onSendButtonClick,children:(0,m.jsx)(r.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:c,children:(0,m.jsx)(d.m,{children:(0,m.jsx)(g,{imageViewer:u,children:e})})})})]})})}},256661:(e,t,n)=>{n.d(t,{R:()=>a,q:()=>i});let{Provider:i,useHook:a}=(0,n(342513).Z)("CloseupPageContext")},656022:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(140017),l=n(785893);function r(){let e=(0,a.ZP)();return(0,l.jsx)(i.xu,{padding:5,children:(0,l.jsx)(i.$j,{accessibilityLabel:e._('Loading pin data', 'closeupPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})})}},313746:(e,t,n)=>{n.d(t,{Z:()=>m}),n(167912);var i,a=n(616550),l=n(333739),r=n(627408),s=n(801690),o=n(560007),d=n(61714),c=n(638365),u=n(785893);function p({children:e,pin:{imageSignature:t,isEligibleForPdp:n,isOosProduct:i,isStaleProduct:l,shoppingFlags:p,trackingParams:m},pinId:g,viewParameter:_}){let h=(0,a.k6)(),y=(0,a.TH)(),f=(0,c.Z)(y.state?.trackingParams,m);return(0,u.jsx)(s.Z,{auxData:{closeup_navigation_type:(0,o.Z)(h),commerce_data:(0,d.Z)({isEligibleForPdp:n,isOosProduct:i,isStaleProduct:l,pinShoppingFlags:p??[]})},clientTrackingParams:f,component:13283,objectIdStr:g,viewData:{pin_id:g,closeup_rich_types:p??[],image_signature:t??null},viewParameter:_,viewType:3,children:(0,u.jsx)(r.Z,{clientTrackingParams:f,objectId:g,view:3,children:e})})}function m({children:e,pinKey:t,...a}){let{data:r}=(0,l.sr)(void 0!==i?i:i=n(553358),t,{type:"pin",useLegacyAdapter:e=>({imageSignature:e.image_signature??null,isEligibleForPdp:e.is_eligible_for_pdp??null,isOosProduct:e.is_oos_product??null,isStaleProduct:e.is_stale_product??null,shoppingFlags:e.shopping_flags??null,trackingParams:e.tracking_params??null,...l.tx})});return r?(0,u.jsx)(p,{pin:r,...a,children:e}):null}},800856:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(883119),a=n(230556),l=n(140017),r=n(339001),s=n(558273),o=n(340523),d=n(5859),c=n(217058),u=n(623409),p=n(554786),m=n(785893);function g({isImagePinForUnauthOnTablet:e,onClickTitleOrDomain:t,pinCreditPrefix:n,pinDomain:g}){let{isAuthenticated:_}=(0,d.B)(),h=(0,l.ZP)(),y=(0,u.Z)(),f=(0,p.HG)(),{checkExperiment:b}=(0,o.F)(),S=_?b("auth_closeup_redesign").anyEnabled:b("unauth_closeup_redesign").anyEnabled,x=f?"start":"center",v=1,P=e?void 0:"bold",k=e?{textDecoration:"underline"}:{};S&&(x="start",v=n?1:0,P=void 0,k={textDecoration:"underline"});let w=(0,s._S)(g);return(0,m.jsx)(i.kC,{alignItems:"center",direction:"row",justifyContent:x,width:"100%",children:(0,r.nk)(h._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,m.jsx)(i.xu,{display:"inlineBlock",children:(0,m.jsx)(i.xv,{inline:!0,size:a.n,children:n})},"pinCreditsPrefix"),pinCredit:w?(0,m.jsx)(i.xu,{"data-test-id":"pin-domain-link",display:"inlineBlock",marginStart:v,maxWidth:"60vw",children:(0,m.jsx)(i.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),y({action:"click",item:"pin-domain-link"}),_||(0,c.NC)("click_pin_closeup_link_clickthrough"),t()},tapStyle:"compress",children:(0,m.jsx)(i.xv,{lineClamp:1,size:a.n,weight:P,children:(0,m.jsx)("span",{style:k,children:g})},"pinLinkDomain")})},"pinCredits"):""})})}},752039:(e,t,n)=>{n.d(t,{Z:()=>m}),n(167912);var i,a=n(883119),l=n(205841),r=n(333739),s=n(140017),o=n(339001),d=n(149722),c=n(785893);let u=void 0!==i?i:i=n(401009);function p({inCollapsibleModulesExp:e,pin:t}){let n;let i=(0,s.ZP)(),r=(0,d.Z)(),u=!(t.board?.layout!=="quick_creates");if(r.id!==t.pinner?.entityId||u||!r.isAuth)return null;let{imageMediumUrl:p,username:m}=r||{};if(t.section?.title&&t.section.slug){let e=`${t.board?.url??""}${t.section.slug}/`;n=(0,o.nk)(i._('{{ you }} {{ savedTo }} {{ sectionName }}', 'closeup.savedAttribution.section', 'Showing that you saved this pin to a section within a board on closeup'),{you:(0,c.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(a.rU,{href:`/${m}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(a.xv,{size:"300",weight:"bold",children:i._('You', 'closeup.savedAttribution.user', 'This is the user')})},"author")},m),savedTo:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{size:"300",children:i._('saved to', 'closeup.savedAttribution.savedTo', 'saved to text')})},"saved-to"),sectionName:(0,c.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(a.rU,{href:e,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(a.xv,{lineClamp:1,size:"300",weight:"bold",children:t.section?.title})},"section")},e)})}else n=(0,o.nk)(i._('{{ you }} {{ savedTo }} {{ boardName }}', 'closeup.savedAttribution.board', 'Indicating you saved this pin to a board on closeup'),{you:(0,c.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(a.rU,{href:`/${m}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:i._('You', 'closeup.savedAttribution.user', 'This is the user')})},"author")},m),savedTo:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{size:"300",children:i._('saved to', 'closeup.savedAttribution.savedTo', 'saved to text')})},"saved-to"),boardName:(0,c.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(a.rU,{href:t.board?.url??"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:t.board?.name??""})},"author")},t.board?.url??"")});return(0,c.jsxs)(a.xu,{"data-test-id":"saved-attribution",direction:"row",display:"flex",marginTop:e?0:12,maxWidth:"100%",paddingY:e?4:0,children:[(0,c.jsx)(a.xu,{"data-test-id":"saved-attribution-avatar",display:"flex",flex:"shrink",children:(0,c.jsx)(a.iP,{rounding:"circle",children:(0,c.jsx)(a.rU,{href:`/${m}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",children:(0,c.jsx)(l.qE,{name:m,size:"md",src:p??""})},"profile")})}),(0,c.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,c.jsx)(a.xu,{alignItems:"baseline","data-test-id":"saved-attribution-board-or-section",display:"flex",marginStart:2,children:n})})]})}function m({graphqlRef:e,inCollapsibleModulesExp:t,pinId:n}){let{data:i}=(0,r.sr)(u,e?{type:"graphqlRef",data:e}:{type:"deprecated",data:n},{type:"pin",useLegacyAdapter:e=>({board:e.board?{layout:e.board.layout??null,name:e.board.name??null,url:e.board.url??null}:null,pinner:e.pinner?{entityId:e.pinner.id??""}:null,section:e.section?{slug:e.section.slug??null,title:e.section.title??null}:null,...r.tx})});return i&&(0,c.jsx)(p,{inCollapsibleModulesExp:t,pin:i})}},13241:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),l=n(140017),r=n(406893),s=n(5859),o=n(439278);let d="undefined"!=typeof window&&window.innerWidth-32||400,c=e=>[{name:`${e}closeup`,width:d,height:d},{name:`${e}title`,width:d,height:24},{name:`${e}attribution`,width:40,height:40},{name:`${e}credit`,width:d-40-8,height:40},{name:`${e}visit_button`,width:d,height:40},{name:`${e}pin_grid_pin`,width:(d-32)/2,height:100}].map(({name:e,width:t,height:n})=>(0,o.Z)({name:e,width:t,height:n})).join("");var u=n(785893);let p="CloseupPageSkeletonLoader__",m=()=>{let e=(0,l.ZP)(),{isAuthenticated:t}=(0,s.B)();return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(r.Z,{unsafeCSS:c(p)}),(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(a.xu,{marginEnd:3,marginTop:4,children:(0,u.jsx)("div",{className:p+"closeup"})}),(0,u.jsx)(a.xu,{marginTop:3,children:(0,u.jsx)("div",{className:p+"title"})}),(0,u.jsxs)(a.xu,{direction:"row",display:"flex",marginTop:3,children:[(0,u.jsx)(a.xu,{children:(0,u.jsx)("div",{className:p+"attribution"})}),(0,u.jsx)(a.xu,{marginStart:2,children:(0,u.jsx)("div",{className:p+"credit"})})]}),(0,u.jsx)(a.xu,{marginTop:3,children:(0,u.jsx)(a.iz,{})})]}),(0,u.jsx)(a.xu,{marginBottom:3,marginTop:2,children:(0,u.jsx)(a.xv,{align:t?void 0:"center",weight:"bold",children:e._('More like this', 'On mobile web pin page, title for related pins beneath pin closeup', 'On mobile web pin page, title for related pins beneath pin closeup')})}),(0,u.jsxs)(a.xu,{direction:"row",display:"flex",marginTop:3,children:[(0,u.jsx)(a.xu,{marginEnd:t?2:1,marginStart:t?2:1,children:(0,u.jsx)("div",{className:p+"pin_grid_pin"})}),(0,u.jsx)(a.xu,{marginEnd:t?2:1,marginStart:t?2:1,children:(0,u.jsx)("div",{className:p+"pin_grid_pin"})})]})]})]})}},345748:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(343902),l=n(5859),r=n(160567),s=n(554786),o=n(125768),d=n(785893);function c({pinActionBarOptionsButton:e}){let{isAuthenticated:t}=(0,l.B)(),n=(0,s.ZP)();return(0,d.jsx)(i.Le,{top:t?0:(0,r.x9)(n),children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},marginTop:2,position:"absolute",width:"100%",children:(0,d.jsxs)(i.kC,{justifyContent:t?"between":"end",children:[t&&(0,d.jsx)(a.Z,{children:(0,d.jsx)(o.Z,{bgColor:"white",color:"darkGray",fallbackUrl:t?"/":"/ideas",padding:3,viewParameter:156,viewType:3})}),!!e&&(0,d.jsx)(a.Z,{children:e})]})})})}},916845:(e,t,n)=>{n.d(t,{Z:()=>k});var i,a=n(167912),l=n(883119),r=n(422210),s=n(165706),o=n(567344),d=n(340523),c=n(5859),u=n(217058),p=n(623409),m=n(554786),g=n(490166),_=n(19447),h=n(386008),y=n(367408),f=n(785893);let b=({children:e,handleTap:t})=>t?(0,f.jsx)(g.Z,{onTouch:t,pressState:"compress",children:e}):e,S=void 0!==i?i:i=n(59415);function x({onClick:e,hasLink:t,forceSmallerHeading:n,textAlign:i,pinTitle:a,gridTitle:g,richSummaryDisplayName:_,richMetadataTitle:S,storyPinDataId:x,storyPinDataMetadataPinTitle:v,pinJoinVisualAnnotation:P,lineClamp:k,seoNoindexReason:w,seoTitle:T}){let I=(0,m.ZP)(),{isAuthenticated:E,isBot:A}=(0,c.B)(),C=(0,h.Tt)(),{checkExperiment:R}=(0,d.F)(),j=(0,p.Z)(),L=(0,r.Z)(C?.created_at)&&!C?.is_matured_new_user,F=E?R("auth_closeup_redesign").anyEnabled:R("unauth_closeup_redesign").anyEnabled,D=(0,o.Ly)({pinTitle:a,gridTitle:g,richSummaryDisplayName:_,richMetadataTitle:S,storyPinDataId:x,storyPinDataMetadataPinTitle:v,pinJoinVisualAnnotation:P,seoNoindexReason:w,seoTitle:T}),O="desktop"===I?"start":"center";return F&&(O="start"),(0,f.jsx)(y.Z,{hash:"details",offset:-s.DEFAULT_HEIGHT,children:(0,f.jsx)(l.kC,{alignItems:"desktop"===I?"start":"center",direction:"column",justifyContent:"center",children:(0,f.jsx)(l.xu,{alignSelf:F?"start":"stretch","data-test-id":"pinTitle",maxWidth:"100%",children:(0,f.jsx)(b,{handleTap:"desktop"!==I&&t?t=>{t.preventDefault(),t.stopPropagation(),j({action:"click",item:"pin-title",within:"pin-image"}),E||(0,u.NC)("unauth_click_pin_closeup_title"),e()}:null,children:(0,f.jsx)(l.X6,{accessibilityLevel:1,align:i||O,lineClamp:A?void 0:k,overflow:"breakWord",size:n||L?"400":"500",children:D})})})})})}function v(e){let t=(0,a.useFragment)(S,e.graphqlRef);return(0,f.jsx)(x,{forceSmallerHeading:e.forceSmallerHeading,gridTitle:t?.gridTitle,hasLink:e.hasLink,lineClamp:e.lineClamp,onClick:e.onClick,pinId:e.pinId,pinJoinVisualAnnotation:t?.pinJoin?.visualAnnotation||void 0,pinTitle:t?.title,richMetadataTitle:t?.richMetadata?.title??"",richSummaryDisplayName:t?.richSummary?.displayName??"",seoNoindexReason:t?.seoNoindexReason,seoTitle:t?.seoTitle,storyPinDataId:t?.storyPinDataId,storyPinDataMetadataPinTitle:t?.storyPinData?.metadata?.pinTitle,textAlign:e.textAlign})}function P(e){let t=(0,_.S6)()(e.pinId||"");return t?(0,f.jsx)(x,{forceSmallerHeading:e.forceSmallerHeading,gridTitle:t.grid_title,hasLink:e.hasLink,lineClamp:e.lineClamp,onClick:e.onClick,pinId:e.pinId,pinJoinVisualAnnotation:t.pin_join?.visual_annotation,pinTitle:t.title,richMetadataTitle:t.rich_metadata?.title??"",richSummaryDisplayName:t.rich_summary?.display_name??"",seoNoindexReason:t.seo_noindex_reason,seoTitle:t.seo_title,storyPinDataId:t.story_pin_data_id,storyPinDataMetadataPinTitle:t.story_pin_data?.metadata?.pin_title,textAlign:e.textAlign}):null}function k(e){return e.graphqlRef?(0,f.jsx)(v,{...e}):(0,f.jsx)(P,{...e})}},232887:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(894965);let l=new i.H3([a.e])},312244:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(213377),l=n(785893);let r=function({marginStart:e=a.D6}){return(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${-(4*e)}px`,marginRight:`${-(4*e)}px`,backgroundColor:"#E9E9E9"}},height:1})}},171394:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(5859),l=n(785893);let r=new i.H3([new i.Ry(0)]);function s({onMoreButtonTap:e,onSendButtonTap:t}){let{userAgent:{platform:n}}=(0,a.B)();return(0,l.jsxs)(i.xu,{display:"flex",justifyContent:"end",padding:6,position:"absolute",top:!0,width:"100%",zIndex:r,children:[(0,l.jsx)(i.hU,{accessibilityLabel:"share",bgColor:"transparentDarkGray",icon:"android"===n?"android-share":"share",onClick:t,size:"md"}),(0,l.jsx)(i.xu,{marginStart:2,children:(0,l.jsx)(i.hU,{accessibilityLabel:"overflow menu",bgColor:"transparentDarkGray",icon:"ellipsis",onClick:e,size:"md"})})]})}},57158:(e,t,n)=>{n.d(t,{Z:()=>T});var i=n(883119),a=n(340523),l=n(5859),r=n(554786),s=n(667294),o=n(197404),d=n(71328),c=n(623409),u=n(160567),p=n(494125),m=n(785893);function g({pinId:e,imageSignature:t}){let n=(0,r.HG)(),a=(0,r.ml)(),{isAuthenticated:g}=(0,l.B)(),[_,h]=(0,s.useState)(!1),[y,f]=(0,s.useState)(!1),b=(0,s.useRef)(),S=(0,c.Z)();return(0,p.Z)(()=>{let e=(0,d.Z)(()=>{if(b.current){let{top:t}=b.current.getBoundingClientRect(),n=t>(a?u.SB:u.Pw);!y&&n&&(h(!0),f(!0),window.removeEventListener("scroll",e))}},10);return n||g?h(!0):window.addEventListener("scroll",e),()=>{g||window.removeEventListener("scroll",e)}}),(0,m.jsx)(i.xu,{ref:b,alignItems:"stretch","data-test-id":"visual-search-icon",display:"flex",justifyContent:"end",paddingX:n?2:0,children:(0,m.jsx)(i.xu,{overflow:"hidden",children:(0,m.jsx)(i.iP,{onTap:()=>{S({action:"click",item:"visual-search-icon",within:"pin-image"})},children:(0,m.jsx)(o.default,{animateShopButton:_,id:e,imageSignature:t,onAnimationComplete:()=>{h(!1)},surfaceType:"flashlight"})})})})}var _=n(616550),h=n(214877),y=n(696534),f=n(140017);function b({pinId:e,viewParameter:t}){let n=(0,f.ZP)(),a=(0,y.vs)(),{logContextEvent:l}=(0,h.v)(),r=(0,_.k6)();return(0,p.Z)(()=>{l({element:10405,event_type:120,view_type:3})}),(0,m.jsx)(i.iP,{onTap:()=>{l({component:128,element:10405,event_type:102,view_parameter:t,view_type:3}),r&&e&&r.push(`/pin/${e}#imgViewer`)},children:(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)",transform:"scaleX(-1)",marginLeft:-4}},"data-test-id":"expand-action-icon",display:"flex",height:44,justifyContent:"center",rounding:"pill",width:44,children:(0,m.jsx)(i.JO,{accessibilityLabel:n._('Button to expand the image', 'expandAction.button', 'Button to expand the pin image to full screen'),color:"default",icon:"maximize",size:20})})})}var S=n(217058);function x({imageSignature:e,pinId:t,viewParameter:n}){let a=(0,f.ZP)(),{logContextEvent:s}=(0,h.v)(),o=(0,c.Z)(),{isAuthenticated:d}=(0,l.B)(),u=(0,y.vs)(),g=(0,r.HG)(),b=(0,_.k6)();return(0,p.Z)(()=>{s({aux_data:{image_signature:e},component:128,element:234,event_type:120,view_parameter:n,view_type:3})}),(0,m.jsx)(i.iP,{onTap:({event:i})=>{d||((0,S.My)(`${g?"dweb":"mweb"}_pin_page.flashlight_icon_click`),o({action:"click",item:"visual-search-icon",within:"pin-image"})),i.stopPropagation(),i.preventDefault(),s({aux_data:{image_signature:e},component:128,element:234,event_type:102,view_parameter:n,view_type:3}),b&&t?b.push(`/pin/${t}/visual-search/`):(0,S.My)(`${g?"dweb":"mweb"}_pin_page.flashlight_icon_click.error`)},tapStyle:"compress",children:(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:u?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"visual-search-icon",display:"flex",height:44,justifyContent:"center",rounding:"pill",width:44,children:(0,m.jsx)(i.JO,{accessibilityLabel:a._('Visual search', 'flashlight.button', 'Button to search for visually similar Pins'),color:"default",icon:"flashlight",size:20})})})}var v=n(50786),P=n(893816);let k=({pinId:e,viewParameter:t})=>{let{logContextEvent:n}=(0,h.v)(),{isScrolledToPins:a,scrollToPins:l}=(0,v.Z)(),{moreLikeThisButtonRef:r,setHasClickedMoreLikeThisButton:o}=(0,P.g)(),d=(0,f.ZP)();return a&&l(!1),(0,s.useEffect)(()=>{n({event_type:13,view_parameter:t,component:13283,element:14445,aux_data:{pin_id:e}})},[n,e,t]),(0,m.jsx)(i.xu,{ref:r,"data-test-id":"more-like-this-button",children:(0,m.jsx)(i.iP,{onTap:({event:i})=>{i.stopPropagation(),i.preventDefault(),(0,S.My)("remove_drawer_exp.more_like_this.scroll_to_pins"),l(!0),o&&o(!0),n({event_type:101,view_parameter:t,component:13283,element:14445,aux_data:{pin_id:e}})},children:(0,m.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,m.jsxs)(i.xu,{alignContent:"between",alignItems:"center",color:"default",display:"flex",padding:3,rounding:"pill",children:[(0,m.jsx)(i.xu,{color:"default",marginEnd:3,rounding:"pill",children:(0,m.jsx)(i.xv,{inline:!0,weight:"bold",children:d._('More like this', 'mobilePinPage.relatedPins.title', 'On mobile web pin page, title for related pins beneath pin closeup')})}),(0,m.jsx)(i.JO,{accessibilityLabel:d._('Scroll to related pins button', 'mobilePinPage.relatedPins.scroll', 'Button to auto scroll to the related pins section'),color:"dark",icon:"arrow-down",inline:!0})]})})})})},w=({isDesktop:e})=>e?-68:-60;function T({imageSignature:e,inPinImageResizeExp:t=!1,isPdp:n,pinId:s,type:o,viewParameter:d}){let{isAuthenticated:c}=(0,l.B)(),u=(0,r.HG)(),{checkExperiment:p}=(0,a.F)(),_=p("mweb_image_search_animated_button").anyEnabled||p("mweb_unified_visual_features_expansion").anyEnabled;return(0,m.jsx)(i.Le,{bottom:0,children:(0,m.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:w({isDesktop:u}),marginRight:t&&"visualSearch"===o?-8:0,marginLeft:t&&"expand"===o?-4:0}},padding:2,position:"expand"===o?"relative":"absolute",right:"expand"!==o,children:"moreLikeThisButton"===o?(0,m.jsx)(k,{pinId:s,viewParameter:d}):"expand"===o?(0,m.jsx)(b,{pinId:s,viewParameter:d}):"visualSearch"!==o||c&&(n||!_)?(0,m.jsx)(x,{imageSignature:e,pinId:s,viewParameter:d}):(0,m.jsx)(g,{imageSignature:e,pinId:s})})})}},387450:(e,t,n)=>{n.d(t,{Z:()=>w});var i,a=n(667294),l=n(702664),r=n(167912),s=n(883119),o=n(587703),d=n(205841),c=n(140017),u=n(72461),p=n(339001),m=n(340523),g=n(5859),_=n(687603),h=n(213503),y=n(70982),f=n(19447),b=n(386008),S=n(785893);let x=void 0!==i?i:i=n(263358);function v({hideFollowButton:e,hideFollowerCount:t,viewerId:n,justifyContent:i,avatarSize:r,seeMoreButton:f,graphqlRef:x,pinId:v,pinImageSignature:P,userData:k,clientTrackingParams:w}){let T=(0,c.ZP)(),I=(0,u.Z)(),{checkExperiment:E}=(0,m.F)(),{isAuthenticated:A}=(0,g.B)(),C=A?E("auth_closeup_redesign").anyEnabled:E("unauth_closeup_redesign").anyEnabled,{id:R="",image_medium_url:j,follower_count:L,followed_by_me:F,username:D="",is_ads_only_profile:O=!1,ads_only_profile_site:N=""}=k,M=(0,b.mN)()(R),Z=(0,l.useDispatch)(),B=(0,a.useRef)(),U=(0,o.Z)(),{locale:K}=(0,g.B)(),[z,H]=(0,a.useState)(M?M.explicitly_followed_by_me:F),V=O&&N,G=V&&N?N:`/${A?D:D.toLowerCase()}/`;return(0,S.jsxs)(s.xu,{alignItems:"center","data-test-id":"official-user-attribution",direction:"row",display:"flex",justifyContent:i||"center",children:[(0,S.jsx)(s.kC,{alignItems:"stretch",flex:"shrink",justifyContent:"start",children:(0,S.jsx)(s.Tg,{href:G,onTap:()=>{V&&U({event_type:9371,element:13382,component:123})},rel:V?"nofollow":"none",target:V?"blank":null,children:(0,S.jsx)(d.qE,{name:D,size:r||"md",src:j??""})})}),(0,S.jsxs)(s.xu,{"data-test-id":"follower-count",direction:"column",display:"flex",justifyContent:"center",marginStart:2,minWidth:0,children:[(0,S.jsx)(_.Z,{adsOnlyProfileSite:null,fontWeight:"bold",graphqlRef:x??null,pinId:v}),!t&&(0,S.jsx)(s.xv,{size:C?"200":"300",children:(0,p.nk)(T._('{{ followerCount }} followers', 'closeup.officialUser.followerCount', 'Official user\'s follower count'),{followerCount:I(K,L||0,{shortform:!0,shortform_maximum_fraction_digits:0})})})]}),f,!e&&(0,S.jsx)(a.Fragment,{children:(0,S.jsx)(s.xu,{ref:B,"data-test-id":"follow-button-box",marginStart:"auto",children:(0,S.jsx)(h.Z,{auxData:v&&P?{pin_id:v,image_signature:P}:void 0,clientTrackingParams:w,followEventType:45,id:R,isFollowed:z,isUserFollowButton:!0,isUserMe:n===R,onFollow:e=>{H(!0),Z((0,y.ZN)(e,null,w))},onUnfollow:e=>{H(!1),Z((0,y.fv)(e,null,w))},pinKey:null!=x?x:null,shouldUseLegoColors:!0,size:"lg",unfollowEventType:46,viewType:3})})})]})}function P({graphqlRef:e,pinId:t,...n}){let i=(0,r.useFragment)(x,e),l=i.closeupAttribution;return l&&i?(0,S.jsx)(v,{...n,graphqlRef:i,pinId:t,pinImageSignature:i.imageSignature??void 0,userData:{id:l.entityId??void 0,image_medium_url:l.imageMediumUrl??void 0,follower_count:l.followerCount??void 0,followed_by_me:l.followedByMe??void 0,username:l.username??void 0,is_ads_only_profile:!!l.isAdsOnlyProfile,ads_only_profile_site:l.adsOnlyProfileSite}}):(0,S.jsx)(a.Fragment,{})}function k({pinId:e,...t}){let n=(0,f.S6)()(e),i=n?.closeup_attribution;return i&&n?(0,S.jsx)(v,{...t,pinId:e,pinImageSignature:n.image_signature??void 0,userData:i}):(0,S.jsx)(a.Fragment,{})}function w({graphqlRef:e,...t}){return e?(0,S.jsx)(P,{...t,graphqlRef:e}):(0,S.jsx)(k,{...t})}},687603:(e,t,n)=>{n.d(t,{Z:()=>h});var i,a=n(667294),l=n(167912),r=n(883119),s=n(587703),o=n(5859),d=n(109615),c=n(19447),u=n(785893);let p=void 0!==i?i:i=n(369137);function m({getDisplayName:e,fontWeight:t="normal",isVerifiedMerchant:n,fullName:i="",verifiedIdentityVerified:a,username:l="",isAdsOnlyProfile:c=!1,adsOnlyProfileSite:p="",onMouseDown:m}){let g=(0,s.Z)(),{isAuthenticated:_}=(0,o.B)(),h=n||a,y=c&&p,f=y&&p?p:`/${_?l:l.toLowerCase()}/`;return(0,u.jsx)(r.Tg,{href:f,onMouseDown:()=>{m&&m()},onTap:()=>{y&&g({event_type:9371,element:13382,component:123})},rel:y?"nofollow":"none",target:y?"blank":null,children:(0,u.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,u.jsx)(r.xu,{"data-test-id":"creator-profile-name",children:(0,u.jsx)(r.xv,{lineClamp:1,size:"300",weight:t,children:e?e(i):i})}),h&&(0,u.jsx)(r.xu,{marginEnd:2,marginStart:1,children:(0,u.jsx)(d.Z,{isVerifiedMerchant:n,showVerifiedIdentity:!n,size:"sm"})})]})})}function g(e){let t=(0,l.useFragment)(p,e.graphqlRef),n=t?.closeupAttribution;return n?(0,u.jsx)(m,{adsOnlyProfileSite:n.adsOnlyProfileSite,fontWeight:e.fontWeight,fullName:n.fullName??void 0,getDisplayName:e.getDisplayName,isAdsOnlyProfile:n.isAdsOnlyProfile??!1,isVerifiedMerchant:n.isVerifiedMerchant??void 0,onMouseDown:e.onMouseDown,username:n.username??void 0,verifiedIdentityVerified:n.verifiedIdentity?.verified??void 0}):(0,u.jsx)(a.Fragment,{})}function _(e){let t=(0,c.S6)()(e.pinId),n=t?.closeup_attribution;return n?(0,u.jsx)(m,{adsOnlyProfileSite:n.ads_only_profile_site,fontWeight:e.fontWeight,fullName:n.full_name,getDisplayName:e.getDisplayName,isAdsOnlyProfile:n.is_ads_only_profile,isVerifiedMerchant:n.is_verified_merchant,onMouseDown:e.onMouseDown,username:n.username,verifiedIdentityVerified:n.verified_identity?.verified}):(0,u.jsx)(a.Fragment,{})}function h(e){return e.graphqlRef?(0,u.jsx)(g,{...e}):(0,u.jsx)(_,{...e})}},643991:(e,t,n)=>{n.d(t,{Z:()=>ea});var i,a=n(667294);n(422578);var l=n(883119),r=n(510989),s=n(582008),o=n(140017);let d=({hasRecipe:e,hasArticle:t,i18n:n})=>e?n._('Make it', 'pinPage.pinActionBar.Makeit.Button', 'Text on a button that lets users visit the source of the pin'):t?n._('Read it', 'pinPage.pinActionBar.Readit.Button', 'Text on a button that lets users visit the source of the pin'):n._('Visit', 'pinPage.pinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin');var c=n(776427),u=n(340523),p=n(5859),m=n(608516),g=n(207270),_=n(554786),h=n(149722),y=n(188349),f=n(191313);let b=()=>{let e=(0,f.qn)("relatedPinsAppUpsell"),t=e&&Date.now()-e>y.F4;return!e||t};var S=n(773616),x=n(256661),v=n(676012),P=n(326718),k=n(165706),w=n(253104),T=n(283970),I=n(785893);let E=({children:e,headerLimitedOverflow:t,isDesktop:n,isActionBarInline:i,isRelatedPinsAppUpsellShown:a,isTransparentBackground:r,showHorizontalActionBar:s,zIndex:o,isCloseupRedesign:d})=>!n&&s?(0,I.jsxs)(l.xu,{children:[(0,I.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:i?0:1,transition:"opacity .4s ease-in-out"}},children:(0,I.jsx)(k.FixedFooter,{hasTopShadow:!0,paddingY:5,zIndex:o,children:e},String(r))}),i&&(0,I.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:i?1:0,transition:"opacity .4s ease-in-out"}},paddingY:d?0:5,children:e})]}):(0,I.jsx)(k.FixedHeader,{headerLimitedOverflow:t,ignoreObstructions:r,isTranslucent:!r,isTransparentBackground:r,paddingY:a?0:void 0,zIndex:o,children:e},String(r)),A=({backButton:e,commentButton:t,copyButton:n,editOrMoreButton:i,headerLimitedOverflow:r,isActionBarInline:s=!1,isDesktop:o,isRelatedPinsAppUpsellShown:d,isTransparentBackground:c,saveButton:m,showHorizontalActionBar:g,shareButtonGroup:_,visitButton:h})=>{let y;let f=(0,T.H)(),{isAuthenticated:b}=(0,p.B)(),{checkExperiment:S}=(0,u.F)(),x=b?S("auth_closeup_redesign").anyEnabled:S("unauth_closeup_redesign").anyEnabled;return b?"lg"===f?y=w.ow:g&&(y=w.V3):y=g?w.V3:w.AI,(0,I.jsx)(l.xu,{"data-test-id":"header",children:(0,I.jsx)(E,{headerLimitedOverflow:r,isActionBarInline:s,isCloseupRedesign:x,isDesktop:o,isRelatedPinsAppUpsellShown:d,isTransparentBackground:c,showHorizontalActionBar:g,zIndex:y,children:(0,I.jsx)(l.xu,{marginBottom:x?0:w.el,marginTop:x?0:w.el,children:(0,I.jsx)(l.kC,{alignItems:"center",justifyContent:"between",children:g?(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:t||null}),(0,I.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginStart:!t&&_?12:0,children:[h||null,m||null]}),(0,I.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:_||null})]}):(0,I.jsxs)(a.Fragment,{children:[(0,I.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,I.jsx)(l.xu,{color:c?"default":void 0,dangerouslySetInlineStyle:{__style:c?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},marginStart:x?0:w.el,rounding:"circle",children:e}),(0,I.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[t||null,x?i||null:_||null,x?_||null:i||null,n||null]})]}),(0,I.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[h||null,m||null]})]})})})})})};var C=n(437387),R=n(604020),j=n(120418),L=n(237040),F=n(405510),D=n(33767),O=n(541891),N=n(19447),M=n(386008),Z=n(329593),B=n(240137),U=n(118923),K=n(832853);let z=(0,a.lazy)(()=>n.e(73922).then(n.bind(n,473922))),H=(0,K.Z)(()=>n.e(73922).then(n.bind(n,473922)),{ssr:!1}),V=(0,a.lazy)(()=>n.e(38012).then(n.bind(n,738012))),G=(0,K.Z)(()=>n.e(38012).then(n.bind(n,738012)),{ssr:!1}),$=(0,a.lazy)(()=>n.e(7537).then(n.bind(n,917094))),W=new l.Ry(5),q=void 0!==i?i:i=n(580448),Y=e=>(0,U.b)()?(0,I.jsx)(H,{...e}):(0,I.jsx)(m.Z,{children:(0,I.jsx)(z,{...e})}),X=e=>(0,U.b)()?(0,I.jsx)(G,{...e}):(0,I.jsx)(m.Z,{children:(0,I.jsx)(V,{...e})}),J=({children:e,experience:t,onCompleteRef:n})=>{let i=(0,a.useRef)();return(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(l.xu,{ref:i,children:(0,I.jsx)(l.xu,{children:e})}),(0,I.jsx)(r.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,I.jsx)(Y,{anchor:i.current,eligibleIds:[503459,503761],experience:t,onCompleteRef:n,showTooltip:!0})})]})},Q=()=>{let{locale:e}=(0,p.B)();(0,a.useEffect)(()=>{(0,c.we)(e)},[e])};function ee({pinId:e,viewParameter:t,enabledUnauthContextMenu:n}){let i=(0,o.ZP)(),[r,s]=(0,a.useState)(!1),d=(0,a.useRef)(null),c=(0,I.jsx)(B.Z,{onDefaultSendButtonClick:()=>{s(!0)},viewParameter:t});return(0,I.jsxs)(l.xu,{ref:d,children:[(0,I.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[n&&(0,I.jsx)(l.u,{inline:!0,text:i._('Share', 'Closeup.SharePin.Icon', 'Icon for sharing the current pin'),zIndex:W,children:c}),!n&&c]}),r&&(0,I.jsx)(m.Z,{children:(0,I.jsx)($,{anchor:d.current,component:194,objectId:e,objectType:1,onDismiss:()=>s(!1),title:i._('Send this pin', 'PinCloseup.ShareMenu.Title', 'title for share menu popover'),viewParameter:t,viewType:3})})]})}function et({aggregatedPinDataId:e,clickthroughInterstitialExperience:t,experience:n,inCommentModuleExp:i,isEligibleForAggregatedComments:s,isEligibleForPinReactions:d,isNewUser:c,isRemovablePin:m,onEditButtonClick:y,onMobileTap:f,onSendButtonClick:k,pinId:w,actionButtonText:T,pinnedToBoardId:E,pinnedToBoardUrl:N,nativePinType:U,scrolledToRelatedPins:K,shouldShowReactions:z,shouldShowBackButton:H,shouldShowShareOnVideoCloseup:V,isEligibleToVisitPin:G,hasPin:$,isEligibleForPdp:q,pinnerBlockedByMe:Y,maybeGraphqlRef:et,isActionBarInline:en,isInUnauthPdpPlus:ei}){let ea=(0,o.ZP)(),{checkExperiment:el}=(0,u.F)(),er=(0,_.HG)(),{isAuthenticated:es}=(0,p.B)(),eo=(0,x.R)(),{clientTrackingParams:ed,isStoryPin:ec,shouldRenderAsStoryPin:eu,saveButtonConfig:ep,viewParameter:em}=eo,eg=(0,S.Z)(),{setIsNavFooterHiddenByPinActionBar:e_}=(0,D.U)(),eh=(0,a.useRef)(null),{id:ey}=(0,h.Z)(),ef=(0,M.mN)()(ey??""),{countryFromIp:eb}=(0,p.B)(),{COUNTRY_CODES:eS}=O.LAW_CONFIGURATION.dsa,ex=eS.includes(eb),ev=!er&&!q,eP=q&&es||ev,ek=es&&!er&&el("auth_mweb_inline_action_bar").anyEnabled,{userIsEligibleForShippedLOPExperiment:ew}=(0,g.Z)(),eT=!es&&ew(),eI=(0,v.z)(),eE=(0,L.Yg)();Q();let eA=!!n&&8===n.type;if((0,a.useEffect)(()=>{en?e_(!1):e_(!0)},[en,e_]),!er&&ec&&eu)return null;if(K&&es&&!ek&&!eP){let e=eg&&c&&!ef?.is_partner&&b();return(0,I.jsx)(A,{backButton:H?(0,I.jsx)(P.Z,{bgColor:"white"}):null,headerLimitedOverflow:eA,isActionBarInline:en,isDesktop:er,isRelatedPinsAppUpsellShown:e,isTransparentBackground:!0,showHorizontalActionBar:eP})}let eC=!er&&s&&(!q||es&&el("ce_mweb_pdp_comments").anyEnabled)&&(!es||["enabled","running_experiments"].includes(el("community_engagement_holdout_2023_h1").group)),eR=(0,I.jsx)(C.Z,{enabledUnauthContextMenu:eT,graphqlRef:et,onMobileTap:f,onSendButtonClick:k,pinId:w,viewParameter:em});return(0,I.jsx)(A,{backButton:H?(0,I.jsx)(P.Z,{}):null,commentButton:eC&&(0,I.jsx)(F.default,{inCommentModuleExp:i,isEligibleForPinReactions:d,pinId:w,pinKey:et?{type:"graphqlRef",data:et}:{type:"deprecated",data:w},viewParameter:em}),editOrMoreButton:!eP&&(y?(0,I.jsx)(l.xu,{"data-test-id":"editBoardButton",children:(0,I.jsx)(l.hU,{accessibilityLabel:ea._('edit', 'Pin edit button', 'Pin edit button'),icon:"edit",iconColor:"darkGray",onClick:({event:e})=>y(e),size:"lg"})}):(0,j.Z)(eo,!es&&ex,er)&&!!$&&(0,I.jsxs)(l.xu,{"data-test-id":"ellipsis-button",children:[eT&&(0,I.jsx)(l.u,{inline:!0,text:ea._('More options', 'Closeup.MoreOptions.Icon', 'Icon for opening more actions dropdown'),zIndex:W,children:eR}),!eT&&eR]})),headerLimitedOverflow:eA,isActionBarInline:en,isDesktop:er,saveButton:es&&(m||Y)?null:(0,I.jsx)(J,{experience:n,onCompleteRef:eh,children:(0,I.jsx)(l.xu,{children:(0,I.jsx)(Z.Z,{clientTrackingParams:ed,color:"primary",deeplinkUri:ep.shouldShowSavedButton&&N||ep.repinPageLocation.deeplinkUri,onTouch:e=>{eh.current?.(),ep.onSaveButtonClick(e);let t=!!eI?.getData(w);eE?.(t?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar")},onUnsave:ep.onUnsaveButtonClick,pinId:w,pinnedToBoardId:E,pinRef:et,shouldShowSavedButton:ep.shouldShowSavedButton,to:ep.repinPageLocation.mwebUri,viewParameter:em,viewType:3})})}),shareButtonGroup:z&&U?(0,I.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,I.jsx)(r.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,I.jsx)(X,{aggregatedPinDataId:e,clientTrackingParams:ed,experience:n,nativePinType:U,pinId:w})}),V&&(0,I.jsx)(B.Z,{onDefaultSendButtonClick:k,viewParameter:eo.viewParameter})]}):(0,I.jsx)(l.xu,{"data-test-id":"share-button",children:!es&&er?(0,I.jsx)(ee,{enabledUnauthContextMenu:eT,pinId:w,viewParameter:eo.viewParameter}):(0,I.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,I.jsx)(B.Z,{onDefaultSendButtonClick:k,viewParameter:eo.viewParameter})})}),showHorizontalActionBar:eP,visitButton:V||!G||ei&&er?null:(0,I.jsx)(l.xu,{"data-test-id":"visit-button-mobile",paddingX:2,children:(0,I.jsx)(R.Z,{actionButtonText:T,clickthroughInterstitialExperience:t,graphqlRef:et,isDesktop:er,isInUnauthPdpPlus:ei,pinId:w})})})}let en=({graphqlRef:e,isInUnauthPdpPlus:t,...n})=>{let i=(0,o.ZP)(),a=(0,L.nF)(),l=(0,s.h)(q,e,a.closeupPageSuspenseBehavior),r=l.richMetadata?.recipe,c=d({hasRecipe:!!(r?.name&&r.categorizedIngredients?.length&&!r.fromAggregatedData),hasArticle:!!l.richMetadata?.article,i18n:i});return(0,I.jsx)(et,{actionButtonText:c,aggregatedPinDataId:l.aggregatedPinData?.entityId,hasPin:!!l,isEligibleForAggregatedComments:l.isEligibleForAggregatedComments,isEligibleForPdp:l.isEligibleForPdp,isInUnauthPdpPlus:t,maybeGraphqlRef:l,pinnerBlockedByMe:l.pinner?.blockedByMe,...n})},ei=({isInUnauthPdpPlus:e,pinId:t,...n})=>{let i=(0,N.S6)()(t),a=(0,o.ZP)(),l=i?.pinner,r=i?.rich_metadata?.recipe,s=d({hasRecipe:!!(r?.name&&r.categorized_ingredients&&!r.from_aggregated_data),hasArticle:!!i?.rich_metadata?.article,i18n:a});return(0,I.jsx)(et,{actionButtonText:s,aggregatedPinDataId:i?.aggregated_pin_data?.id,hasPin:!!i,isEligibleForAggregatedComments:i?.is_eligible_for_aggregated_comments,isEligibleForPdp:i?.is_eligible_for_pdp,isInUnauthPdpPlus:e,maybeGraphqlRef:null,pinId:t,pinnerBlockedByMe:l?.blocked_by_me,...n})};function ea({graphqlRef:e,isInUnauthPdpPlus:t,...n}){return e?(0,I.jsx)(en,{graphqlRef:e,isInUnauthPdpPlus:t,...n}):(0,I.jsx)(ei,{...n,isInUnauthPdpPlus:t})}},326718:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(5859),l=n(256661),r=n(125768),s=n(785893);let o=({bgColor:e,color:t})=>{let{viewParameter:n}=(0,l.R)(),{isAuthenticated:o}=(0,a.B)();return(0,s.jsx)(i.xu,{"data-test-id":"back-button",children:(0,s.jsx)(r.Z,{bgColor:e,color:t||"darkGray",fallbackUrl:o?"/":"/ideas",padding:"auto",size:"xl",viewParameter:n,viewType:3})})}},253104:(e,t,n)=>{n.d(t,{AI:()=>r,V3:()=>s,el:()=>a,ow:()=>l});var i=n(883119);let a=-1,l=new i.Ry(2),r=new i.Ry(1),s=new i.Ry(4)},437387:(e,t,n)=>{n.d(t,{Z:()=>w});var i,a=n(667294);n(167912);var l=n(883119),r=n(582008),s=n(140017),o=n(5859),d=n(608516),c=n(217058),u=n(623409),p=n(163471),m=n(554786),g=n(873342),_=n(916840),h=n(237040),y=n(19447),f=n(499631),b=n(785893);let S=(0,a.lazy)(()=>Promise.all([n.e(87348),n.e(44168)]).then(n.bind(n,700198))),x=void 0!==i?i:i=n(511288),v=({pinId:e,pinCreditPrefix:t,onClickTitleOrDomain:n,onMobileTap:i,hasPinner:r,graphqlRef:_,overlayingPinImage:h=!1,shoppingKlpUrls:y=[],enabledUnauthContextMenu:x,inFeedContextMenuExperiment:v,onSendButtonClick:P=()=>{}})=>{let k=(0,s.ZP)(),w=(0,u.Z)(),T=(0,p.Z)(),I=(0,a.useRef)(),E=(0,m.HG)(),A=(0,m.Wb)(),{isAuthenticated:C}=(0,o.B)(),[R,j]=(0,a.useState)(null),L=!!R;(0,a.useEffect)(()=>{let e=()=>{j(null),(0,c.My)("dweb.unauth.context_menu.click_away")};return L&&document.addEventListener("click",e),()=>{L&&document.removeEventListener("click",e)}},[L]);let F=h?"white":"darkGray",D=h?"transparent":"white";return E&&x&&(D="white",L&&(D="transparentDarkGray",F=v?"darkGray":"white")),(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(l.xu,{ref:I,dangerouslySetInlineStyle:{__style:{...E?g.styles.container:g.mobileStyles.container}},children:(0,b.jsx)(l.hU,{accessibilityLabel:k._('more', 'Pin more button', 'Pin more button'),bgColor:v?"transparent":D,icon:"ellipsis",iconColor:F,onClick:({event:a})=>{if(C||E){if(w({action:"click",item:"ellipsis-button",within:"contextual-menu-modal"}),E){if(a.stopPropagation(),a.preventDefault(),(0,c.My)("dweb.ellipsis_button.context_menu.open"),I.current){let e=I.current.getBoundingClientRect();j({x:e.left,y:e.top}),L&&j(null)}}else i&&i(a)}else e&&r?T({pinId:e,location:"main-pin-overflow",vaseSection:!A&&(0,b.jsx)(f.Z,{dedupeVisualAnnotations:null,onClickTitleOrDomain:n,pinCreditPrefix:t,pinId:e,pinKey:_?{type:"graphqlRef",data:_}:{type:"deprecated",data:e},shoppingKlpUrls:y})}):i&&i(a)},selected:!E&&h,size:v?"sm":"lg"})}),R&&E&&e&&r&&(0,b.jsx)(d.Z,{children:(0,b.jsx)(S,{anchor:I.current,desktopContextMenuState:R,enabledUnauthContextMenu:x,feedContextMenuExperiment:v,graphqlRef:_??null,onSendButtonClick:P,pinId:e,source:"dweb.plp.ellipsis.button"})})]})},P=({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:l,enabledUnauthContextMenu:s,inFeedContextMenuExperiment:o,viewParameter:d,onSendButtonClick:c})=>{let u=(0,h.nF)(),p=(0,r.h)(x,e,u.closeupPageSuspenseBehavior),m=(0,_.I)({clickthroughInterstitialExperience:l,graphqlRef:p,viewParameter:d});return(0,b.jsx)(v,{enabledUnauthContextMenu:s,graphqlRef:p,hasPinner:!!p.pinner,inFeedContextMenuExperiment:o,onClickTitleOrDomain:m,onMobileTap:i,onSendButtonClick:c,overlayingPinImage:a,pinCreditPrefix:n,pinId:t,shoppingKlpUrls:p.pinJoin?.shoppingKlpUrls||[],viewParameter:d})},k=({pinId:e,pinCreditPrefix:t,onMobileTap:n,overlayingPinImage:i,clickthroughInterstitialExperience:a,enabledUnauthContextMenu:l,inFeedContextMenuExperiment:r,viewParameter:s,onSendButtonClick:o})=>{let d=(0,y.S6)()(e),c=(0,_.Z)({clickthroughInterstitialExperience:a,pinId:e,viewParameter:s});return(0,b.jsx)(v,{enabledUnauthContextMenu:l,hasPinner:!!d?.pinner,inFeedContextMenuExperiment:r,onClickTitleOrDomain:c,onMobileTap:n,onSendButtonClick:o,overlayingPinImage:i,pinCreditPrefix:t,pinId:e,shoppingKlpUrls:d?.pin_join?.shopping_klp_urls??[],viewParameter:s})};function w({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:l,enabledUnauthContextMenu:r,inFeedContextMenuExperiment:s,onSendButtonClick:o,viewParameter:d}){let c={pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,enabledUnauthContextMenu:r,clickthroughInterstitialExperience:l,inFeedContextMenuExperiment:s,onSendButtonClick:o,viewParameter:d};return e?(0,b.jsx)(P,{...c,graphqlRef:e}):(0,b.jsx)(k,{...c})}},604020:(e,t,n)=>{n.d(t,{Z:()=>_});var i,a=n(667294);n(167912);var l=n(883119),r=n(582008),s=n(623409),o=n(916840),d=n(237040),c=n(785893);let u=void 0!==i?i:i=n(709433),p=({clickthrough:e,onLoad:t,actionButtonText:n,isInUnauthPdpPlus:i,isDesktop:r})=>{let o=(0,s.Z)(),u=(0,d.Yg)();return(0,a.useEffect)(()=>{t&&t()},[t]),(0,c.jsx)(l.xu,{"data-test-id":"main-pin-section-visit-button",children:(0,c.jsx)(l.zx,{accessibilityLabel:n,color:i&&r?"blue":"gray",fullWidth:!i,onClick:()=>{o({action:"click",item:"main-pin-section-visit-button"}),u?.("main_pin_clickthrough"),e()},size:"lg",text:n||""})})},m=({clickthroughInterstitialExperience:e,graphqlRef:t,actionButtonText:n,isInUnauthPdpPlus:i,isDesktop:a})=>{let l=(0,d.nF)(),s=(0,r.h)(u,t,l.closeupPageSuspenseBehavior),m=(0,o.I)({clickthroughInterstitialExperience:e,graphqlRef:s});return(0,c.jsx)(p,{actionButtonText:n,clickthrough:m,isDesktop:a,isInUnauthPdpPlus:i})},g=({clickthroughInterstitialExperience:e,pinId:t,actionButtonText:n,isInUnauthPdpPlus:i,isDesktop:a})=>{let l=(0,o.Z)({clickthroughInterstitialExperience:e,pinId:t});return(0,c.jsx)(p,{actionButtonText:n,clickthrough:l,isDesktop:a,isInUnauthPdpPlus:i})};function _({clickthroughInterstitialExperience:e,pinId:t,graphqlRef:n,actionButtonText:i,isInUnauthPdpPlus:a,isDesktop:l}){return n?(0,c.jsx)(m,{actionButtonText:i,clickthroughInterstitialExperience:e,graphqlRef:n,isDesktop:l,isInUnauthPdpPlus:a}):(0,c.jsx)(g,{actionButtonText:i,clickthroughInterstitialExperience:e,isDesktop:l,isInUnauthPdpPlus:a,pinId:t})}},236798:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(140017),l=n(5859),r=n(785893);let s=({onSendButtonClick:e,trackShareTap:t,color:n,size:s,bgColor:o})=>{let d=(0,a.ZP)(),{userAgent:{platform:c}}=(0,l.B)();return(0,r.jsx)(i.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),bgColor:o||"transparent",icon:"android"===c?"android-share":"share",iconColor:n||"darkGray",onClick:({event:n})=>{e(n),t()},size:s||"lg"})}},875292:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(883119),a=n(903591),l=n(53264),r=n(608516),s=n(48481),o=n(623409),d=n(413110),c=n(785893);function u(e){let{viewParameter:t,isStoryPin:n}=e,u=(0,s.Z)(),p=(0,o.Z)();return(0,c.jsx)(r.Z,{fallback:null,children:(0,c.jsx)(i.xu,{marginTop:4,children:(0,c.jsx)(l.Z,{commentWarningModalState:a.A9.NONE,dismissCommentWarningModal:()=>{},objectType:d.o.pin,onEnter:()=>{p({action:"click",item:n?"comment-compose-story-pin":"comment-compose-pin",within:"comment-composer-modal"}),u({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:"login",modalOptions:{source:"commentComposer",container:"closeup"}}})},statusType:"textStaticDisplay",viewParameter:t})})})}},378307:(e,t,n)=>{n.d(t,{Z:()=>i});function i({canUpsellNativeApp:e,downloadImageUrl:t,pinId:n,shouldShowReactions:i,isAuthenticated:a,shouldShowVisitInMoreOptions:l}){return n?{react:i,editPin:a,downloadImageUrl:t,openInApp:e,reportPin:a,sendPin:i,visitPin:l,hidePin:a}:Object.freeze({})}},894965:(e,t,n)=>{n.d(t,{e:()=>l,x:()=>a});var i=n(883119);let a=2,l=new i.Ry(1)},38964:(e,t,n)=>{n.d(t,{v:()=>i});let i="imgViewer"},560007:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(373543);let a=e=>{let t=(0,i.Z)({url:e.location.search});switch(e.action){case"PUSH":if("news_hub"===t.entrySource)return"deeplink";return"click";case"REPLACE":return"click";case"POP":if(!e.location.key)return"deeplink";return"click";default:return null}}},618429:(e,t,n)=>{n.d(t,{Z:()=>i});function i({isImagePinForUnauthOnTablet:e}){return e?3:2}},809216:(e,t,n)=>{n.d(t,{Ph:()=>a,Re:()=>r,si:()=>l});var i=n(554786);let a=(e,t)=>e&&!t?e:null,l=()=>"phone"!==(0,i.ZP)()?180:130,r=()=>"phone"!==(0,i.ZP)()?180:80},916840:(e,t,n)=>{n.d(t,{Z:()=>O,I:()=>D});var i,a=n(702664);n(167912);var l=n(616550),r=n(587703),s=n(25919),o=n(582008),d=n(422210),c=n(263148),u=n(391884),p=n(558273),m=n(661428),g=n(5859),_=n(623409),h=n(624797),y=n(560007),f=n(809216),b=n(107366),S=n(217058);let x=async({pinId:e,link:t,mobileLink:n,origImageUrl:i,trackedLink:a,clientTrackingParams:l})=>{let r=await (0,b.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:l,pin_id:e??null,url:(0,p.Zt)({link:t,mobileLink:n,origImageUrl:i,trackedLink:a})??""}});if(!r||!r.resource_response||r.resource_response.error)return"error";{let{redirect_status:e}=r.resource_response.data;return e}},v=e=>{x(e).then(e=>(0,S.My)(`mweb.unauth.clickthrough_quality.${e}`))};var P=n(237040),k=n(638365),w=n(425712),T=n(546689),I=n(844998),E=n(19447);let A=void 0!==i?i:i=n(997786),C=({commerceData:e,isPromoted:t,imageSignature:n,location:i,pinId:a,trackingParams:l,viewParameter:r})=>({object_id_str:a,component:4,element:35,view_type:3,view_parameter:r,clientTrackingParams:(0,k.Z)((i.state||{}).trackingParams,l),aux_data:{commerce_data:e,image_signature:n,is_promoted:t}}),R=()=>navigator.onLine,j=({context:{completeExperience:e,dispatch:t,history:n,isAuthenticated:i,isBot:a,isSocialBot:l,location:r,logContextEvent:o,shouldUpsellHomePage:d,trackInteraction:m,userIsNew:g,viewExperience:_,unauthUserStateDispatch:f},data:{category:b,clickthroughInterstitialExperience:S,commerceData:x,domain:P,embedSrc:k,embedType:w,hasPin:T,hasPromoter:I,isPromoted:E,imageSignature:A,imagesUrls:j,link:L,linkDomainOfficialUserImageMediumUrl:F,linklessOptions:D,mobileLink:O,pinId:N,trackedLink:M,trackingParams:Z,viewParameter:B}})=>()=>{if(!T)return;let U=C({commerceData:x,imageSignature:A,isPromoted:E,location:r,pinId:N,trackingParams:Z,viewParameter:B});m({action:"click",item:"clickthrough"}),i||v({pinId:N,link:L,mobileLink:O,origImageUrl:j?.orig,trackedLink:M,clientTrackingParams:U.clientTrackingParams}),o({event_type:12,...U}),o({event_type:8948,view_type:3,view_parameter:B,object_id_str:N,clientTrackingParams:U.clientTrackingParams,aux_data:{image_signature:A,closeup_navigation_type:(0,y.Z)(n),click_type:"clickthrough",cosmic_ray_count:"1",is_promoted:E}}),!i&&A&&P&&L&&f({type:"ADD_UNAUTH_CLICKTHROUGH_PIN",payload:{imageSignature:A,pinId:N,domain:P,link:L}});let K=(0,p.Zt)({link:L,mobileLink:O,origImageUrl:j?.orig,trackedLink:M})??"",z={pin:N,client_tracking_params:U.clientTrackingParams};if(D){if(!D.actionBarIsMinifiedToMainPinImage){let e=new XMLHttpRequest;e.open("GET",(0,c.Se)(K,{queryParams:z})),e.send()}D.onTap();return}let H=!I&&(g||d);if(H&&t((0,s.kd)(1000162)),H&&S){t(_(S.placement_id,S.experience_id)),t(e(S.placement_id,S.experience_id));let n=(0,c.Se)(K,{queryParams:z}),i=(0,u.Z)({imagesUrls:j,embedSrc:k,embedType:w,excludeOriginals:!a&&!l}),s=r.pathname+r.search;if(!R())return;window.open((0,h.ru)("/pin_redirect",{domain:P??"",domainImageUrl:F??"",origin:s,pinCategory:b,pinImageUrl:i,redirectUrl:n}),"_blank")}else{if(!R())return;(0,c.Gj)(K,{queryParams:z})}},L=()=>{let e=(0,l.k6)(),t=(0,l.TH)(),n=(0,a.useDispatch)(),{unauthUserStateDispatch:i}=(0,T.Rh)(),o=(0,I.S)(),c=(0,a.useSelector)(({users:e,session:t})=>(0,d.Z)(e[t.userId].created_at)),{isAuthenticated:u,isBot:p,isSocialBot:m}=(0,g.B)(),h=(0,r.Z)();return{history:e,location:t,dispatch:n,shouldUpsellHomePage:o,userIsNew:c,isAuthenticated:u,isBot:p,isSocialBot:m,logContextEvent:h,trackInteraction:(0,_.Z)(),completeExperience:(0,s.be)(),viewExperience:(0,s.Ig)(),unauthUserStateDispatch:i}},F=e=>j({context:L(),data:e}),D=({clickthroughInterstitialExperience:e,linklessOptions:t,graphqlRef:n,viewParameter:i})=>{let a=(0,P.nF)(),l=(0,o.h)(A,n,a.closeupPageSuspenseBehavior),r=(0,m.Z)({type:"graphqlRef",data:l}),s=(0,w.Z)({type:"graphqlRef",data:l});return F({hasPromoter:!!(l.promoter&&!l.isDownstreamPromotion),viewParameter:i,clickthroughInterstitialExperience:e,linklessOptions:t,hasPin:!!l.entityId,pinId:l.entityId??"",commerceData:s,imageSignature:l.imageSignature,mobileLink:l.mobileLink,trackingParams:l.trackingParams,link:l.link,trackedLink:l.trackedLink,imagesUrls:r,embedSrc:l.embed?.src,embedType:l.embed?.type,category:l.category??"",domain:l.domain,linkDomainOfficialUserImageMediumUrl:l.linkDomain?.officialUser?.imageMediumUrl,isPromoted:l.isPromoted})},O=({clickthroughInterstitialExperience:e,linklessOptions:t,pinId:n,viewParameter:i})=>{let a=(0,E.S6)()(n),l=(0,f.Ph)(a?.promoter,a?.is_downstream_promotion),r=(0,w.Z)({type:"deprecated",data:n}),s=(0,m.Z)(null!=a?{type:"deprecated",data:a}:null);return F({hasPromoter:!!l,viewParameter:i,clickthroughInterstitialExperience:e,linklessOptions:t,hasPin:!!a,pinId:a?.id??"",commerceData:r,imageSignature:a?.image_signature,mobileLink:a?.mobile_link,trackingParams:a?.tracking_params,link:a?.link,trackedLink:a?.tracked_link,imagesUrls:s,embedSrc:a?.embed?.src,embedType:a?.embed?.type,category:a?.category,domain:a?.domain,linkDomainOfficialUserImageMediumUrl:a?.link_domain?.official_user?.image_medium_url,isPromoted:a?.is_promoted})}},311223:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(422210),a=n(558273),l=n(149722),r=n(942397),s=n(386008);function o({link:e,mobileLink:t,trackedLink:n}){let{id:o}=(0,l.Z)(),d=(0,s.mN)()(o??"");return!!(e||t||n)&&!((0,i.Z)(d?.created_at)&&!(0,r.V0)(d))&&!(0,a.ZE)(e)}},120418:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(378307);function a(e,t,n){let a=(0,i.Z)(e);return!!(a.react||a.openInApp||a.sendPin||a.downloadImageUrl||a.reportPin||a.visitPin||t||n||a.hidePin)}},413009:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(702664),a=n(224796),l=n(391884),r=n(5859),s=n(48481),o=n(731714),d=n(554786),c=n(33767),u=n(810052),p=n(170568);let m=(e,t,n,i)=>{n&&e((0,p.Cp)()),t||i(!0),setTimeout(()=>{n||e((0,p.FK)()),t&&i(!1)},3e3)};function g({embedSrc:e,embedType:t,imagesUrls:n,pinId:g,nodeId:_,isFromUnauthContextMenu:h,attributionLabel:y}){let f=(0,u.a)(),{numUnauthSavedPins:b,setNumUnauthSavedPins:S}=(0,c.U)(),x=(0,i.useDispatch)(),v=(0,d.ZP)(),P=(0,s.Z)(),k=!!(g&&f&&f.unauthSavedPinsStore.isSaved(g)),{forceShowNavFooter:w,setForceShowNavFooter:T}=(0,c.U)(),I=(0,i.useSelector)(({session:e})=>e.shouldHideNavBar)??!1,{isBot:E,isSocialBot:A}=(0,r.B)();if(f&&g)return{isSaved:k,onSave:()=>{let i="save",r=!0;if("desktop"!==v){let{unauthSavedPinsStore:s}=f,d=!!s.pins.length;!h&&s.canSaveMore()?(s.save({id:g,nodeId:_,imageUrl:(0,l.Z)({imagesUrls:n,embedSrc:e,embedType:t,excludeOriginals:!E&&!A})}),r=!1,S(b+1),m(x,w,I,T)):("desktop"!==v?x((0,p.QZ)(g)):(o.Z.setItem(a.M8,g),o.Z.setItem(a.zz,_)),i=d&&!h?"extended_save_out_of_quota":"save")}else o.Z.setItem(a.M8,g),o.Z.setItem(a.zz,_);r&&P({attributionLabel:"extended_save_out_of_quota"===i?"click_save_button_with_max_unauth_saves":y||"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:i},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}},pinId:g})},onUnsave:()=>{b>=1&&S(b-1);let{unauthSavedPinsStore:e}=f;e.unsave(g),"desktop"===v&&(o.Z.removeItem(a.M8),o.Z.removeItem(a.zz))}}}},212208:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(616550),l=n(214877),r=n(525364),s=n(5859),o=n(217058),d=n(623409),c=n(38964),u=n(156652);function p(){let{isAuthenticated:e}=(0,s.B)(),t=(0,a.TH)(),n=(0,a.k6)(),p=(0,d.Z)(),{logContextEvent:m}=(0,l.v)(),{viewType:g}=(0,r.SU)(),[_,h]=(0,i.useState)(!1),y=(0,a.$B)(),f=t.state?.trackingParams;return({linkType:t,viewParameter:i})=>{if((0,o.NC)("click_pin_closeup_image"),e||p({action:"click",item:"pin-image"}),(0,u.Z)(t),e){y.params.id&&n.push(`/pin/${y.params.id}#${c.v}`,{trackingParams:f});return}_?(m({event_type:14688,element:13319,component:14215,view_type:g,view_data:i,aux_data:{upsell_reason:"click_pin_closeup_image"}}),p({action:"click",item:"main-pin-wash"}),n.push("/signup")):((0,o.My)("main.pin.wash.show"),h(!_))}}},50786:(e,t,n)=>{n.d(t,{Z:()=>s,m:()=>r});var i=n(667294),a=n(785893);let l=(0,i.createContext)({isScrolledToPins:!1,scrollToPins:()=>{}});function r({children:e}){let[t,n]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>({isScrolledToPins:t,scrollToPins:n}),[t,n]);return(0,a.jsx)(l.Provider,{value:r,children:e})}let s=()=>(0,i.useContext)(l)},861748:(e,t,n)=>{n.d(t,{Z:()=>T,w:()=>v});var i,a=n(667294),l=n(702664);n(167912);var r=n(616550),s=n(442279),o=n(883119),d=n(478261),c=n(333739),u=n(757640),p=n(554786),m=n(494125),g=n(149722),_=n(415199),h=n(413110),y=n(110155),f=n(930822),b=n(937310),S=n(386008),x=n(785893);let v=({aggregatedPinDataId:e,featuredCommentIds:t,featuredDidItIds:n,isDesktop:i,isReversed:a=!1,noCache:l=!1})=>({name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:t,did_it_featured_ids:n,page_size:i?10:25,redux_normalize_feed:!0,is_reversed:a},noCache:l}),P=(0,s.P1)((e,t,n)=>n,({feeds:e},t)=>e[`${b.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,t,n,i)=>i,(e,t,n,i)=>t?.map(({id:t,type:a})=>{let l="aggregatedcomment"===a.toLowerCase()?e[t]:n[t];if(!l)return;let r="string"==typeof l.user?i[l.user]??{}:l.user??{};return{...l,user:r??{}}}).filter(e=>e)||[]),k=void 0!==i?i:i=n(488365),w=({aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,commentsDisabled:i,hasComments:s,isReadOnly:c,pinId:b,isVideo:k,pinnerId:w,scrollContainer:T,setIsComposingNewComment:I=()=>{},storyPinDataId:E,viewParameter:A,toggleComposerForReply:C,openMwebOverflowMenu:R})=>{let{comment_id:j}=(0,r.UO)(),L=(0,l.useDispatch)(),F=(0,p.HG)(),D=(0,g.Z)(),O=(0,a.useRef)(s),N=(0,u.Z)(O.current&&e?v({aggregatedPinDataId:e,featuredCommentIds:j?[j]:[],isDesktop:F}):null),{removeUnauthCommentPinId:M,unauthCommentPinId:Z}=(0,y.C)(),B=(0,_.lV)(),{toggleAggregatedCommentHelpful:U,toggleAggregatedCommentLike:K}=(0,_.nf)(),z=(0,S.kW)(),H=(0,l.useSelector)(t=>P(t,e,B,z)),[V,G]=(0,a.useState)(void 0),$=()=>{I(!0)};return(0,m.Z)(()=>{!F&&D.isAuth&&Z&&b&&Z===b&&($(),M())}),(0,a.useEffect)(()=>{let e=()=>{let t=!!T&&T.scrollTop+T.clientHeight+10>=T.scrollHeight;N&&!N.isFetching&&(N.isAtEnd?T?.removeEventListener("scroll",e):t&&N.fetchMore())};return T?.addEventListener("scroll",e),()=>{T?.removeEventListener("scroll",e)}},[N,T]),(0,x.jsx)(a.Fragment,{children:(0,x.jsx)(o.xu,{display:"flex",marginTop:F?6:0,width:"100%",children:(0,x.jsx)(d.Z,{aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,comments:H,commentsDisabled:i,isDesktop:F,isLoaded:N&&N.isLoaded||!s,isReadOnly:c,isVideo:k,openOverflowMenu:R,parentId:e??"",parentType:h.o.pin,pinId:b,pinnerId:w,reactionListCommentId:V,showReactionListForComment:G,storyPinDataId:E,toggleHelpful:(e,t,n)=>()=>{n?L((0,f.YH)({didItDataId:e,isMarkedHelpfulByMe:t})):U({aggregatedCommentId:e,isMarkedHelpfulByMe:t})},toggleLike:(e,t,n)=>()=>{n?L((0,f.wH)({didItDataId:e,isLikedByMe:t})):K({aggregatedCommentId:e,isLikedByMe:t})},toggleReplyComposer:C,userAvatarSize:"sm",viewParameter:A})})})};function T({pinKey:e,...t}){let{data:n}=(0,c.sr)(k,e,{type:"pin",useLegacyAdapter:e=>({aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:e.aggregated_pin_data.id??""},closeupAttribution:e.closeup_attribution&&{entityId:e.closeup_attribution.id??"",username:e.closeup_attribution.username},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,entityId:e.id,pinner:e.pinner&&{entityId:e.pinner.id},storyPinData:e.story_pin_data&&{entityId:e.story_pin_data.id??""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}})}),i=(n?.aggregatedPinData?.commentCount||0)+(n?.aggregatedPinData?.didItData?.imagesCount||0);return(0,x.jsx)(w,{aggregatedPinDataId:n?.aggregatedPinData?.entityId,closeupAttributionId:n?.closeupAttribution?.entityId,closeupAttributionUsername:n?.closeupAttribution?.username,commentsDisabled:n?.commentsDisabled,disablePhotoCommentSelection:!!n?.doneByMe,hasComments:i>0&&!n?.commentsDisabled,isVideo:!!n?.videos?.videoList,pinId:n?.entityId,pinnerId:n?.pinner?.entityId,storyPinDataId:n?.storyPinData?.entityId,...t})}},405510:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var i,a=n(667294);n(167912);var l=n(616550),r=n(883119),s=n(587703),o=n(696534),d=n(333739),c=n(140017),u=n(340523),p=n(608516),m=n(623409),g=n(149722),_=n(256661),h=n(237040),y=n(771981),f=n(785893);function b({color:e}){return(0,f.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyMiAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS4wMDAyIDJDNS45Mzc2NiAyIDEuODMzNSA2LjEwNDE3IDEuODMzNSAxMS4xNjY3QzEuODMzNSAxMy4zNjMzIDIuNjA4NSAxNS4zNzgzIDMuODk2ODMgMTYuOTU3NUwyLjY4MDE2IDIxLjQ4MDhDMi41OTEgMjEuODM3NSAyLjk3MTgzIDIyLjEyNTggMy4yOTEgMjEuOTQ0Mkw3LjUyNTE2IDE5LjY0NzVDOC41OTc2NiAyMC4wODY3IDkuNzY5MzMgMjAuMzMzMyAxMS4wMDAyIDIwLjMzMzNDMTYuMDYyNyAyMC4zMzMzIDIwLjE2NjggMTYuMjI5MiAyMC4xNjY4IDExLjE2NjdDMjAuMTY2OCA2LjEwNDE3IDE2LjA2MjcgMiAxMS4wMDAyIDJaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==")',WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",background:e}},"data-test-id":"comment-button-container",display:"flex",justifyContent:"center",minHeight:y.CR,minWidth:y.CR,position:"relative"})}var S=n(110155);let x=(0,a.lazy)(()=>Promise.all([n.e(38012),n.e(67984),n.e(48308)]).then(n.bind(n,205148))),v=void 0!==i?i:i=n(481360);function P({inCommentModuleExp:e,isEligibleForPinReactions:t,pinId:n,pinKey:i,viewParameter:P}){let k=(0,h.nF)(),{data:w,childDataKey__DEPRECATED:T}=(0,d.sr)(v,i,{type:"pin",useLegacyAdapter:e=>({videos:e.videos&&{entityId:e.videos.id||""}}),renderStrategy__DO_NOT_USE:k.closeupPageSuspenseBehavior}),I=(0,o.vs)(),E=(0,c.ZP)(),{checkExperiment:A}=(0,u.F)(),C=(0,s.Z)(),{comment_id:R}=(0,l.UO)(),{unauthCommentPinId:j}=(0,S.C)(),{isStoryPin:L,shouldRenderAsStoryPin:F}=(0,_.R)(),{isAuth:D}=(0,g.Z)(),O=(0,m.Z)(),[N,M]=(0,a.useState)(!!R||D&&!!j&&!!n&&j===n);if(!w)return null;let{anyEnabled:Z}=A(`${D?"auth":"unauth"}_mweb_reactions_expansion_mvp_${w.videos?.entityId||L?"idea_video":"web"}_pin`),B=F||I;return(0,f.jsx)(a.Fragment,{children:(0,f.jsxs)(r.xu,{"data-test-id":"comment-button",children:[(0,f.jsx)(r.iP,{accessibilityLabel:E._('comments', 'closeup.storyPin.actionBar.commentThread', 'Comments entry point'),onTap:()=>{D||O({action:"click",item:"comment-button"}),C({event_type:102,element:2,view_type:3}),C({component:L?13801:13464,element:L?10944:2,event_type:10554,view_type:L?1:3}),M(!0)},children:Z?(0,f.jsx)(r.xu,{alignItems:"center","data-test-id":"comment-button-container",display:"flex",justifyContent:"center",minHeight:y.CR,minWidth:y.CR,position:"relative",children:(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(r.xu,{position:"absolute",children:(0,f.jsx)(r.JO,{accessibilityLabel:"",color:B?"light":"dark",icon:"speech",size:24})}),(0,f.jsx)(r.xu,{position:"absolute",children:(0,f.jsx)(r.JO,{accessibilityLabel:"",color:B?"dark":"light",icon:"heart",size:10})})]})}):(0,f.jsx)(b,{color:B?"white":"black"})}),N&&(0,f.jsx)(p.Z,{children:(0,f.jsx)(x,{inCommentModuleExp:e,isEligibleForPinReactions:t,isModalOpen:!0,isReactionsExpansionEnabled:Z,onDismiss:()=>{M(!1)},pinId:n,pinKey:T,viewParameter:P})})]})})}},110155:(e,t,n)=>{n.d(t,{C:()=>s,p:()=>o});var i=n(667294),a=n(342513),l=n(785893);let{Provider:r,useHook:s}=(0,a.Z)("Session");function o({children:e}){let[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)(()=>n(void 0),[]),s=(0,i.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:a}),[t,a]);return(0,l.jsx)(r,{value:s,children:e})}},282778:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),a=n(240684),l=n(883119),r=n(140017),s=n(862249),o=n(983983),d=n(785893);let c=new l.Ry(o.fe),u=new l.H3([c]),p=new l.H3([u]),m={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},g={width:540,height:363},_={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},h={width:320,height:215},y=(0,a.ZP)({resolved:{},chunkName:()=>"app-www-video-VideoWrapper",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93041),n.e(84452),n.e(95813)]).then(n.bind(n,131348)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>131348}),f=e=>{let{isMobile:t,image:n,video:i,handleDismiss:a,title:s}=e,o=(0,r.ZP)(),c=t?_:m,u=t?h:g,f=(0,d.jsx)(l.xu,{display:"flex",justifyContent:t?"start":"end",margin:c.closeButtonMargin,position:"absolute",width:u.width-2*c.modalMargin,zIndex:p,children:(0,d.jsx)(l.hU,{accessibilityLabel:o._('Dismiss', 'experiences.ExperienceModalWindow.modalDismissIconButton', 'Accessibility lable for the X icon button to dismiss the modal window'),icon:"cancel",iconColor:"darkGray",onClick:a,size:"sm"})}),b=n?n.imageAlt:s,S=n?n.url:i?.metadata?.thumbnail,x=n?.dominantColor?.length===3?`rgb(${n.dominantColor[0]}, ${n.dominantColor[1]}, ${n.dominantColor[2]})`:"rgb(111, 91, 77)",v=u.width/u.height,P={width:u.width,height:u.height};n&&n.width&&n.height?(v=n.width/n.height,P={width:n.width,height:n.height}):i&&i.metadata.width&&i.metadata.height&&(v=i.metadata.width/i.metadata.height,P={width:i.metadata.width,height:i.metadata.height});let k=S&&(0,d.jsx)(l.Ee,{alt:b||"",color:x,fit:"cover",naturalHeight:P.height,naturalWidth:P.width,src:S}),w=Math.trunc(u.width/v);return(0,d.jsxs)(l.xu,{bottom:!0,height:w,left:!0,overflow:"hidden",right:!0,top:!0,width:u.width,children:[f,n&&k,i&&(0,d.jsx)(y,{aspectRatio:v,captions:"",controls:!1,fallback:k,isAutoPlay:!0,loop:!0,objectFit:"cover",onPlay:()=>{},onPlayError:()=>{},playing:!0,playsInline:!0,poster:n?.url||i.metadata.thumbnail,src:i.url,volume:0})]})};function b(e){let{displayData:t,handleComplete:n,handleDismiss:a,isMobile:r}=e,{video:o,image:c,title:u,body:p,completeButton:g,dismissButton:h}=t,y=r?_:m,b=r?"center":"start",S=(0,s.Z)({url:g.url});return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(f,{handleDismiss:a,image:c,isMobile:r,title:u,video:o}),(0,d.jsxs)(l.xu,{direction:"column",display:"flex",justifyContent:"center",margin:y.gestaltModalMargin,children:[(0,d.jsx)(l.X6,{align:b,children:u}),(0,d.jsx)(l.xu,{marginBottom:4,marginTop:2,children:(0,d.jsx)(l.xv,{align:b,children:p})}),(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:r?"center":"end",margin:-1,children:[h&&!h.hideDismissButton&&(0,d.jsx)(l.xu,{fit:!0,flex:r?"grow":"none",minWidth:r?130:void 0,padding:1,children:(0,d.jsx)(l.zx,{color:"gray",fullWidth:r,onClick:a,size:"lg",text:h.text})}),g&&(0,d.jsx)(l.xu,{fit:!0,flex:r?"grow":"none",minWidth:r?130:void 0,padding:1,children:g.url?(0,d.jsx)(l.ZP,{color:"red",fullWidth:r,href:g.url,onClick:()=>n(),rel:S?"nofollow":"none",size:"lg",text:g.text}):(0,d.jsx)(l.zx,{color:"red",fullWidth:r,onClick:()=>n(),size:"lg",text:g.text})})]})]})]})}},920572:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(401429),a=n(667294),l=n(883119),r=n(406893),s=n(444781),o=n(887582),d=n(325362),c=n(876594),u=n(696534),p=n(340370),m=n(460270),g=n(862249),_=n(785893);let h=40,y={lightMode:{backgroundColor:c.x_d,color:"#FFFFFF"},darkMode:{backgroundColor:c.x_d,color:"#FFFFFF"}},f={lightMode:{backgroundColor:"#EFEFEF",color:"#111111"},darkMode:{backgroundColor:"#292929",color:"#EFEFEF"}},b=({color:e,isPrimary:t,shape:n,text:i,textColor:a})=>{let r=(t?y:f)[(0,u.Yc)()?"darkMode":"lightMode"];return(0,_.jsx)(l.xv,{align:"center",weight:"bold",children:(0,_.jsx)("div",{className:t?"banner-button-primary":"banner-button-secondary",style:{backgroundColor:e||r.backgroundColor,borderRadius:"pill"===n?"24px":"4px",color:a||r.color,padding:"10px 14px"},children:i})})},S=({external:e,onTouch:t,pressState:n,to:i,accessibilityLabel:a,color:r,isPrimary:s,textColor:o,minHeight:d=h,shape:c,text:u})=>{let y=(0,m.Z)(i),f=(0,p.Z)({externalData:{dangerouslyForceOffsiteUrl:e},href:y});return(0,_.jsx)(l.xu,{"aria-label":a,minHeight:d,children:y?(0,_.jsx)(l.Tg,{href:y,onTap:({event:e})=>{t?.(e),e.defaultPrevented||f({event:e})},rel:(0,g.Z)({url:y})?"nofollow":"none",rounding:"pill"===c?"pill":2,tapStyle:n||"none",target:"blank",children:(0,_.jsx)(b,{color:r,isPrimary:s,shape:c,text:u,textColor:o})}):(0,_.jsx)(l.iP,{onTap:({event:e})=>t?.(e),rounding:"pill"===c?"pill":2,tapStyle:n||"none",children:(0,_.jsx)(b,{color:r,isPrimary:s,shape:c,text:u,textColor:o})})})};function x(e){return e.startsWith("https://")||e.startsWith("http://")}let v=function({experience:e,onComplete:t,onDismiss:n}){let{display_data:i={},experience_id:c,placement_id:u}=e||{},{backgroundColorNarrowMweb:p,backgroundColorWideMweb:m,backgroundImageNarrow:g,backgroundImageWide:h,button1ColorNarrowMweb:y,button1ColorWideMweb:f,button1TextColorNarrowMweb:b,button1TextColorWideMweb:v,button1Text:P,button1Uri:k,button2ColorNarrowMweb:w,button2ColorWideMweb:T,button2TextColorNarrowMweb:I,button2TextColorWideMweb:E,button2Text:A,button2Uri:C,completeButtonAction:R,coverImage:j,detailedTextWithLinks:L,iconImage:F,layoutNarrow:D,layoutWide:O,links:N,linkTitles:M,primaryColorNarrowMweb:Z,primaryColorWideMweb:B,titleText:U}=(0,a.useMemo)(()=>(0,s.Z)(d.Z)(i),[i]),{windowWidth:K}=(0,o.Z)(),z=K<=480,H=z?D:O,V=!z&&3!==H,G=z?p:m,$=z?Z:B,{altText:W,uri:q}=(z?g:h)||{},{altText:Y,uri:X}=j||{},{altText:J,uri:Q}=F||{},ee=z&&2===H||!z&&2===H,et=z?"96px":"48px",en=z&&3===H,ei=e=>{!e&&u&&c&&n&&n()},ea=e=>{t&&t(e)},el=P&&(0,_.jsx)(l.xu,{marginEnd:2,children:(0,_.jsx)(S,{accessibilityLabel:P,color:z?y:f,external:k?x(k):void 0,onTouch:()=>ei(k),shape:"pill",text:P,textColor:z?b:v,to:k})}),er=A&&(0,_.jsx)(S,{accessibilityLabel:A,color:z?w:T,external:C?x(C):void 0,isPrimary:!0,onTouch:()=>ea(R),shape:"pill",text:A,textColor:z?I:E,to:C}),es=N.reduce((e,t,n)=>{let i=x(t)?'rel="noreferrer noopener" target="_blank"':"",a=`<a href="${t}" ${i}>${M[n]}</a>`;return e.replace(`{${n}}`,a)},L),eo={backgroundImage:!q||ee||en?void 0:`url(${q})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:G,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},marginBottom:1,rounding:4,children:(0,_.jsxs)(l.zd,{rounding:4,children:[en&&X&&(0,_.jsx)(l.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,_.jsx)(l.Ee,{alt:Y||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:X})}),(0,_.jsxs)(l.xu,{alignItems:"center","aria-label":W,dangerouslySetInlineStyle:{__style:eo},direction:V?"row":"column",display:"flex",justifyContent:"between",marginTop:en?-2:0,padding:6,children:[(0,_.jsxs)(l.kC,{alignItems:"center",direction:V?"row":"column",justifyContent:"between",maxWidth:V?void 0:"560px",children:[ee&&Q&&(0,_.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:V?0:6,marginEnd:V?4:0,children:(0,_.jsx)(l.xu,{height:et,width:et,children:(0,_.jsx)(l.zd,{rounding:V?4:6,children:(0,_.jsx)(l.Ee,{alt:J||"icon",naturalHeight:1,naturalWidth:1,src:Q})})})}),!V&&U&&(0,_.jsx)(l.xv,{align:"center",weight:"bold",children:(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:$,fontSize:"20px"}},marginBottom:2,children:U})}),L&&(0,_.jsxs)(l.xv,{align:V?"start":"center",overflow:"normal",children:[(0,_.jsx)(r.Z,{unsafeCSS:`
                      .nag-text a {
                        color: ${$||""};
                        font-weight: bold;
                      }`}),(0,_.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:es},style:{color:$}})]})]}),(el||er)&&(0,_.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:V?0:-1,marginStart:V?4:0,marginTop:V?0:4,wrap:!V,children:[el,er]})]})]})})},P=({experience:e={}})=>(0,_.jsx)(i.Z,{experience:e,predicate:e=>e&&e.display_data&&1===e.display_data.component_type,children:({complete:e,dismiss:t,experience:n})=>(0,_.jsx)(v,{experience:n,onComplete:e,onDismiss:t})})},702499:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),l=n(25919),r=n(401429),s=n(785893);let o=[502321,502322];class d extends i.Component{componentDidMount(){let{experience:e,completeExperience:t}=this.props;e&&o.includes(e.experience_id)&&t(e.placement_id,e.experience_id,!0)}render(){return(0,s.jsx)(r.Z,{eligibleIds:o,experience:this.props.experience,children:(0,s.jsx)("span",{})})}}function c(e){let t=(0,a.useDispatch)(),n=(0,l.be)();return(0,s.jsx)(d,{...e,completeExperience:(e,i,a)=>t(n(e,i,a))})}},622155:(e,t,n)=>{n.d(t,{_l:()=>b,cO:()=>f,t2:()=>S,w2:()=>x,xM:()=>y});var i=n(667294),a=n(616550),l=n(216167),r=n(96157),s=n(624797),o=n(554786),d=n(149722),c=n(785893);let u="UnauthDesktopSocialPinLandingPageContext",p="AthDesktopSocialPinLandingPageContext",m="AuthMobileSocialPinLandingPageContext",g=(0,i.createContext)(),_=({children:e})=>{let[t,n]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:n,hasSeenAuthDesktopLandingToast:a,setHasSeenAuthDesktopLandingToast:l}),[t,n,a,l]);return(0,c.jsx)(g.Provider,{value:r,children:e})},h=(0,i.createContext)({key:"",data:null}),y=({children:e})=>{let t=(0,a.TH)(),n=(0,d.Z)(),g=n&&n.isAuth,y=(0,o.HG)(),f=(0,i.useRef)((0,r.fY)(t)&&(0,s.mB)(t.search).invite_code||null),b=(0,a.LX)(t.pathname,{path:"/pin/:id"}),S=b&&b.params.id||"",[x,v]=(0,i.useState)({key:"",data:null});return(0,i.useEffect)(()=>{(async function(){let e=f.current;if(e)try{let t=l.Z.create("InviteCodeMetadataResource",{invite_code:e}),i=(await t.callGet()).resource_response.data;if(i){let e=i.sender??null,t=g&&e.id!==n.id&&e?.should_show_messaging&&n.should_show_messaging;!g&&y?v({key:u,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(i.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):t&&!y?v({key:m,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:S}}}}):t&&y&&v({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:S}}}})}else v({key:"",data:null})}catch{v({key:"",data:null})}})()},[g,y,n.id,S,n.should_show_messaging]),(0,c.jsx)(_,{children:(0,c.jsx)(h.Provider,{value:x,children:e})})},f=()=>{let e=(0,i.useContext)(h);return e.key===u?e:null},b=()=>{let e=(0,i.useContext)(h);return e.key===m?e:null},S=()=>{let e=(0,i.useContext)(h);return e.key===p?e:null},x=()=>(0,i.useContext)(g)},61714:(e,t,n)=>{n.d(t,{Z:()=>i});function i({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:i}){if(i)return JSON.stringify({pin_is_shop_the_look:i.includes(2),pin_show_pdp:e||t||n,is_available:i.includes(1),is_product_pin_v2:i.includes(5),is_rich_product_pin:i.includes(6)})}},638365:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){return e||`${t||""}~0`}},425712:(e,t,n)=>{n.d(t,{Z:()=>s}),n(167912);var i,a=n(333739),l=n(61714);let r=void 0!==i?i:i=n(148452);function s(e){let{data:t}=(0,a.sr)(r,e,{type:"pin",useLegacyAdapter:e=>({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,shoppingFlags:e.shopping_flags})});return t?(0,l.Z)({isEligibleForPdp:t.isEligibleForPdp,isOosProduct:t.isOosProduct,isStaleProduct:t.isStaleProduct,pinShoppingFlags:t.shoppingFlags}):null}},669177:(e,t,n)=>{n.d(t,{G3:()=>c,Rp:()=>d,kp:()=>s});var i=n(188349),a=n(191313),l=n(573810);let r=14*i.F4,s=(e,t)=>{let n=function(){let e=Date.now(),t=Number((0,a.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,a.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:!!(0,l.qn)("showedAppUpsellCurrentSession")}}();return e?function(e,t,n){let{currentTime:i,firstUpsellTime:l,lastUpsellTime:s,showedAppUpsellCurrentSession:o}=e;return(n=n||r,!l||i<l+t)?!o:i-s>n&&((0,a.L_)("firstUpsellTime"),!0)}(n,i.F4):function(e,t){let{currentTime:n,lastUpsellTime:i}=e;return t=t||r,!i||n-i>t}(n,t)},o=e=>{let t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},d=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&7>parseFloat(o(n))}catch(e){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},407053:(e,t,n)=>{n.d(t,{AA:()=>l,E9:()=>y,EU:()=>S,IO:()=>b,KH:()=>c,Lg:()=>m,QR:()=>d,Uw:()=>a,ZR:()=>x,dx:()=>g,dy:()=>o,eA:()=>p,eV:()=>_,fo:()=>h,k7:()=>r,rT:()=>f,tz:()=>u,u9:()=>v,zR:()=>s,zu:()=>i});let i="OPEN_UNAUTH",a="openUnauthType",l="_isAfterLogin",r="_lastVisitedPages",s="_lastVisitedPagesBeforeLogin",o="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=100,m="_inviteCodeRedemption",g="_inviteCodeRedemptionList",_="_paidTrafficLand",h="_unauthReferrerString",y="unauthTopicsFollowed",f=["US","CA","NZ","AU"],b=new Set(["GB","IE"]),S=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),x=new Set(["BR","MX","AR","CL","CO","PE"]),v="ad_img"},156652:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(953565);let a=e=>{(0,i.nP)(`closeup.image.clicked.${e}`,{sampleRate:1,tags:{platform:"mobile"}})}},323294:(e,t,n)=>{n.d(t,{AH:()=>d,CK:()=>o,Fc:()=>r,Wj:()=>l,Xe:()=>a,kb:()=>s,wS:()=>i});let i=(e,t,n,i)=>t||(e?e.official_user:n||i);function a({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:n,pinDomain:i,sourceUserUsername:a,sourceUserFullName:l}){return!t&&(e||n)&&a?{pinCreditLink:`/${a}/`,pinCredit:l}:{pinCreditLink:void 0,pinCredit:!t&&e?i:""}}let l=({i18n:e,hasLinkDomain:t,hasRichMetadataArticle:n,hasRichMetadataRecipeCategorizedIngredients:i,hasRichMetadataTutorial:a,richMetadataRecipeFromAggregatedData:l})=>(!t||l)&&e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation')||a&&e._('Saved from ', 'pin annotation', 'pin annotation')||i&&e._('Recipe from ', 'pin annotation', 'pin annotation')||n&&e._('Article from ', 'pin annotation', 'pin annotation')||e._('From ', 'Closeup pin annotation', 'Closeup pin annotation');function r({i18n:e,hasRichMetadataProductOfferSummary:t,richMetadataProductName:n,richSummaryProductName:i,hasRichSummaryProductOfferSummary:a}){return t&&n||!t&&i&&a?e._('Product sold by ', 'pin annotation', 'pin annotation'):""}let s=({hasLinkDomain:e,richMetadata:t,richSummary:n})=>e&&!t?.recipe?.fromAggregatedData&&t?.products&&t.products[0]&&t.products[0].name&&t.products[0].offerSummary?t.products[0].offerSummary:n?.products&&n.products[0]&&n.products[0].name&&n.products[0].offerSummary?n.products[0].offerSummary:void 0,o=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140,d=e=>!!e&&!e.startsWith("https://i.pinimg.com")},838458:(e,t,n)=>{n.d(t,{J:()=>l,f:()=>r});var i=n(782677),a=n(539426);let l=(e,{bookmark:t,options:n,schema:i})=>{let l=i||a.Z[e];return"function"==typeof l?l({resource:e,options:n,bookmark:t}):l};function r({data:e,opts:{bookmark:t,options:n,schema:a},resource:r}){let s=l(r,{bookmark:t,options:n,schema:a});return{normalizedResponse:s&&e?(0,i.Fv)(e,s):null,resourceSchema:s}}},508868:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return!!e.key}},344278:(e,t,n)=>{n.d(t,{CC:()=>o,H$:()=>c,Mt:()=>r,dp:()=>d,p9:()=>u});var i=n(191313),a=n(573810),l=n(407053);let r=(e,t,n,a,r,s,o=l.k7)=>{let d=(0,i.qn)(o)?JSON.parse((0,i.qn)(o)):[];if(!d[0]||d[0].path!==e){let l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:a||"",pin_description:r||"",is_shared:!!s,pin_invite_code:s}];(0,i.Nh)(o,JSON.stringify(l.concat(d)))}},s=()=>{let e;let t=(0,a.qn)(l.KH);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},o=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:r})=>{let o=s();o[0]&&o[0].path===e||(0,a.Nh)(l.KH,JSON.stringify([{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:r||""}].concat(o)))};function d(e,t,n,i,a,s){r(e,t,n,i,a,s,l.zR)}let c=(e,t,n,i,a)=>{r(e,t,n,i,a??"","",l.dy)};function u(e,t,n,i,a){r(e,t,n,i,a,"",l.QR)}},546689:(e,t,n)=>{n.d(t,{Cb:()=>Z,Ff:()=>eu,K7:()=>q,Lp:()=>D,MM:()=>er,N7:()=>W,O0:()=>em,OJ:()=>M,PW:()=>eg,Rh:()=>ea,S2:()=>N,Vd:()=>X,Yi:()=>es,Yy:()=>ed,Z4:()=>C,ZN:()=>x,dc:()=>K,di:()=>O,i$:()=>T,iU:()=>Y,nR:()=>F,oQ:()=>ep,t_:()=>k,z$:()=>B});var i=n(667294),a=n(216167),l=n(224796),r=n(836313),s=n(658583),o=n(622541),d=n(342513),c=n(731714),u=n(191313),p=n(573810),m=n(217058),g=n(624797),_=n(487487),h=n(494125),y=n(407053),f=n(942397),b=n(785893);let S=new Set([...r.Z,"UK"]),x=["utm_pai","utm_source","invite_code"],v=e=>{let t=[...e];return t.reverse(),t},P=function(e){return{...e,ts:Date.now()}},k=()=>(0,u.qn)(y.tz,"");function w(e,t){let n;try{n=JSON.parse(e)}catch(e){n=t}return n}let T=()=>w(k(),[]),I=()=>w((0,u.qn)(l.s1,""),[]),E=()=>w((0,u.qn)(l.Vb,""),[]),A=({pinId:e,link:t,imageSignature:n,domain:i})=>{let a=[...E()],r=a.length,s=r?a[0].pinId:"";if(r>=y.eA&&a.pop(),!r||e!==s){let r=P({pinId:e,link:t,imageSignature:n,domain:i});(0,u.Nh)(l.Vb,JSON.stringify([r].concat(a)))}},C=(e,t)=>{let n=[...T()],i=n.length,a=i?n[0].path:"";if(i>=y.eA&&n.pop(),!i||e!==a){let i=P({path:e,pageType:t});(0,u.Nh)(y.tz,JSON.stringify([i].concat(n)))}},R=()=>w((0,u.qn)(l.ny,""),[]),j=()=>parseInt((0,u.qn)(l.rN,0),10),L=()=>w((0,u.qn)(y.dx,""),[]),F=()=>w((0,u.qn)(y.Lg,""),null),D=e=>{if(!e)return;let t=[...L()],n=P({inviteCode:e});(0,u.Nh)(y.Lg,JSON.stringify(n)),t.length>=y.eA||(0,u.Nh)(y.dx,JSON.stringify([n].concat(t)))},O=()=>w((0,u.qn)(y.eV,""),null),N=(e,t)=>{if(!e)return;let n=P({...!!t&&{adImageUrl:t},campaignId:e});(0,u.Nh)(y.eV,JSON.stringify(n))},M=()=>(0,u.qn)(y.fo,""),Z=e=>{(0,u.Nh)(y.fo,e)},B=()=>{k()&&(0,u.L_)(y.tz),(0,u.qn)(l.ny)&&(0,u.L_)(l.ny),(0,u.qn)(l.Vb)&&(0,u.L_)(l.Vb),F()&&((0,u.L_)(y.Lg),(0,u.L_)(y.dx)),O()&&(0,u.L_)(y.eV),M()&&(0,u.L_)(y.fo)},U=()=>{let e=T().filter(e=>"closeup"===e.pageType),t=new Set(e.map(({path:e})=>e));return v(e).reduce((e,n)=>(t.has(n.path)&&(t.delete(n.path),n.id=(0,_.Z)(n.path),e.push(n)),e),[])};function K(){return U().length}let z=({query:e,rs:t,scope:n,rg:i})=>{let a=[...R()],r=a.length,s=r?a[0].query:"";r>=y.eA&&a.pop();let o=a.filter(t=>t.query!==e);if(!r||e!==s){let a=P({query:e,rs:t,scope:n,rg:i});(0,u.Nh)(l.ny,JSON.stringify([a].concat(o)))}},H=({query:e})=>{let t=[...R()].filter(t=>t.query!==e);(0,u.Nh)(l.ny,JSON.stringify(t))},V=()=>{try{return JSON.parse((0,u.qn)(l.Y8))}catch(e){return null}},G=(e,t,n)=>{let i="pc.auth.multi_account_storage";e&&(i+=".email"),n&&(i+=".facebook"),t&&(i+=".google"),(0,m.My)(i)},$=({hasPassword:e,googleConnection:t,facebookConnection:n,pastLogins:i})=>{let a=[],r=c.Z.getItem(l.V6),s=n||i.includes("facebook")||"facebook"===r,o=t||i.includes("google")||"google"===r;return e&&a.push("email"),s&&a.push("facebook"),o&&a.push("google"),G(e,o,s),a},W=({avatar:e,username:t,email:n,hasPassword:i,googleConnection:a,facebookConnection:r})=>{let s=V(),o=c.Z.getItem(l.V6),d=[];s?(d=$({hasPassword:i,googleConnection:a,facebookConnection:r,pastLogins:s[t]?.loginMethods||d}),s[t]={avatar:e,loginMethods:d,email:n,lastLogin:o},c.Z.setItem(l.Y8,s),(0,m.My)(`pc.auth.multiple_account_storage.num_accounts.${Object.keys(s).length}`)):(d=$({hasPassword:i,googleConnection:a,facebookConnection:r,pastLogins:[]}),c.Z.setItem(l.Y8,{[t]:{avatar:e,loginMethods:d,email:n,lastLogin:o}}),(0,m.My)("pc.auth.multiple_account_storage.num_accounts.1"))},q=()=>({count:1,time:0,ts:Date.now()}),Y=()=>{try{let{count:e,time:t,ts:n}=JSON.parse((0,u.qn)(l.SI));if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return{count:e,time:t,ts:n};throw Error("Invalid revisitation data")}catch(e){return q()}},X=e=>{(0,u.Nh)(l.SI,JSON.stringify(P(e)))},J=(e,t,n)=>{if(e>=n)return`${n}+`;if(e<=0)return"0";let i=e.toString();if(e>t){let n=Math.floor(e/t);i=`${n*t}+`}return i},Q=e=>J(e,5,20),ee=(e,t,n)=>t.reduce((t,n)=>(Array.isArray(e[n])&&(t[n+"Count"]=Q(e[n].length)),t),n),et=e=>({...e,_updateUnauthUserAggregateDefinitions:function(){let{completedSearches:t,closeupPins:n,clickthroughPins:i,downloadedPinsCount:a}=e;e.isQUS=Number(t.length>=1||n.length>=3||i.length>=1||a>=1)},_getDaysSinceLastRevisitation:function(){let{revisitationState:t}=e,{ts:n}=t,i=new Date,a=new Date(n||i),l=Math.max(Math.floor(Number(((i.getTime()-a.getTime())/864e5).toFixed(2))),0),r=J(l,7,84);return[l,r]},getStatslogData:function(){return{core:ee(e,[],{isQUS:e.isQUS.toString(),isAllowedCountry:e.isAllowedCountry.toString(),daysSinceLastRevisitationBucket:e.daysSinceLastRevisitationBucket}),counts:ee(e,["closeupPins","completedSearches","clickthroughPins","savedPins","invitesRedeemed"],{revisitationCount:Q(e.revisitationState.count||1),downloadedPinsCount:Q(e.downloadedPinsCount)})}}}),en=({isAuthenticated:e,countryFromIp:t,countryFromHostName:n})=>{let i={isAuthenticated:Number(e),countryFromIp:t||"",countryFromHostName:n||"",closeupPins:[],completedSearches:[],clickthroughPins:[],downloadedPinsCount:0,savedPins:[],invitesRedeemed:[],isQUS:0,revisitationState:q(),daysSinceLastRevisitation:0,daysSinceLastRevisitationBucket:"0",isAllowedCountry:Number(!(S.has(t||"")||S.has(n||"")))};if(e||!i.isAllowedCountry)return Object.freeze({...et(i),...i});i.closeupPins=U(),i.completedSearches=R(),i.clickthroughPins=E(),i.downloadedPinsCount=j(),i.savedPins=I(),i.invitesRedeemed=L(),i.revisitationState=Y();let a=et(i),[l,r]=a._getDaysSinceLastRevisitation();return i.daysSinceLastRevisitation=l,i.daysSinceLastRevisitationBucket=r,a._updateUnauthUserAggregateDefinitions(),Object.freeze({...a,...i})},{Provider:ei,useHook:ea}=(0,d.Z)("UnauthUserStateContext");function el(e,t){let{isAuthenticated:n,countryFromIp:i,countryFromHostName:a,isAllowedCountry:l}=e;if(n||!l)return e;switch(t.type){case"UPDATE":break;case"ADD_UNAUTH_COMPLETED_SEARCH":z(t.payload);break;case"REMOVE_UNAUTH_COMPLETED_SEARCH":H(t.payload);break;case"ADD_UNAUTH_CLICKTHROUGH_PIN":A(t.payload);break;default:return e}return en({isAuthenticated:n,countryFromIp:i,countryFromHostName:a})}function er({children:e,initialState:t}){let[n,a]=(0,i.useReducer)(el,t,en);(0,h.Z)(()=>{a({type:"UPDATE"})});let l=(0,i.useMemo)(()=>({unauthUserState:n,unauthUserStateDispatch:a}),[n,a]);return(0,b.jsx)(ei,{value:l,children:e})}function es(){let e=a.Z.create("UnauthUserDataResource");return new Promise((t,n)=>{e.callGet().then(e=>{let i=e.resource_response.data,a=!!s.U2(o.x3);return i?((0,f.Wn)(i.medium_image_url)&&(i.medium_image_url=""),(0,m.My)(`mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_${a?"true":"false"}`),t(i)):((0,m.My)(`mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_${a?"true":"false"}`),n({}))}).catch(e=>{if(e&&e.message){let t=e.message.replace(/\s/g,"_").toLowerCase();(0,m.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,m.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})}function eo({i18n:e,location:t}){let n;let i=t.pathname.startsWith("/signup"),a=t.pathname.startsWith("/login");if(!i&&!a)return{showPLPBanner:!1,pinForBanner:null};try{n=JSON.parse((0,p.qn)(y.KH))}catch(e){n=[]}if(n&&n.length>0){let t=n[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:!!t.image,pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}let ed=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function ec({i18n:e,location:t}){let n=t.state?.next||ed(t);if(n){let t=n.indexOf("?"),i=(0,g.mB)(n.substring(t));if(i.url&&i.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,g.Jx)(i.media),height:1,width:1},pinDescription:i.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function eu({i18n:e,location:t}){return ec({i18n:e,location:t}).showPLPBanner?ec({i18n:e,location:t}):eo({i18n:e,location:t}).showPLPBanner?eo({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}let ep=(e,t)=>e?`https://i.pinimg.com/${t||"474x"}/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",em=e=>e?`https://i.pinimg.com/75x75/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",eg=e=>e?`https://i.pinimg.com/236x/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:""},844998:(e,t,n)=>{n.d(t,{E:()=>r,S:()=>s});var i=n(667294),a=n(191313);let l="_loggingInNotHome",r=e=>{e?(0,a.Nh)(l,1):(0,a.L_)(l)},s=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!0)},[]),e&&(0,a.qn)(l)}},736079:(e,t,n)=>{n.d(t,{Z:()=>u,x:()=>c});var i=n(667294),a=n(217058),l=n(785893);let r=(0,i.createContext)(()=>{}),s=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="hidden")},o=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},d=()=>(0,i.useEffect)(()=>o,[]),c=({children:e})=>{let[t,n]=(0,i.useState)(null);d();let c=(0,i.useCallback)(e=>{(0,a.My)("dweb.unauth.context_menu.open_menu"),s(),n(e)},[]),u=!!t;return(0,i.useEffect)(()=>{let e=()=>{n(null),o(),(0,a.My)("dweb.unauth.context_menu.click_away")};return u&&document.addEventListener("click",e),()=>{u&&document.removeEventListener("click",e)}},[u]),(0,l.jsx)(r.Provider,{value:c,children:(0,l.jsxs)(i.Fragment,{children:[e,t]})})},u=()=>(0,i.useContext)(r)},942397:(e,t,n)=>{function i(e){return!!e?.is_matured_new_user}n.d(t,{IR:()=>r,V0:()=>i,Wn:()=>l,xT:()=>a});let a=e=>!!e&&2===e.login_state,l=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},174281:(e,t,n)=>{n.d(t,{D5:()=>s,Hg:()=>a,T_:()=>r,g6:()=>l,w6:()=>i});let i=(e,t)=>Array.from({length:t-e},(t,n)=>n+e),a=508,l=600;function r(e,t){return t.startsWith("en")?e.split(" ").map(e=>e===e.toUpperCase()?e:e.toLowerCase()).join(" "):e}let s=()=>{let e=new URL(window.location.href),t=e.hostname.replace("www.",""),n=e.pathname;return n=n.replace(/\/\d+\//,"/").replace(/\/$/,""),`${t}${n}`}},439278:(e,t,n)=>{n.d(t,{Z:()=>i});let i=({name:e,width:t,height:n})=>{let i=`${t}${"number"==typeof t?"px":""}`,a=`${n}${"number"==typeof n?"px":""}`,l="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${l} ${a};
  width: ${i};
  height: ${a};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${l}px 0;
  }
  100% {
      background-position: ${l}px 0;
  }
}
`}},166770:(e,t,n)=>{n.d(t,{H:()=>a,o:()=>i});let{Provider:i,useHook:a}=(0,n(342513).Z)("LimitedLogin")},735728:(e,t,n)=>{n.d(t,{N4:()=>l,Wh:()=>i,hr:()=>a});let i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),l=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},739382:(e,t,n)=>{n.d(t,{Bb:()=>_,Bx:()=>s,F4:()=>r,Qj:()=>o,_6:()=>g,gv:()=>l,hg:()=>d,is:()=>p,jP:()=>m,lt:()=>a,oM:()=>c,wI:()=>u});var i=n(624797);let a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),l=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{let t=(0,i.mB)(e.search).board_url;if(t){let e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),o=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),c=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),u=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},p=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),m=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),_=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},358589:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(140017),a=n(554786),l=n(166770),r=n(735728);let s=()=>{let e=(0,i.ZP)(),t=(0,a.HG)(),{viewer:n,loginForMore:s,limitedLoginModalSubheader:o,limitedLoginModalNextLocation:d}=(0,l.H)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:i})=>a=>{let l=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?l=a:a.event&&(l=a.event)),l&&(l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()),s?.setVisible(!0),o?.setText(n||(t?r.hr(e):r.Wh(e))),i&&d?.setRoute(i)}:({fn:e})=>e}},92056:(e,t,n)=>{n.d(t,{Hn:()=>u,Jw:()=>h,L7:()=>i,Qc:()=>a,Tt:()=>f,UF:()=>d,UV:()=>r,W1:()=>l,Ws:()=>p,ZW:()=>o,cK:()=>y,cy:()=>_,k:()=>g,o4:()=>m,tr:()=>c,vF:()=>s});let i=1,a=2,l="female",r="male",s="unspecified",o="en-US",d="US",c=3,u="has_done_closeup",p="Gender",m="InterestPicker",g="UseCase",_="LoadingStep",h="AppInstall",y={NUX_GENDER_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:m,NUX_USE_CASE_STEP_NAME:g,NUX_LOADING_STEP_NAME:_,NUX_APP_INSTALL_STEP_NAME:h},f=2500},708171:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(376030),l=n(883119),r=n(140017),s=n(55202),o=n(494125),d=n(406893),c=n(785893);let u=`
@keyframes baseEduToastIconScale {
  0% {
    transform: scale(0)
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
}
`;function p({addedStyles:e,button:t,headerText:n,icon:a,iconOverride:r,minHeight:s,subHeaderText:o}){return(0,c.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingX:2,width:"100vw",children:(0,c.jsxs)(l.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:s||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{let e=r||(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:u}),(0,c.jsx)(l.xu,{alignItems:"center",color:"education",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},"data-test-id":"pin-save-toast",direction:"column",display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(l.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,c.jsx)(l.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(l.xu,{"data-test-id":"pin-save-toast-header",marginEnd:"auto",children:[(0,c.jsx)(l.xv,{color:"default",weight:"bold",children:n}),!!o&&(0,c.jsx)(l.xu,{paddingY:1,children:(0,c.jsx)(l.xv,{color:"default",size:"300",children:o})})]}),(0,c.jsx)(l.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var m=n(915163);function g(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _="cubicBezier(0.25, 0.1, 0.25, 1)",h="encourageToastIconContainer",y="encourageToastIconRadiateBg",f="encourageToastIconRadiateRing",b={targets:`#${h}`,duration:300,scale:1.4,easing:_},S={targets:`#${h}`,duration:300,scale:1,easing:_,endDelay:1e3},x={targets:`#${h}`,duration:300,scale:.42,easing:_},v={targets:`#${y}`,duration:400,opacity:0,scale:1.6,easing:_},P={targets:`#${f}`,duration:650,opacity:0,scale:2,easing:_};class k extends i.PureComponent{constructor(...e){super(...e),g(this,"delayTimer",null),g(this,"requestAnimationFrameId",null),g(this,"playAnimation",()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>{(0,a.Z)(v),(0,a.Z)(P),(0,a.Z)(b).finished.then(()=>{(0,a.Z)(S).finished.then(()=>{a.Z.set(`#${h}`,{transformOrigin:"top right"}),(0,a.Z)(x)})})})}),g(this,"getHeaderText",()=>{let{text:e}=this.props;return Array.isArray(e)?e[0]:e}),g(this,"getIconProps",()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})),g(this,"getSubHeaderText",()=>{let{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""}),g(this,"renderAnimatedIcon",()=>(0,c.jsxs)(l.xu,{height:68,position:"relative",width:68,children:[(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:"4px",top:"4px"}},"data-test-id":"pin-save-toast",height:60,overflow:"hidden",position:"absolute",rounding:4,width:60,children:this.props.thumbnail}),(0,c.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},height:68,id:h,position:"absolute",width:68,children:[(0,c.jsx)(l.xu,{color:"infoBase",dangerouslySetInlineStyle:{__style:{left:"0px",top:"0px",transform:"scale(0)"}},height:68,id:y,position:"absolute",rounding:"circle",width:68}),(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"1px",top:"1px",transform:"scale(0)"}},height:66,id:f,opacity:1,position:"absolute",rounding:"circle",width:66}),(0,c.jsx)(l.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,c.jsx)(l.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]}))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){let{isRepinToExistingBoard:e,button:t}=this.props;return(0,c.jsx)(p,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:e?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function w(e){let{duration:t,onHide:n}=e,a=(0,r.ZP)(),[d,u]=(0,i.useState)(!1),[p,g]=(0,i.useState)(!1),_=(0,i.useRef)(),h=()=>{u(!0),_.current=setTimeout(n,200)},y=()=>{_.current&&clearTimeout(_.current)},f=()=>{_.current=setTimeout(h,t||m.w)};(0,o.Z)(()=>(setTimeout(()=>g(!0),100),f(),y));let b=(0,c.jsx)(k,{...e,i18n:a});return e.href&&(b=(0,c.jsx)(l.rU,{href:e.href,onClick:h,rounding:"pill",tapStyle:"none",children:b})),(0,c.jsx)(s.Z,{children:(0,c.jsx)(l.mh,{children:(0,c.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...function({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}({hiding:d,visible:p})}},display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:m.k,children:b})})})}},272531:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(191313);function a(){let e=(0,i.qn)("lastViewedMiniRenux");return!!e&&Date.now()-Number(e)<2592e5}},672934:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ey,getPinResourceOptions:()=>ec});var i,a,l=n(667294),r=n(702664),s=n(422578),o=n(616550),d=n(877457),c=n(623891);let u=e=>{let t=(0,o.TH)(),n=(0,d.g)();(0,l.useEffect)(()=>{if(n){let{showDesktopSignupModal:i,pinLinkClickHandler:a}=n,{mt:l,l:r,showsignup:s}=(0,c.Z)(t.search);l?i({signupFlow:"login"===l?{type:"login"}:{type:"signup"},attributionLabel:"navigation_1",container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}):s?i({signupFlow:{type:"signup"},attributionLabel:"closeup_query_param_showSignup",source:"defaultSource",reason:"UPSELL_LOGIN_OR_SIGNUP"}):r&&a&&a()}},[e,t,!!n])};var p=n(200201),m=n(582008),g=n(558273),_=n(11453),h=n(193300),y=n(643778),f=n(5859),b=n(870319),S=n(608516),x=n(624797),v=n(689390),P=n(554786),k=n(494125),w=n(149722),T=n(773616),I=n(966361),E=n(700242),A=n(656022),C=n(883119),R=n(140017),j=n(160133),L=n(179425),F=n(340523),D=n(906623),O=n(146935),N=n(989406),M=n(336184),Z=n(345748),B=n(212208),U=n(490166),K=n(323294),z=n(911049),H=n(548810),V=n(785893);let G=e=>(0,K.CK)({hasRichMetadata:!!e.richMetadata,hasRichMetadataProducts:!!e.richMetadata?.products?.length,hasRichMetadataArticle:!!e.richMetadata?.article,hasRichMetadataRecipe:!!e.richMetadata?.recipe});function $({data:e}){let t=(0,D.E)(),n=(0,R.ZP)(),{derived:{imageUrl:i,placeholder:a},pin:l}=e,r=(0,B.Z)();return(0,V.jsx)(U.Z,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),r({linkType:l.mobileLink&&"mobile"||l.trackedLink&&"tracked"||l.link&&"external"||"original",viewParameter:G(l)})},pressState:"none",children:(0,V.jsx)(M.Z,{alt:n._('Pin image', 'Pin closeup image', 'Pin closeup image'),color:l.dominantColor||"#efefef",naturalHeight:a?.height??1,naturalWidth:a?.width??1,placeholder:a?.url??"",pwtElementTimingId:O.f,pwtSurfaceContext:t,showSpinner:!1,src:i})})}function W({data:e}){let{checkExperiment:t}=(0,F.F)(),{isAuthenticated:n}=(0,f.B)(),i=!n&&t("unauth_search_icon_in_closeup_preview").anyEnabled;return(0,V.jsxs)(L.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:!0,children:[(0,V.jsx)(Z.Z,{}),i&&(0,V.jsx)(C.kC,{height:z.H,justifyContent:"end",children:(0,V.jsx)(H.SearchIconButton,{isCloseupPreview:!0})}),(0,V.jsx)(N.Z,{detail:null,isShowingBreadcrumbs:!1,media:(0,V.jsx)(j.Z,{roundedForLargeDevice:!0,children:(0,V.jsx)($,{data:e})}),sideBySideOptions:null}),(0,V.jsx)(A.Z,{})]})}var q=n(716791),Y=n(237040),X=n(622155),J=n(344278),Q=n(100896),ee=n(810052),et=n(570253),en=n(170568),ei=n(19447),ea=n(386008),el=n(706196),er=n(953565),es=n(431489),eo=n(42040);let ed=(0,l.lazy)(()=>Promise.all([n.e(47639),n.e(24698)]).then(n.bind(n,647639))),ec=({id:e,isAuthenticated:t,addUserConnectionType:n,shouldLazyLoadPinJoin:i,getPageMetadata:a})=>t?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0,add_connection_type:n}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:a?"seo":void 0,add_connection_type:n,fetch_pin_join_by_default:!i},eu=void 0!==i?i:i=n(133158),ep=void 0!==a?a:a=n(310995);function em({description:e,dominantColor:t,graphqlRefs:n,imageSignature:i,isGif:a,isLoaded:s,isProductPin:d,isRecipePin:c,isStoryPin:m,isVideoPin:g,pinId:_,pinImage:b,pinTitle:S,renderAuthMobilePinLandingToast:v,uanuthDesktopSocialLandingPopover:I}){let A=(0,es.U)(),C=(0,r.useDispatch)(),R=(0,o.TH)(),j=(0,P.ZP)(),L=(0,p._)({id:1000112}),{id:F}=(0,w.Z)(),{isAuthenticated:D,isBot:O}=(0,f.B)(),N=(0,ea.mN)()(F??""),M=(0,eo.I)(),Z=(0,r.useSelector)(({experiences:e})=>e),B=a&&"gif"||d&&"productPin"||c&&"recipePin"||m&&"storyPin"||g&&"video"||"image";(0,l.useEffect)(()=>{A&&setTimeout(()=>{A.preload?.(el.ke("pin/[id]/repin.js"))},500)},[]),(0,l.useEffect)(()=>{if(M){let e=document.querySelector('div[data-test-id="CloseupMainPin"]');(0,h.w)(t=>{let{entries:i}=t,{element:a}=i[i.length-1];(0,er.nP)("www.closeup.lcpCheck",{sampleRate:1,tags:{isAuthenticated:D,deviceType:j,isGraphQL:!!n,isMainPin:e?.contains(a),nodeName:a?a.nodeName:"unknown",pinType:B}})})}},[]),u("closeup");let U=(0,P.HG)();(0,l.useEffect)(()=>{let n=()=>{C((0,en.Cp)()),window.removeEventListener("scroll",n)};if(U||O?C(m?(0,en.FK)():(0,en.Cp)()):window.addEventListener("scroll",n),D)i&&C((0,en.xu)(i));else{let n=R.pathname,a=e??"";(0,J.Mt)(n,i),(0,J.CC)({path:n,image:b,dominant_color:t??null,pin_description:a,pin_id:_});let l=(0,x.mB)(R.search).invite_code;(0,J.dp)(n,i,_,b,a??"",l),R.state?.isFromNavFooterPage||(0,J.p9)(n,i,_,b,"pin")}},[R]),(0,l.useEffect)(()=>{document.title=S||"Pin page"},[S]);let K=(0,ee.a)(),z=K?.onPinTypeLoad,H=!!s;(0,l.useEffect)(()=>{H&&z&&z(m)},[H,m,z]);let G="pin_closeup_lcp",$=(0,y.PY)(G);(0,l.useEffect)(()=>{$&&(0,y.ku)({stopwatchName:G,binaryAnnotationName:"pinType",value:B,annotationType:"STRING"})},[$,B]);let W=(0,T.Z)(),q=D?(0,et.o)({canUpsellNativeApp:W}):"unauthPostDownloadUpsell",Y=(0,X.w2)();return(0,k.Z)(()=>{if(!v||!Y||Y.hasSeenAuthMobileLandingToast)return()=>{};let{setHasSeenAuthMobileLandingToast:n}=Y,i=setTimeout(()=>{v({type:"pin",id:_,data:{title:S||e||"",imgUrl:b?.url||"",dominantColor:t||""}})},3e3);return()=>{n(!0),clearTimeout(i)}}),(0,V.jsx)(E.Z,{clickthroughInterstitialExperience:Z[1000162],experience:L,graphqlRefs:n,isProductPin:d,isStoryPin:m,pinId:_,postDownloadModalEligibilityType:q,uanuthDesktopSocialLandingPopover:I,viewerId:F??"",viewingUser:N})}function eg({pinId:e,queryRefs:t,...n}){let i=(0,s.usePreloadedQuery)(ep,t.pageRef),a=(0,Y.nF)(),l=(0,m.h)(eu,i.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null,a.closeupPageSuspenseBehavior),{isAuthenticated:r}=(0,f.B)();return l?(0,V.jsx)(em,{...n,description:l.description,dominantColor:l.dominantColor,graphqlRefs:{...t,pageRef:l},imageSignature:l.imageSignature??"",isGif:(0,g.sY)(l.embed?.type),isLoaded:!0,isProductPin:!!l.isEligibleForPdp,isRecipePin:l.richSummary?.typeName==="recipe",isStoryPin:!!l.storyPinDataId,isVideoPin:!!l.videos?.videoUrls?.length,pinId:e,pinImage:l.imageSpec_236x?{dominant_color:l.imageSpec_236x.dominantColor??"",height:l.imageSpec_236x.height??0,type:l.imageSpec_236x.type??"",url:l.imageSpec_236x.url??"",width:l.imageSpec_236x.width??0}:null,pinTitle:l.gridTitle??l.gridDescription??"",storyPinDataId:l.storyPinDataId}):(0,V.jsx)(o.l_,{to:{pathname:r?"/":"/ideas/",state:{showError:!0}}})}function e_({pinId:e,queryRefs:t,...n}){let i=(0,q.Z)(e);return(0,V.jsx)(l.Suspense,{fallback:i.enabled?(0,V.jsx)(W,{data:i.data}):(0,V.jsx)(A.Z,{}),children:"QUERY_MISS"!==t&&(0,V.jsx)(eg,{...n,pinId:e,queryRefs:t})})}function eh({pinId:e,...t}){let{countryFromIp:n,isBot:i,isAuthenticated:a}=(0,f.B)(),l=(0,P.HG)(),r=(0,Q.Z)(n??"",i,l),s=(0,q.Z)(e),o=(0,b.Z)({name:"PinResource",options:ec({id:e,isAuthenticated:a,addUserConnectionType:r,shouldLazyLoadPinJoin:!l&&!a&&!i})}),d=(0,ei.S6)()(e),c=o.data||d;return!c&&s.enabled?(0,V.jsx)(W,{data:s.data}):(0,V.jsx)(em,{...t,description:c?.description,dominantColor:c?.dominant_color,graphqlRefs:null,imageSignature:c?.image_signature,isGif:(0,g.sY)(c?.embed?.type),isLoaded:!!c,isProductPin:!!c?.is_eligible_for_pdp,isRecipePin:c?.rich_summary?.type_name==="recipe",isStoryPin:!!c?.story_pin_data_id,isVideoPin:!!c?.videos?.video_list,pinId:e,pinImage:c?.images?.["236x"]??null,pinTitle:c?.grid_title??c?.grid_description??"",storyPinDataId:c?.story_pin_data_id})}function ey({queryRefs:e,...t}){let n=(0,o.$B)(),{pinId:i}=(0,v.Z)(n.params.id||""),a=(0,w.Z)(),l=(0,_.jr)(a);return(0,V.jsxs)(I.Z,{type:"duplo",children:[l&&(0,V.jsx)(S.Z,{children:(0,V.jsx)(ed,{})}),"GRAPHQL_DISABLED"===e?(0,V.jsx)(eh,{...t,pinId:i}):(0,V.jsx)(e_,{...t,pinId:i,queryRefs:e})]})}},100896:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(407053);let a=(e,t,n)=>!t&&!n&&i.ZR.has(e)},541891:(e,t,n)=>{n.d(t,{C:()=>i,LAW_CONFIGURATION:()=>l,Z:()=>a});let i=["DMCA","Trademark","GDPR"],a=new Date(2024,0,1),l={test:{LAW:"test",DECIDER_KEY:"legal_webapp_takedown_form_test",COUNTRY_CODES:["US"],API:"/v3/legal/takedowns/test/",COMPLAINTS_OFFICE:!0,TRUSTED_FLAGGER:!1,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},netzdg:{LAW:"netzdg",DECIDER_KEY:"legal_webapp_takedown_form_netzdg",COUNTRY_CODES:["DE"],API:"/v3/legal/takedowns/netzdg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},turkey:{LAW:"turkey",DECIDER_KEY:"legal_webapp_takedown_form_turkey",COUNTRY_CODES:["TR"],API:"/v3/legal/takedowns/turkey/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},koplg:{LAW:"koplg",DECIDER_KEY:"legal_webapp_takedown_form_koplg",COUNTRY_CODES:["AT"],API:"/v3/legal/takedowns/koplg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},loi_fr:{LAW:"loi_fr",DECIDER_KEY:"legal_webapp_takedown_form_fr",COUNTRY_CODES:["FR"],API:"/v3/legal/takedowns/fr_dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},dsa:{LAW:"dsa",DECIDER_KEY:"legal_webapp_takedown_form_dsa",EXPERIMENT_KEY:"legal_web_dsa_form",COUNTRY_CODES:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!0},india:{LAW:"india",DECIDER_KEY:"legal_webapp_takedown_form_india",COUNTRY_CODES:["IN"],API:"/v3/legal/takedowns/india/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!1}}},281871:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}},945488:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(e,t)=>`${e}:${t||""}`},885837:(e,t,n)=>{n.d(t,{O:()=>s,Q:()=>o});var i=n(827625),a=n(945488),l=n(64819);let r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i,privacyFilter:a="all",filterAllPins:l=!1,filterShoppingList:r=!1,includeArchived:s=!0},o)=>({privacy_filter:a,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:s,redux_normalize_feed:!0,filter_all_pins:l,filter_shopping_list:r,...o?{orbac_subject_id:o}:Object.freeze({})})},o=e=>r.reduce((t,n)=>{let r=[(0,l.N8)("profileBoards",(0,a.Z)(e,n))];return[!0,!1].forEach(t=>{[!0,!1].forEach(a=>{r.push((0,i.jB)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:a})))})}),t.concat(r)},[])},701082:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){(0,i.useEffect)(()=>{if(!t.current)return()=>{};{let n=t.current;if("ResizeObserver"in window){let t=new ResizeObserver(t=>{Array.isArray(t)&&t.length&&e(n)});return t.observe(n),()=>t.unobserve(n)}{let t=n.clientHeight,i=n.clientWidth,a=()=>{let l=n.clientHeight,r=n.clientWidth;(t!==l||i!==r)&&(t=l,i=r,e(n)),window.requestAnimationFrame(a)};return a(),()=>window.cancelAnimationFrame(a)}}},[t,e])}},402287:(e,t,n)=>{n.d(t,{$n:()=>b,A4:()=>P,CE:()=>g,ET:()=>A,F$:()=>f,Kw:()=>I,Nv:()=>T,PA:()=>v,X_:()=>E,d9:()=>S,e1:()=>m,o4:()=>w,vB:()=>h});var i=n(782677),a=n(216167),l=n(107366),r=n(227258),s=n(827625),o=n(821419),d=n(64819),c=n(430408),u=n(539426),p=n(937310);function m(e){return t=>{let{boardId:n,sectionIdBefore:i,sectionIdAfter:a,sourceSectionId:r,targetSectionId:s}=e;t((0,d._f)({feedType:p.Z.BOARD_SECTIONS,feedId:n,itemType:"boardsection",sourceItemId:r,targetItemId:s}));let o=Object.freeze({});return i&&(o={...o,section_before:i}),a&&(o={...o,section_after:a}),(0,l.Z)({url:`/v3/board/sections/${r}/reorder/`,method:"POST",data:o})}}function g(e,t){return n=>n((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}function _(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function h({boardId:e,sourceBoardId:t="",sourceSectionId:n="",name:i,nameSource:l,pinImport:r,initialPinIds:u=[]},m,g,h){let y=0;"RECOMMENDATION"===l?y=1:"EDITED_RECOMMENDATION"===l&&(y=2);let f={board_id:e,initial_pins:r&&!r.all?r.pinIds:u,name:i,name_source:y,...g?{orbac_subject_id:g}:Object.freeze({})};return i=>a.Z.create("BoardSectionResource",f).callCreate({showError:!1}).then(({resource_response:{data:a}})=>{h({event_type:7100,object_id_str:a.id}),i(_(e,a)),i((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),i((0,o.Tq)(e,"pin_count")),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:g}));let{all:l,pinIds:u}=r||{all:!1,pinIds:[]};return l?new Promise((l,r)=>i((0,c.Z)({inverseSelection:!0,selectedPinIds:u,source:{boardId:t||e,sectionId:n||null},target:{boardId:e,sectionId:a.id}},m)).then(()=>l(a)).catch(r)):(u.length>0&&i((0,d.N8)(p.Z.BOARDFEED,e)),a)})}function y(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function f(e,t,n){return i=>a.Z.create("BoardSectionEditResource",{section_id:t,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete({showError:!1}).then(()=>Promise.all([i(y(e,t)),i((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),i((0,o.Tq)(e,"pin_count")),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:n}))]))}function b(e,t,n,i){return l=>a.Z.create("BoardSectionEditResource",{section_id:t,title:n,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then(t=>{let n=t.resource_response.data;return l(t=>{let i=n.board;i&&i.id!==e?(t(y(e,n.id??"")),t((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[n.id??""],itemType:"boardsection"})),t((0,o.Tq)(e,"pin_count")),t(_(i.id??"",n)),t((0,d.vX)({feedId:i.id??"",feedType:p.Z.BOARD_SECTIONS,itemIds:[n.id??""],itemType:"boardsection"})),t((0,o.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:n}})}),l((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:i})),n})}function S(e,t,n){return i=>(0,l.Z)({url:`/v3/board/sections/${t}/merge/${n}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(a=>Promise.all([i(y(e,t)),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e})),i(g(n)),i((0,d.N8)(p.Z.BOARD_SECTION_PINS,n))]).then(()=>a))}let x=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t}),v=(e,t)=>n=>a.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then(i=>(n(x(e,t)),i.resource_response.data)),P=e=>t=>a.Z.create("BoardSectionResource",{section_id:e}).callGet().then(n=>(t(x(e,n.resource_response.data||{id:"",title:""})),n)),k=(e,t,n,i)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:n,pinCount:i}}),w=(e,t,n,i)=>l=>{let r=a.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return l(k(e,t,n,i)),r},T=(e,t,n,l)=>r=>{let o={board_id:e,initial_pins:t,name:n},c="BoardSectionResource";return a.Z.create(c,o).callCreate().then(n=>{let a=n.resource_response.data,m=(0,i.Fv)(a,u.Z[c]);return l({event_type:7100,object_id_str:a.id}),r((0,s.XM)(c,o,n,m)),r(_(e,a)),r((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),t.length&&r({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:a.id},pinIds:t}}),n})},I=e=>t=>{let{source:n,target:l,pinIds:r}=e;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||l.boardId!==n.boardId){let e={board_id:l.boardId,pin_ids:r,section_id:l.sectionId};return a.Z.create("BulkEditResource",e).callUpdate()}if(l.sectionId){let e={section_id:l.sectionId,pins:r},n="BoardSectionEditResource";return a.Z.create(n,e).callUpdate().then(a=>{let l=(0,i.Fv)(a.resource_response.data,u.Z[n]);return t((0,s.XM)(n,e,a,l)),a})}let o={section_id:n.sectionId,pins:r};return a.Z.create("BoardSectionPinsResource",o).callDelete()},E=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});let{source:n,target:i,excludePinIds:l}=e,r={board_id:n.boardId,new_board_id:i.boardId,pin_ids:l,old_section_id:n.sectionId,new_section_id:i.sectionId};return a.Z.create("BulkEditSelectAllResource",r).callUpdate()},A=(e,t,n,i,a)=>l=>l(T(e,[],t,a)).then(t=>l(E({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:t.resource_response.data.id},excludePinIds:n})))},821419:(e,t,n)=>{n.d(t,{Br:()=>m,Cr:()=>T,K8:()=>b,L1:()=>D,Tq:()=>y,YQ:()=>F,YV:()=>w,ZP:()=>I,aX:()=>E,eo:()=>_,fJ:()=>N,md:()=>g,oG:()=>h,oL:()=>A,of:()=>S,xH:()=>f,xQ:()=>x,xR:()=>L,xk:()=>P,yT:()=>p,zS:()=>O});var i=n(216167),a=n(481177),l=n(107366),r=n(227258),s=n(827625),o=n(281871),d=n(885837),c=n(64819),u=n(937310);function p(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function m(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function g(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function _({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}let h=(e,t)=>n=>n((0,r.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function y(e,t,n){return(0,r.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function f(e,t,n){return i=>(0,l.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:n?{orbac_subject_id:n}:{}}).then(()=>Promise.all([i(_({boardId:e})),i(y(t,"pin_count")),i((0,c.N8)(u.Z.BOARD_SECTIONS,t))]))}function b(e){return t=>{e&&(0,d.Q)(e).forEach(e=>{t(e)})}}let S=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),x=e=>h(e,"pin_count");function v(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function P(e,t){return n=>(n(v(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function k(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function w(e,t){return n=>(n(k(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}let T=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),I=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function E(e,t,n){let l={name:e,privacy:a.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>i.Z.create("BoardResource",l).callCreate().then(n=>{let i=n.resource_response.data;return e(t&&(0,s.jB)("BoardsResource",(0,o.Z)(t,!1))),i})}function A(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}let C=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),R=(e,t,n)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}),j=(e,t,n,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:i}}),L=(e,t,n)=>async a=>{a(C(e,t));let l=await i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return l.resource_response.error||n({event_type:29,object_id_str:e}),l},F=(e,t,n,a,l,r)=>async s=>{s(R(e,a?.id??"",n));try{(await i.Z.create("accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:a?.id??"",...r?{orbac_subject_id:r}:{}}).callDelete()).resource_response.error||l({event_type:"accepted"===t?25:29,object_id_str:e})}catch(i){s(j(e,n,t,[a]))}},D=(e,t,n,a)=>l=>{let r=i.Z.create("BoardResource",{board_id:n}).callDelete();return l(_({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:a})),r},O=(e,t)=>n=>i.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(i=>(n((0,c.Qv)("archived-boards",[{id:e,type:"board"}])),n(v(e,t)),i)),N=(e,t)=>n=>i.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(i=>(n((0,c.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),n(k(e)),i))},265330:(e,t,n)=>{n.d(t,{V:()=>r,u:()=>l});var i=n(216167),a=n(821419);let l=e=>t=>i.Z.create("BoardResource",{board_id:e}).callGet().then(e=>{let n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,a.yT)(n)),e});function r(e,t,n){return(l,r)=>{let{boards:s}=r(),o=s[e],d=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},c={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,...t.name&&{name:t.name},privacy:t.privacy,sensitivity:t.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...d};return l((0,a.yT)({...c,id:e})),i.Z.create("BoardResource",{...c,board_id:e}).callUpdate().then(e=>{let n=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(n.allow_homefeed_recommendations=t.allow_homefeed_recommendations),l((0,a.yT)(n)),e}).catch(e=>{throw o&&l((0,a.yT)(o)),e})}}},930822:(e,t,n)=>{n.d(t,{DD:()=>u,lg:()=>p,Th:()=>g,YH:()=>o,wH:()=>s,IU:()=>m,L8:()=>c});var i=n(216167),a=n(107366),l=n(64819),r=n(937310);function s({didItDataId:e,isLikedByMe:t}){return n=>((0,a.Z)({url:`/v3/did_it/${e}/like/`,method:t?"DELETE":"POST"}),n({type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:!t}}))}function o({didItDataId:e,isMarkedHelpfulByMe:t}){return n=>((0,a.Z)({url:`/v3/helpful/2/${e}/`,method:t?"DELETE":"POST"}),n({type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:!t}}))}function d(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function u({aggregatedPinDataId:e,details:t,fromUnifiedComment:n,image_signatures:a,pin_id:s,username:o,updateParentDidItCount:d}){let u={aggregatedPinDataId:e,details:t,image_signatures:a,pin_id:s};return t=>i.Z.create("DidItActivityResource",u).callCreate().then(i=>{let a=i.resource_response.data;t({type:"PIN_DID_IT",payload:{id:s,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:a}}),t((0,l.vX)({feedId:e,feedType:n?r.Z.UNIFIED_COMMENTS:r.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type})),t((0,l.vX)({feedId:o,feedType:r.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type})),d&&t(c(e,1))},()=>{})}function p({aggregatedPinDataId:e,feedType:t,id:n,isOwnedByMe:a,pinId:s,username:o,updateParentDidItCount:u}){return p=>{i.Z.create("DidItActivityResource",{user_did_it_data_id:n,pinId:s}).callDelete().then(()=>{a&&p({type:"PIN_DID_IT",payload:{id:s,value:!1}}),p(d(n)),p((0,l.EX)({feedId:e??"",feedType:t||r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,l.EX)({feedId:o,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,l.EX)({feedId:o,feedType:r.Z.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&p(c(n,-1))},()=>{})}}function m({id:e,details:t,image_signatures:n,pinId:a}){let l={details:t,image_signatures:n,user_did_it_data_id:e,pin_id:a};return e=>{i.Z.create("DidItActivityResource",l).callUpdate().then(t=>{e({type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:t.resource_response.data}})},()=>{})}}function g(e,t,n,i,s){return o=>{(0,a.Z)({url:`/v3/did_it/${n}/flag/`,method:"PUT",data:{reason:i,detailed_reasons:t,explanation:void 0}}).then(()=>{o(d(n)),e&&o((0,l.EX)({feedId:e,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),o((0,l.EX)({feedId:s,feedType:r.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"}))},()=>{})}}},64819:(e,t,n)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>r,N8:()=>a,Qv:()=>l,_f:()=>i,vX:()=>s});let l=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},430408:(e,t,n)=>{n.d(t,{Z:()=>m,S:()=>p});var i=n(216167),a=n(821419),l=n(402287),r=n(64819),s=n(937310),o=n(622888);let d=e=>t=>{o.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},c=e=>(0,r.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId);function u(e,t){let{source:n,target:i}=e;i.boardId!==n.boardId?(t((0,a.Tq)(n.boardId,"pin_count")),t((0,a.Tq)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t((0,a.Tq)(i.boardId,"pin_count")),n.sectionId&&t((0,l.CE)(n.sectionId)),i.sectionId&&t((0,l.CE)(i.sectionId))}function p(e){return t=>{let{selectedPinIds:n,source:i,target:a}=e;t((0,r.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,r.vX)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:n,itemType:"pin"})),u(e,t)}}function m(e,t){return n=>(function(e,t,n){let{inverseSelection:a,selectedPinIds:l,source:o,target:u,orbacSubjectId:p}=e;if(o.boardId===u.boardId&&(o.sectionId||null)===(u.sectionId||null))return Promise.reject();if(a){let e={board_id:o.boardId,new_board_id:u.boardId,old_section_id:o.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:l,orbac_subject_id:p};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(c(o)),t(c(u))])).catch(d(n))}{let e=(e,n)=>{t((0,r.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:l,itemType:"pin"})),t((0,r.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:l,itemType:"pin"}))};e(o,u);let a=()=>e(u,o);if(u.boardId===o.boardId){if(u.sectionId){let e={section_id:u.sectionId,pins:l,orbac_subject_id:p};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{a(),d(n)(e)})}{let e={section_id:o.sectionId,pins:l,orbac_subject_id:p};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{a(),d(n)(e)})}}{let e={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:l,orbac_subject_id:p};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{a(),d(n)(e)})}}})(e,n,t).then(()=>u(e,n))}},176063:(e,t,n)=>{function i(e){return{type:"PIN_NAV_CONTEXT_CREATE",payload:e}}function a(){return{type:"PIN_NAV_CONTEXT_DELETE"}}n.d(t,{H:()=>a,k:()=>i})},409403:(e,t,n)=>{function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function a(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function l(e){return{type:"PIN_SAVE",payload:e}}function r(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function o({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function d({id:e,text:t,nodeId:n}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:n}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function u({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}function g({id:e,nodeId:t,resource:n,value:i}){return{payload:{id:e,nodeId:t,resource:n,value:i},type:"UPDATE_PIN_TRACKING_PARAMS_MAP"}}n.d(t,{Er:()=>g,Gb:()=>r,I1:()=>o,Ib:()=>c,Ur:()=>l,Vw:()=>s,b9:()=>p,i0:()=>u,mO:()=>a,q1:()=>d,yR:()=>i,yj:()=>m})},117512:(e,t,n)=>{n.d(t,{M:()=>o,i:()=>c});var i=n(782677),a=n(216167),l=n(827625),r=n(386129),s=n(539426);let o=(e,t,n,i)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:n,pinnerId:i}}),d=(e,t)=>new Promise(n=>{e?(0,r.eR)(e).then(e=>{n(e)}):n(t)}),c=e=>t=>{let{method:n,guid:r,image_base64:c,image_url:u}=e;return d(c,u).then(d=>{let c={...e,method:"button"!==n||r?n:"button_external",image_url:d,image_base64:void 0},u="PinResource";return a.Z.create(u,c).callCreate().then(e=>{let n=(0,i.Fv)(e.resource_response.data,s.Z[u]);t((0,l.XM)(u,c,e,n));let a=e.resource_response.data,{board:{id:r},pinner:{id:d},section:p}=a,m=p&&p.id;return t(o(a.id,r,m,d)),e})})}},232518:(e,t,n)=>{n.d(t,{R:()=>i});function i(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}},410391:(e,t,n)=>{n.d(t,{L:()=>s,q:()=>d});var i=n(216167),a=n(821419),l=n(64819),r=n(937310);function s(e){return t=>{let{inSelectAll:n,selectedPinIds:s,orbacSubjectId:o,source:{boardId:d,sectionId:c}}=e;return t((0,a.xQ)(d)),t((0,l.EX)({feedId:c||d,feedType:c?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,inverseSelection:n,itemIds:s,itemType:"pin"})),i.Z.create(n?"BulkEditSelectAllResource":"BulkEditResource",{board_id:d,section_id:c,pin_ids:s,orbac_subject_id:o}).callDelete()}}let o=(e,t,n,i)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}),d=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:a})=>(l,r)=>{let s=i.Z.create("PinResource",{id:e,client_tracking_params:a}).callDelete(),{session:{userId:d}}=r();return l(o(e,t,n,d)),s}},170568:(e,t,n)=>{n.d(t,{Cp:()=>o,FK:()=>s,H5:()=>b,MI:()=>g,O0:()=>m,QZ:()=>r,W:()=>y,WF:()=>c,Wz:()=>S,a5:()=>u,dz:()=>h,e0:()=>p,e2:()=>l,iW:()=>f,n1:()=>a,rm:()=>d,xu:()=>_});var i=n(96157);let a=()=>({type:"DISMISS_UNAUTH_SAVE"}),l=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),r=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),s=()=>({type:"HIDE_NAV_FOOTER"}),o=()=>({type:"SHOW_NAV_FOOTER"}),d=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),c=()=>({type:"SHOW_REPIN_ANIMATION"}),u=()=>({type:"HIDE_REPIN_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),m=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),g=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),_=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),h=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),y=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),f=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},b=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),S=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,i.bo)(e)?"today":(0,i.dr)(e)?"ideas":t&&(0,i.dZ)(e,t)?"own_section":t&&(0,i.J)(e,t)?"own_board":(0,i.OJ)(e)?"section":(0,i.am)(e)?"board":(0,i.L6)(e)?"closeup":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.En)(e)?"search":(0,i.$V)(e)?"topic":"":""})},70982:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>p,yA:()=>o});var i=n(216167),a=n(107366),l=n(386129);function r(e,t,n,a){return i.Z.create("UserFollowResource",{user_id:e,invite_code:a||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:n})}function s(e,t=null,n,i){return a=>{r(e,t,n,i).callCreate().catch(()=>a((0,l.P_)(e,!1))),a((0,l.P_)(e,!0))}}function o(e,t=null,n,i){return async a=>{a((0,l.P_)(e,!0)),await r(e,t,n,i).callCreate().catch(t=>{throw a((0,l.P_)(e,!1)),t})}}function d(e,t=null,n){return i=>{r(e,t,n).callDelete().catch(()=>i((0,l.P_)(e,!0))),i((0,l.P_)(e,!1))}}function c(e,t=null,n){return async i=>{i((0,l.P_)(e,!1)),await r(e,t,n).callDelete().catch(t=>{throw i((0,l.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,a.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},386129:(e,t,n)=>{n.d(t,{Ge:()=>d,JS:()=>r,OF:()=>S,P_:()=>s,Q_:()=>p,b8:()=>m,eR:()=>b,h2:()=>c,h6:()=>u});var i=n(216167),a=n(107366),l=n(666698);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:n,blockContext:a,logContextEvent:l})=>async r=>{r(o(e,!0));let s=await i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:a}).callCreate().catch(()=>r(o(e,!1)));return l({event_type:54,object_id_str:e}),s},c=(e,t)=>async n=>{n(o(e,!1));let a=await i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>n(o(e,!0)));return t({event_type:55,object_id_str:e}),a};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>i.Z.create("UserStateResource",{state:e,value:t}).callCreate(),m=(e,t,n)=>(i,r)=>{(0,a.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{n({event_type:48,object_id_str:r().session.userId}),e(),(0,l.Dm)()},t)},g=e=>e>=200&&e<400,_=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",h=async(e,t,n)=>{let a=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(a.resource_response.data[e]){let{status:i,signature:l}=a.resource_response.data[e];"processing"===i||"registered"===i?setTimeout(async()=>{h(e,t,n)},5e3):"succeeded"===i?t(_(l)):n()}else n()},y=(e,t,n,a,l)=>(new FormData().append("img",e),i.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:i,upload_url:r,upload_parameters:s}=t.resource_response.data,o=new XMLHttpRequest;o.open("POST",r,!0),o.onload=()=>{g(o.status)?(n(100),h(i,a,l)):l()},o.upload.onprogress=e=>{n(Math.round(100*e.loaded/e.total))};let d=new FormData;for(let e in s)d.append(e,s[e]);d.append("file",e),o.send(d)}},()=>{l()})),f=e=>new Promise((t,n)=>{y(e,"pinimage",()=>{},e=>{t(e)},e=>{n(e)})}),b=e=>new Promise((t,n)=>{"string"==typeof e?e.startsWith("data")&&f(function(e,t=512){let n=e.split(";"),i=n[0].split(":")[1],a=atob(n[1].split(",")[1]),l=[];for(let e=0;e<a.length;e+=t){let n=a.slice(e,e+t),i=Array(n.length);for(let e=0;e<n.length;e+=1)i[e]=n.charCodeAt(e);let r=new Uint8Array(i);l.push(r)}return new Blob(l,{type:i})}(e)).then(e=>t(e)):n("Invalid Image")}),S=e=>()=>(0,a.Z)({url:"/v3/register/exists/",data:{email:e}})},539426:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(949457);let a={AggregatedCommentResource:i.rm,AggregatedCommentFeedResource:i.LR,AggregatedCommentReplyResource:i.rm,AggregatedCommentReplyFeedResource:i.LR,AggregatedActivityFeedResource:i.LR,BestPinsFeedAltResource:i.LR,BoardArchiveResource:i.LR,BoardContentRecommendationResource:i.LR,BoardFeedResource:i.LR,BoardFollowingResource:i.LR,BoardInviteResource:i.sf,BoardInvitesResource:i.Ht,BoardlessPinsResource:i.LR,BoardPickerBoardsResource:{all_boards:i.LR,boards_shortlist:i.LR},BoardSectionEditResource:i._F,BoardSectionsRepinResource:i.LR,BoardSectionsResource:i.LR,BoardsFeedResource:i.LR,BoardResource:i.IY,BoardSectionResource:i._F,BoardSectionPinsResource:i.LR,BoardToolsFeedResource:i.LR,ContactRequestsResource:i.LR,ConversationsResource:i.LR,ConversationMessagesResource:i.dq,DidItCommentsResource:i.LR,DidItLikedByResource:i.Gn,DidItUserFeedResource:i.LR,HolidaySpotlightResource:i.LR,InterestFollowingResource:i.LR,InterestResource:i.cC,MoreIdeasTabsBoardsResource:i.LR,NewsHubResource:i.LR,NewsHubDetailsResource:i.LR,NewsHubSummaryResource:i.t6,NuxInterestsResource:i.LR,NuxTopicToCreatorsResource:i.Gn,PinResource:i.Cj,PinCatalogResource:i.LR,PinsFromBrandResource:i.LR,ReactionsResource:i.fE,RelatedArticlesResource:i.LR,RelatedInterestsResource:i.LR,RelatedModulesResource:i.LR,RelatedPinFeedResource:i.LR,RelatedProductFeedResource:i.LR,RelatedStreamResource:i.LR,RepinResource:i.Cj,BaseSearchResource:{results:i.LR},SearchResource:i.LR,SectionToolsFeedResource:i.LR,ShareSuggestionsTypeaheadResource:{items:i.LR},ShoppingFeedModularizedResource:i.LR,StoryFeedResource:i.LR,StoryPinTaggedProductsResource:i.LR,SuggestedCreatorFollowsResource:i.Gn,TodayArticleFeedResource:i.LR,IdeasHubTodayArticlesResource:i.LR,TodayArticleResource:i.iF,TodayTabInterestFeedResource:i.LR,TodayTabResource:i.LR,TopicFeedResource:i.LR,UnifiedCommentsResource:i.LR,UserActivityPinsResource:i.LR,UserFollowingResource:i.LR,UserRecentActivityResource:i.LR,UserHomefeedResource:i.LR,UserPinsResource:i.LR,UserSettingsResource:i.EA,UserStoryPinsFeedResource:i.LR,UserResource:i.EA,VideosFeedResource:i.LR,VisualLiveSearchResource:{results:i.LR},VisualLiveSearchProductFeedResource:i.LR,VisualSearchFlashlightUnifiedResource:i.LR,SeoTier1CandidateResource:i.LR}},949457:(e,t,n)=>{n.d(t,{Cj:()=>d,EA:()=>l,Gn:()=>w,Ht:()=>k,IY:()=>o,LR:()=>I,_F:()=>p,cC:()=>b,dq:()=>g,fE:()=>u,iF:()=>f,rm:()=>r,sN:()=>T,sf:()=>S,t6:()=>P});var i=n(782677);let a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),l=new i.fK.Entity(a.user),r=new i.fK.Entity(a.aggregatedComment,{user:l,tagged_users:[l]}),s=new i.fK.Entity(a.article),o=new i.fK.Entity(a.board),d=new i.fK.Entity(a.pin),c=new i.fK.Entity(a.reaction),u=new i.fK.Array(c),p=new i.fK.Entity(a.boardsection),m=new i.fK.Entity(a.conversationMessage,{sender:l,users:[l],board:o,pin:d,user:l}),g=new i.fK.Array(m),_=new i.fK.Entity(a.contactrequest),h=new i.fK.Entity(a.story),y=new i.fK.Entity(a.triedit),f=new i.fK.Entity(a.todayArticle,{article_creator_user:l,content_pin:d,content_pin_official_user:l,video_pin:d}),b=new i.fK.Entity(a.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),S=new i.fK.Entity(a.invite,{invited_by_user:l,invited_user:l,board:o},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),x=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},v=new i.fK.Union({user:l,board:o,invite:S,pin:d,topic:b,triedit:y},x),P=new i.fK.Entity(a.notification,{content_items:[{content_object:v}],header_icon_objects:[v]}),k=new i.fK.Array(S),w=new i.fK.Array(l),T=new i.fK.Array(o),I=new i.fK.Array({aggregatedComment:r,article:s,board:o,boardsection:p,contactrequest:_,conversationMessage:m,notification:P,pin:d,story:h,todayArticle:f,topic:b,triedit:y,user:l},x,e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});h.define({objects:I})},937310:(e,t,n)=>{n.d(t,{Z:()=>i});let i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},125768:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(702664),a=n(616550),l=n(883119),r=n(224796),s=n(587703),o=n(525364),d=n(140017),c=n(731714),u=n(217058),p=n(623409),m=n(785893);function g({alignIconLeft:e,bgColor:t,color:n,disableRedirect:g=!1,fallbackUrl:_,icon:h="arrow-back",onTouch:y,padding:f,placement:b,shouldUseFallbackUrl:S,size:x="lg",viewParameter:v,viewType:P}){let k=(0,d.ZP)(),w=(0,a.k6)(),T=(0,a.TH)(),I=(0,i.useSelector)(e=>e.session.isAuthenticated),E=(0,s.Z)(),A=(0,p.Z)(),{viewType:C,viewParameter:R}=(0,o.SU)(),[j,L]=P?[P,v]:[C,R],F=()=>T.search&&T.search.includes("?nativeShouldDismiss=true"),D=()=>{let e=c.Z.getItem(r.pm);T.key||"/ideas"!==_?(0,u.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,u.My)("pinner_conversion.back_button.no_history"),(0,u.My)(`web_back_button_click.${String(b)}.is_auth_${String(I)}`),A({action:"click",item:"back-button"}),j&&E({view_type:j,view_parameter:L,element:34,event_type:102}),y&&y(),g||((!T.key||T.state&&"redirect"===T.state.referrer||S)&&_?w.push(_):T.pathname.includes("/password/reset/")&&F()?w.push("/login/?dismissWebview=true"):w.goBack())};return(0,m.jsx)(l.xu,{"data-test-id":"back-button",children:e?(0,m.jsx)(l.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===h?-1:-2,width:48,children:(0,m.jsx)(l.hU,{accessibilityLabel:k._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:h,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:D,padding:"auto"!==f?f:2,size:x})}):(0,m.jsx)(l.hU,{accessibilityLabel:k._('Back', 'navigation button', 'navigation button'),bgColor:t,icon:h,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:D,padding:"auto"!==f?f:2,size:x})})}},529081:(e,t,n)=>{n.d(t,{A:()=>i});let i=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140},615806:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(216167),a=n(237040),l=n(97032),r=n(529081);function s({checkExperiment:e,history:t,i18n:n,logContextEvent:s,onSuccess:o,originalPinId:d,pinId:c,trackingParams:u,disableRepinAnimation:p,showNewUserSavetoProfileAnimation:m,showRepinConfirmation:g,historyPush:_,savePinId:h,eventContext:y=null}){return(f,b)=>{let{pins:S,session:x}=b(),{userId:v}=x,P=S[c],k=n._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.');return i.Z.create("BoardResource",{name:k,layout:"quick_saves",protected:!1,return_existing:!0,user_id:v}).callCreate().then(i=>{let b=i.resource_response.data;return(0,a.ib)({checkExperiment:e,isAuthMweb:x.isAuthenticated&&(x.isMobile||x.isTablet)}),new l.Z({boardId:b.id,dispatch:f,isQuickSave:!0,history:t,i18n:n,onSuccess:o,originalPinId:d,pinId:c,section:void 0,showNewUserSavetoProfileAnimation:m,showRepinToasts:e=>g?g(e,p):void 0,trackingParams:u,userId:x.userId,historyPush:_,savePinId:h,eventContext:y,pinData:{trackingParams:P?P.tracking_params:void 0,viewParameter:P?(0,r.A)({hasRichMetadata:!!P.rich_metadata,hasRichMetadataProducts:!!P.rich_metadata?.products,hasRichMetadataArticle:!!P.rich_metadata?.article,hasRichMetadataRecipe:!!P.rich_metadata?.recipe}):void 0,pinnedToBoardId:P?P.pinned_to_board?.id:void 0}}).processRepin(s)})}}},480983:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(454514),a=n(265330),l=n(402287),r=n(410391),s=n(785893);let o=({boardId:e,boardSectionId:t,clientTrackingParams:n,dispatch:o,i18n:d,newPinId:c,onError:u,onSuccess:p,originalPinId:m,shouldRefresh:g=!1,showToast:_,sourcePinId:h,undoSavedPin:y})=>o((0,r.q)({pinId:c,boardId:e,boardSectionId:t,clientTrackingParams:n})).then(()=>{m&&y(m),y(h),g&&(t&&o((0,l.A4)(t)),e&&o((0,a.u)(e))),_&&_(({hideToast:e})=>(0,s.jsx)(i.ZP,{onHide:e,text:d._('Pin removed!', 'Utils.Unsave.Success', 'User removed their pin')})),p&&p()}).catch(()=>{_&&_(({hideToast:e})=>(0,s.jsx)(i.ZP,{onHide:e,text:d._('Sorry! There was an error removing your Pin.', 'Utils.Unsave.Error', 'Error when user tried to remove pin'),type:"error"})),u?.()})},572895:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(702664),a=n(616550),l=n(587703),r=n(140017),s=n(602377),o=n(623409),d=n(413009),c=n(323294),u=n(942397),p=n(739382),m=n(358589),g=n(386008);function _({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:_,hasRichMetadataArticle:h,hasRichMetadataRecipe:y,imagesUrls:f,isFromUnauthContextMenu:b,isStoryPin:S,pinId:x,nodeId:v,attributionLabel:P}){let k=(0,l.Z)(),w=(0,o.Z)(),{isAuthenticated:T,userId:I}=(0,i.useSelector)(({session:e})=>e),E=(0,m.Z)(),A=(0,r.ZP)(),C=(0,g.mN)()(I),R=(0,a.TH)();b=b??!1;let j=(0,d.Z)({embedSrc:e,embedType:t,imagesUrls:f,pinId:x,nodeId:v,isFromUnauthContextMenu:b,attributionLabel:P});return e=>{w({action:"click",item:"save-button"}),b||k({view_type:3,view_parameter:x?(0,c.CK)({hasRichMetadata:n,hasRichMetadataProducts:_,hasRichMetadataArticle:h,hasRichMetadataRecipe:y}):67,element:48,event_type:102,aux_data:{...T?{login_state:(0,u.xT)(C)?s.Z.LIMITED:s.Z.DEFAULT}:{}}}),S&&k({component:229,element:10943,event_type:102,view_type:3,view_parameter:157}),!T&&(e.preventDefault(),j&&j.onSave()),E({fn:()=>{},modalHeader:(0,p.Bx)(A),nextLocation:(0,p.Qj)(R)})(e)}}},499728:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(702664),a=n(413009),l=n(256918);function r({embedSrc:e,embedType:t,imagesUrls:n,pinId:r,nodeId:s,pinnerId:o}){let{isAuthenticated:d,userId:c}=(0,i.useSelector)(({session:e})=>e),u=(0,l.M)(),p=(0,a.Z)({embedSrc:e,embedType:t,imagesUrls:n,pinId:r,nodeId:s});return!!r&&(d?!!(o===c||u?.isSaved(r)):p?.isSaved??!1)}},973055:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(616550),l=n(140017),r=n(13848),s=n(413009),o=n(638365),d=n(358589),c=n(480983),u=n(256918);function p({boardId:e,embedSrc:t,embedType:n,imagesUrls:p,pinId:m,nodeId:g,pinnerId:_,pinnedToBoardId:h,pinSectionId:y,trackingParams:f,showSingleToast:b,onError:S,shouldRefresh:x=!0}){let v=(0,i.useDispatch)(),P=(0,d.Z)(),k=(0,r.F9)()[b?"showOneToast":"showToast"],w=(0,l.ZP)(),T=(0,s.Z)({embedSrc:t,embedType:n,imagesUrls:p,pinId:m,nodeId:g}),I=(0,a.k6)(),E=(0,a.TH)(),A=(0,u.M)(),{isAuthenticated:C,userId:R}=(0,i.useSelector)(({session:e})=>e),j=(0,o.Z)(E.state?E.state.trackingParams:"",f),L=P({fn:()=>{if(!m||!e||!_){S?.();return}let t=_===R,n=!t&&A?.getSavedPinId(m)||m,i=t?I.goBack():void 0;(0,c.Z)({boardId:!t&&h?h:e,boardSectionId:y??"",clientTrackingParams:j,dispatch:v,i18n:w,newPinId:n,onError:S,onSuccess:i,shouldRefresh:x,showToast:k,sourcePinId:m,undoSavedPin:A?.unsave??(()=>void 0)})}});return C?L:T?.onUnsave||(()=>void 0)}},256918:(e,t,n)=>{n.d(t,{M:()=>s,Q:()=>o});var i=n(667294),a=n(342513),l=n(785893);let{Provider:r,useMaybeHook:s}=(0,a.Z)("RepinContext");function o({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>n(n=>({...n,[e]:t})),unsave:e=>n(t=>({...t,[e]:null}))}),[t]);return(0,l.jsx)(r,{value:a,children:e})}},283970:(e,t,n)=>{n.d(t,{H:()=>a,I:()=>i});let{Provider:i,useHook:a}=(0,n(342513).Z)("ScreenSize")},529001:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(447479);function a({query:e,searchPath:t,scope:n,shouldInputFocusOnTouch:a}){let l=e?`${t}?rs=${i.i.TYPED}&q=${encodeURIComponent(e)}&scope=${n||""}`:t;return a&&(l=`${l}${"/"===l.charAt(l.length-1)?"?":"&"}input_select=true`),l}},41117:(e,t,n)=>{n.d(t,{Z:()=>S});var i,a=n(667294);n(167912);var l=n(883119),r=n(554646),s=n(582008),o=n(140017),d=n(339001),c=n(217058),u=n(623409),p=n(554786),m=n(237040),g=n(999624),_=n(223881),h=n(937875),y=n(785893);let f=void 0!==i?i:i=n(248543),b=({onTap:e,isOpen:t})=>{let n=(0,o.ZP)();return(0,y.jsx)(l.iP,{onTap:e,tapStyle:"compress",children:(0,y.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},display:"flex",justifyContent:"between",paddingY:5,children:[(0,y.jsx)(l.xv,{size:"300",weight:"bold",children:n._('Product details', 'productDetails.descriptionTap.text', 'text in tap area to open product description dropdown')}),(0,y.jsx)(l.JO,{accessibilityLabel:n._('Arrow down', 'productDetails.openDropdown', 'accessibility label on button'),color:"default",icon:t?"arrow-up":"arrow-down"})]})})};function S({onClickTitleOrDomain:e,pinKey:t,isInUnauthPdpPlus:n}){let i=(0,m.nF)(),S=(0,s.P)(f,t,i.closeupPageSuspenseBehavior),x=(0,o.ZP)(),v=(0,p.ZP)(),P=S?.closeupAttribution?.domainUrl,k=(0,_.Z)(S),w=(0,h.j)({components:k||[],pinDescription:S?.closeupUnifiedDescription&&S.closeupUnifiedDescription.trim()}),[T,I]=(0,a.useState)(!1),E=(0,u.Z)(),A={commerceData:{},inCommentFeedRedesignExp:!1,inMwebPdpCommentsExp:!1,structuredDescription:[{type:h.X.PARAGRAPH,content:S.closeupUnifiedDescription}],type:"expandable"};return n?(0,y.jsx)(r.Z,{...A}):(0,y.jsx)(l.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:w.length>0&&(0,y.jsxs)(l.xu,{marginTop:6,width:"100%",children:[(0,y.jsx)(b,{isOpen:T,onTap:()=>{I(!T),E({action:"click",item:"pdp-details"}),(0,c.My)("unauth.pdp.details.click",{action:T?"close":"open",device:v})}}),(0,y.jsx)(l.xu,{maxHeight:T?"75vh":"0vh",overflow:"scrollY",paddingX:4,children:(0,y.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},marginBottom:6,marginTop:2,children:[(0,y.jsx)(g.Z,{descriptions:w}),P&&(0,y.jsx)(l.xu,{marginTop:6,children:(0,y.jsx)(l.xv,{children:(0,d.nk)(x._('Ships from and sold by {{ userDomain }}', 'productDetails.productDescription.soldBy', 'Domain url of seller'),{userDomain:(0,y.jsx)(l.iP,{onTap:e,tapStyle:"compress",children:(0,y.jsx)(l.xv,{inline:!0,weight:"bold",children:P})},P)})})})]})})]})})}},844035:(e,t,n)=>{n.d(t,{Z:()=>D});var i,a,l,r,s,o,d=n(667294),c=n(167912),u=n(883119),p=n(554646),m=n(7860),g=n(98068),_=n(214877),h=n(207012),y=n(140017),f=n(339001),b=n(59545),S=n(567344),x=n(5859),v=n(916845),P=n(618429),k=n(687603),w=n(323294),T=n(19447);n(587703),n(757640),n(686769);var I=n(785893);void 0!==i||(i=n(237009)),n(930837),void 0!==a||(a=n(225965)),void 0!==l||(l=n(462426)),void 0!==r||(r=n(248108));var E=n(223881),A=n(937875);let C=void 0!==s?s:s=n(691138),R=void 0!==o?o:o=n(793592);function j({aggregateRating:e,brandInfo:t,closeupAttributionDomainId:n,inMwebPdpCommentsExp:i,isImagePinForUnauthOnTablet:a,isOutOfStock:l,isStale:r,onClickTitleOrDomain:s,graphqlRef:o,inlinePinActionBar:c,pinKey:T,pinId:C,pinLink:j,closeupUnifiedDescription:L,offerSummary:F,gridTitle:D,pinTitle:O,richSummaryDisplayName:N,richMetadataTitle:M,setIsActionBarInline:Z,shippingInfo:B,storyPinDataId:U,storyPinDataMetadataPinTitle:K,pinJoinVisualAnnotation:z}){let H=(0,y.ZP)(),{isAuthenticated:V}=(0,x.B)(),{logContextEvent:G}=(0,_.v)(),$=(0,w.AH)(j),W=L&&L.trim(),q=(0,h.Z)(R,T),Y=D||O;V||(Y=(0,S.Ly)({pinTitle:O,gridTitle:D,richSummaryDisplayName:N,richMetadataTitle:M,storyPinDataId:U,storyPinDataMetadataPinTitle:K,pinJoinVisualAnnotation:z}));let X=(0,P.Z)({isImagePinForUnauthOnTablet:a}),J=(0,E.Z)(q),Q=(0,A.j)({components:J,pinDescription:W}),[ee,et]=(0,d.useState)(!1),en=Y&&(0,I.jsx)(u.xu,{marginBottom:2,marginTop:2,children:(0,I.jsx)(v.Z,{forceSmallerHeading:!a,graphqlRef:o??null,hasLink:$,lineClamp:X,onClick:s,pinId:C,textAlign:"start"})}),{rating_count:ei,review_count:ea,rating_value:el}=e||{},er=(0,I.jsx)(g.Z,{bracket:!0,count:ei||ea,countFormat:"number",countType:Number(ei||0)?"rating":"review",hideSeparationDot:!0,ratingValue:el,shippingInfo:B&&{freeShippingPrice:B.free_shipping_price,freeShippingValue:B.free_shipping_value}}),es=(0,I.jsx)(p.Z,{inMwebPdpCommentsExp:i,structuredDescription:Q,type:"expandable"}),eo=t?.name,ed=t?.userId,ec=n&&n===ed||t?.isMerchant,eu=!!eo,ep=(0,d.useCallback)(e=>e&&eu?eo!==e&&(null===ec||!1===ec)?(0,f.nk)(H._('{{ brand }} sold by {{ merchant }}', 'productmetadata.officialuserattribution.text', 'officialuserattribution text. brand:name of the brand. merchant:name of the merchant'),{brand:(0,I.jsx)(u.xv,{inline:!0,weight:"bold",children:eo},"brand-name"),merchant:(0,I.jsx)(u.xv,{inline:!0,weight:"bold",children:e},"merchant-name")}):[(0,I.jsx)(u.xv,{inline:!0,weight:"bold",children:eo},"brand-name")]:e,[eo,ec,H,eu]),em=(0,I.jsx)(k.Z,{adsOnlyProfileSite:null,getDisplayName:ep,graphqlRef:o??null,onMouseDown:eu?()=>{G({event_type:102,object_id_str:C,view_type:3,view_parameter:144,element:13592,aux_data:{pin_id:C,commerce_data:JSON.stringify({pin_show_pdp:"1"})}})}:void 0,pinId:C}),eg=(0,I.jsx)(m.Z,{colorOverride:"default",isSoldOut:l,isStale:r,productDetails:{maxPrice:F?.max_price,minPrice:F?.min_price,price:F?.price,standardPrice:F?.standard_price},type:"mobileHeading"});return(0,I.jsxs)(u.xu,{"data-test-id":"product-details",children:[(0,I.jsx)(u.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,I.jsx)(b.Z,{onVisibilityChange:e=>{if(e&&e.length>0&&Z){let{intersectionRatio:t,boundingClientRect:n}=e[0],i=n.y<0;Z(1===t||i)}},options:{threshold:[1]},children:e=>(0,I.jsx)(u.xu,{ref:e,children:(0,I.jsxs)(u.xu,{marginBottom:4,children:[en,eg,(0,I.jsx)(u.xu,{marginBottom:2,children:er}),em]})})})}),c,Q.length>0&&(0,I.jsx)(u.xu,{marginTop:6,width:"100%",children:es}),!1]})}function L({pinId:e,graphqlRef:t,...n}){let i;let a=(0,c.useFragment)(C,t),l=a.pinJoin?.visualAnnotation||[],{richMetadata:r,richSummary:s}=a;r?.products?.[0]&&r.products[0].name&&r.products[0].offerSummary&&(i=r.products[0].offerSummary),!i&&s?.products?.[0]&&s.products[0].name&&s.products[0].offerSummary&&(i=s.products[0].offerSummary);let o={min_price:i?.minPrice,max_price:i?.maxPrice,price:i?.price,standard_price:i?.standardPrice},d={rating_value:r?.aggregateRating?.ratingValue??void 0,review_count:r?.aggregateRating?.reviewCount??void 0,rating_count:r?.aggregateRating?.ratingCount??void 0},u={free_shipping_price:r?.products?.[0].shippingInfo?.freeShippingPrice,free_shipping_value:r?.products?.[0].shippingInfo?.freeShippingValue},p=a.isOosProduct||i?.inStock===!1,m=a.isStaleProduct,g={isMerchant:r?.products?.[0].brand?.isMerchant,name:r?.products?.[0].brand?.name,userId:r?.products?.[0].brand?.userId};return(0,I.jsx)(j,{...n,aggregateRating:d,brandInfo:g,closeupAttributionDomainId:a.closeupAttribution?.entityId,closeupAttributionDomainUrl:a.closeupAttribution?.domainUrl,closeupUnifiedDescription:a.closeupUnifiedDescription??"",graphqlRef:a,gridTitle:a.gridTitle,isOutOfStock:p,isStale:m??!1,offerSummary:o,pinId:e,pinJoinVisualAnnotation:l,pinKey:a,pinLink:a.link,pinTitle:a.title,richMetadataTitle:r?.title??"",richSummaryDisplayName:s?.displayName??"",shippingInfo:u,storyPinDataId:a.storyPinDataId,storyPinDataMetadataPinTitle:a.storyPinData?.metadata?.pinTitle})}function F({pinId:e,...t}){let n;let i=(0,T.S6)()(e),a=i?.rich_metadata,l=i?.rich_summary;a?.products?.[0]&&a.products[0].name&&a.products[0].offer_summary&&(n=a.products[0].offer_summary),!n&&l?.products?.[0]&&l.products[0].name&&l.products[0].offer_summary&&(n=l.products[0].offer_summary);let r=i?.is_oos_product||n?.in_stock===!1,s=i?.is_stale_product,o={isMerchant:a?.products?.[0].brand?.is_merchant,name:a?.products?.[0].brand?.name,userId:a?.products?.[0].brand?.user_id};return i&&(0,I.jsx)(j,{...t,aggregateRating:i?.rich_metadata?.aggregate_rating,brandInfo:o,closeupAttributionDomainId:i?.closeup_attribution?.id,closeupAttributionDomainUrl:i?.closeup_attribution?.domain_url,closeupUnifiedDescription:i?.closeup_unified_description??"",gridTitle:i?.grid_title,isOutOfStock:r,isStale:s??!1,offerSummary:n,pinId:e,pinJoinVisualAnnotation:i?.pin_join?.visual_annotation,pinKey:{type:"deprecated",data:i},pinLink:i?.link,pinTitle:i?.title,richMetadataTitle:i?.rich_metadata?.title??"",richSummaryDisplayName:i?.rich_summary?.display_name??"",shippingInfo:i?.rich_metadata?.products?.[0].shipping_info,storyPinDataId:i?.story_pin_data_id,storyPinDataMetadataPinTitle:i?.story_pin_data?.metadata?.pin_title})}function D({graphqlRef:e,...t}){return e?(0,I.jsx)(L,{...t,graphqlRef:e}):(0,I.jsx)(F,{...t})}},311462:(e,t,n)=>{n.d(t,{Z:()=>C});var i,a,l=n(667294);n(167912);var r=n(616550),s=n(883119),o=n(893912),d=n(848264),c=n(899165),u=n(587703),p=n(207012),m=n(807023),g=n(213377),_=n(140017),h=n(340523),y=n(5859),f=n(71328),b=n(494125),S=n(57158),x=n(893816),v=n(810052),P=n(19447),k=n(217058),w=n(554786),T=n(38964),I=n(785893);function E({alt:e,dominantColor:t,height:n,onLoad:i,src:a,width:l,unauthLazyLoad:o,index:d}){let c=(0,r.k6)(),u=(0,r.$B)(),{isAuthenticated:p}=(0,y.B)(),m=(0,w.ZP)(),g=()=>{c&&u&&u.params&&u.params.id&&c.push(`/pin/${u.params.id}#${T.v}`,{imageData:{src:a,height:n,width:l}})};return(0,I.jsxs)(s.iP,{onTap:()=>{p||(0,k.My)("unauth.pdp.carousel.click",{device:m,index:d}),g()},tapStyle:"compress",children:[(0,I.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},height:"100%",position:"absolute",top:!0,width:"100%",zIndex:new s.Ry(1)}),(0,I.jsx)(s.Ee,{alt:e,color:t,loading:o?"lazy":"auto",naturalHeight:n,naturalWidth:l,onLoad:i,src:a})]})}let A=void 0!==i?i:i=n(396034);function C({pinKey:e,pwtSurfaceContext:t,viewParameter:i,showMoreLikeThisButton:k=!1,unauthLazyLoad:w}){let T;let C=(0,r.$B)(),R=(0,_.ZP)(),j=(0,u.Z)(),[L,F]=(0,l.useState)(0),{hasClickedMoreLikeThisButton:D}=(0,x.g)(),O=(0,P.S6)(),{isAuthenticated:N}=(0,y.B)(),M=(0,l.useRef)(null),Z=(0,l.useRef)([]);if("graphqlRef"===e.type)T=e;else{let t=O(e.data);T=null!=t?{type:"deprecated",data:t}:null}let B=(0,p.Z)(A,T),{childDataKey__DEPRECATED:U}=(0,m.Q)(void 0!==a?a:a=n(139882),B,{useLegacyAdapter:e=>({})}),K=(0,l.useCallback)(()=>{t&&t.markConstraintComplete("PinPageMainImageRendered")},[t]),{checkExperiment:z}=(0,h.F)(),H=z("web_higher_res_carousel_image").anyEnabled,V=R._('Pin image', 'Pin closeup image', 'Pin closeup image'),G=(0,c.Z)({isHiddenPin:B?.isHidden,isUnsafePin:B?.isUnsafe})&&0===L,$=(0,d.Z)(U),W=($?.carouselSlots??[]).filter(({imageSizeMap:e})=>(0,o.Z)(e,H)),q=W.length,{imageSignature:Y}=W[L]||{},X=()=>{let e=z(N?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled;if(M.current){if(e){let e=new IntersectionObserver(([t])=>{let{left:n,width:i}=t.boundingClientRect,a=n+i/2;for(let e=0;e<q;e++){let t=-1/0,n=1/0;if((async()=>{let i=new Promise(i=>{let a=new IntersectionObserver(([n])=>{t=n.boundingClientRect.x,a.unobserve(Z.current[e]?.current)});a.observe(Z.current[e]?.current);let l=new IntersectionObserver(([t])=>{n=t.boundingClientRect.x,l.unobserve(Z.current[e+1]?.current)});l.observe(Z.current[e+1]?.current),i(void 0)});await i})(),t<=a&&n>a){F(e);break}}M.current&&e.unobserve(M.current)});M.current&&e.observe(M.current)}else{let{left:e,width:t}=M.current.getBoundingClientRect(),n=e+t/2;for(let e=0;e<q;e++){let{x:t}=Z.current[e].current.getBoundingClientRect(),{x:i=1/0}=Z.current[e+1]?.current.getBoundingClientRect()||{};if(t<=n&&i>n){F(e);break}}}}};(0,b.Z)(()=>{Z.current=Array(q).fill().map((e,t)=>Z.current[t]||(0,l.createRef)());let e=M.current;return e&&e.addEventListener("scroll",X),()=>{e?.removeEventListener("scroll",X)}}),(0,l.useEffect)(()=>{Y&&j({event_type:13,view_type:3,view_parameter:144,element:10555,aux_data:{view_object_image_signature:Y}})},[j,Y]);let J=(0,l.useRef)(v.a()?.setHasScrolledPastMainContent);(0,l.useEffect)(()=>{let e=(0,f.Z)(()=>{if(M.current){let t=window.scrollY>M.current.offsetTop+M.current.offsetHeight;J.current?.(t),t&&window.removeEventListener("scroll",e)}},10);e(),window.addEventListener("scroll",e)},[]);let{hasScrolledPastMainContent:Q}=(0,v.a)()??Object.freeze({}),ee="visualSearch";return(N||Q)&&(!k||D)||(ee="moreLikeThisButton"),(0,I.jsxs)(s.xu,{marginEnd:-g.D6,marginStart:-g.D6,position:"relative",children:[(0,I.jsx)(s.xu,{ref:M,display:"flex",maxHeight:"60vh",minHeight:"30vh",overflow:"scrollX",children:W.map((e,t)=>{let n=0===t,i=t===q-1,a=(0,o.Z)(e.imageSizeMap,H);return(0,I.jsx)(s.xu,{ref:Z.current[t],alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},display:"flex",flex:"none",marginEnd:i?0:2,position:"relative",width:"80%",children:(0,I.jsx)(E,{alt:V,dominantColor:"#ffffff00",height:a?.height??1,index:t,onLoad:K,src:a?.url??"",unauthLazyLoad:w&&!n,width:a?.width??1})},`${B?.entityId??""}_${t}`)})}),(0,I.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 500ms,                          visibility 500ms ease-in-out",visibility:G?"visible":"hidden"}},opacity:G?1:0,children:(0,I.jsx)(S.Z,{imageSignature:Y,isPdp:!0,pinId:C.params.id||B?.entityId||"",type:ee,viewParameter:i})})]})}},240137:(e,t,n)=>{n.d(t,{Z:()=>L});var i=n(667294),a=n(883119),l=n(922719),r=n(587703),s=n(140017),o=n(406893),d=n(5859),c=n(191313),u=n(623409),p=n(554786),m=n(494125),g=n(353453),_=n(236798),h=n(622155),y=n(869801),f=n(41005),b=n(661257),S=n(94149),x=n(958399),v=n(892878),P=n(406693),k=n(329395),w=n(847069),T=n(434108),I=n(785893);let E="#ffffff",A="ANIMATE_SHARE",C=()=>{let e=`${A}_default {
      from: {
        opacity: 1;
        visibility:visible;
      }
      7% {
        fill: ${E};
        opacity: 0;
        visibility:hidden;
      }
      89% {
        fill: ${E};
        opacity: 0;
        visibility:hidden;
      }
      93% {
        opacity: 0.5;
        visibility:visible;
      }
      to {
        fill: #111111;
        opacity: 1;
        visibility:visible;
      }
    }`,t=`${A}_upsellApp {
      from {
        opacity: 0;
        fill: ${E};
      }
      7% {
        fill: ${E};
        transform: scale(1.25);
        opacity: 1;
      }
      11% {
        transform: scale(1);
        opacity: 1;
      }
      89% {
        fill: ${E};
        transform: scale(1);
        opacity: 1;
      }
      93% {
        transform: scale(1.25);
        opacity: 1;
      }
      to {
        fill: ${E};
        opacity: 0;
      }
    }`;return(0,l.Ll)([e,t])},R=e=>({animation:`${A}_${e} ${T.zn}ms ease-in-out`,WebkitAnimation:`${A}_${e} ${T.zn}ms ease-in-out`}),j=({children:e,handleShareTap:t,upsellIcon:n})=>{let i=(0,s.ZP)();return n?((0,c.Nh)(T.RV,Date.now()),(0,I.jsxs)(a.xu,{children:[(0,I.jsx)(o.Z,{unsafeCSS:C()}),(0,I.jsxs)(a.xu,{alignItems:"center",borderStyle:"none",dangerouslySetInlineStyle:{__style:{borderRadius:"22px",...R("container")}},display:"flex",height:48,justifyContent:"center",width:48,children:[(0,I.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:R("upsellApp")},opacity:0,position:"absolute",children:(0,I.jsx)(a.iP,{accessibilityLabel:i._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onTap:({event:e})=>t(e),children:n})}),(0,I.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:R("default")},position:"absolute",children:e})]})]})):e},L=({onDefaultSendButtonClick:e,sendButtonColor:t,sendButtonBgColor:n,viewParameter:l,inFeedContextMenuExperiment:s})=>{let o=(0,p.HG)(),E=(0,r.Z)(),A=(0,u.Z)(),{country:C,userAgent:{platform:R}}=(0,d.B)(),L=R===g.RL||R===g.s4,[F,D]=(0,i.useState)(),O=(0,h._l)(),{hasSeenAuthMobileLandingToast:N}=(0,h.w2)()||{},M=()=>{A({action:"click",item:"share-button"}),E({component:194,element:46,event_type:102,view_type:3,view_parameter:l})};return(0,m.Z)(()=>{if(!o){let e=function({country:e,isAppleDevice:t}){let n=(0,c.qn)(T.RV);if(!(n&&Date.now()-Number(n)<T.bm))switch(Number((0,c.qn)(T.Cq))||T.iS.get(e)||10){case 5:return(0,I.jsx)(f.Z,{size:T.VZ});case 6:return(0,I.jsx)(x.Z,{size:T.VZ});case 8:return(0,I.jsx)(S.Z,{size:T.VZ});case 4:return t?(0,I.jsx)(b.Z,{size:T.VZ}):(0,I.jsx)(a.xu,{"data-test-id":"message-share-button",children:(0,I.jsx)(y.Z,{size:T.VZ})});case 20:return(0,I.jsx)(v.Z,{size:T.VZ});case 9:return(0,I.jsx)(w.Z,{size:T.VZ});case 22:return(0,I.jsx)(P.Z,{size:T.VZ});case 10:return(0,I.jsx)(k.Z,{size:T.VZ})}return null}({country:C,isAppleDevice:L});e&&setTimeout(()=>{D(e)},T.W_)}}),O&&!N?(0,I.jsx)(a.xu,{"data-test-id":"share-button-no-animation",children:(0,I.jsx)(_.Z,{bgColor:n,color:t,onSendButtonClick:e,trackShareTap:M})}):(0,I.jsx)(j,{handleShareTap:t=>{M(),e(t)},upsellIcon:F,children:(0,I.jsx)(a.xu,{"data-test-id":"share-button-no-animation",children:(0,I.jsx)(_.Z,{bgColor:n,color:t,onSendButtonClick:e,size:s?"sm":void 0,trackShareTap:M})})})}},434108:(e,t,n)=>{n.d(t,{B:()=>l,Cq:()=>a,F6:()=>u,RV:()=>i,VZ:()=>r,W_:()=>o,bm:()=>s,iS:()=>p,rO:()=>c,zn:()=>d});let i="animatedShareIconLastViewed",a="lastUsedSocialShare",l="customizedSocialAppOrder",r=44,s=9e5,o=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},771981:(e,t,n)=>{n.d(t,{Ai:()=>P,B5:()=>g,CR:()=>u,Cc:()=>s,HG:()=>b,R_:()=>d,Wz:()=>o,_P:()=>f,dP:()=>k,dX:()=>x,gx:()=>p,h8:()=>l,hk:()=>c,lp:()=>h,lt:()=>m,oe:()=>S,r4:()=>y,rM:()=>v});var i=n(883119),a=n(737684);let l={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},r={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},s={...r,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},o={...r,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},d=64,c=64,u=48,p=48,m=new i.H3([a.tD]),g=new i.H3([m]),_=new i.H3([a.tD]),h=new i.H3([_]),y=4;function f(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:y}}let b=6,S=47,x=8,v=4,P=5,k=3},605922:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(883119),a=n(140017),l=n(339001),r=n(737244),s=n(790440),o=n(131620),d=n(785893);let c=({minutes:e,type:t,size:n})=>{let l=(0,a.ZP)();if("compact"===t){let t=(0,o.Z)(e,l);return(0,d.jsx)(i.xv,{inline:!0,size:n,children:t})}let c=(0,s.Z)((0,r.X)({m:e}),l);return(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{inline:!0,size:n,weight:"bold",children:l._('Cook Time: ', 'closeup.storyPin.basicsLayout.cookTime.label', 'Label for cook time (ex. Cook Time: 3 minutes)')}),(0,d.jsx)(i.xv,{inline:!0,size:n,children:c})]})},u=({servingSize:e,type:t,size:n})=>{let r=(0,a.ZP)(),s=(0,l.nk)(r.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return"compact"===t?(0,d.jsx)(i.xv,{inline:!0,size:n,children:s}):(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{inline:!0,size:n,weight:"bold",children:r._('Serving Size: ', 'closeup.storyPin.basicsLayout.servingSize.label', 'Label for serving size')}),(0,d.jsx)(i.xv,{inline:!0,size:n,children:s})]})},p=({difficulty:e,type:t,size:n})=>{let l=(0,a.ZP)(),r={1:l._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:l._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:l._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')};return(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{inline:!0,size:n,weight:"compact"===t?"normal":"bold",children:l._('Difficulty: ', 'closeup.storyPin.basicsLayout.difficulty.label', 'Label for difficulty')}),(0,d.jsx)(i.xv,{inline:!0,size:n,children:r[e??"1"]})]})};function m({categoryType:e,value:t,type:n,size:i}){if(0===e){let e=parseInt(t,10);return e?(0,d.jsx)(c,{minutes:e,size:i,type:n}):null}if(1===e){let e=parseInt(t,10);return(0,d.jsx)(u,{servingSize:e,size:i,type:n})}return 2===e?(0,d.jsx)(p,{difficulty:t,size:i,type:n}):null}},479144:(e,t,n)=>{n.d(t,{F:()=>d,Z:()=>c});var i=n(667294),a=n(340523),l=n(160567),r=n(554786),s=n(149722),o=n(771981);let d="100vh";function c(){let{isAuth:e}=(0,s.Z)(),t=(0,r.ZP)(),n="desktop"===t,d="tablet"===t,{checkExperiment:c}=(0,a.F)(),u=!n&&c(e?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,{paddingY:p}=(0,o._P)(n),m=4*p,[g,_]=(0,i.useState)(null),[h,y]=(0,i.useState)(null),[f,b]=(0,i.useState)(null),[S,x]=(0,i.useState)(null),v="desktop"!==t&&!u,P=(0,i.useCallback)(()=>{let n=d&&f?f:window?.innerHeight;e||(n-="tablet"===t?l.Pw:l.SB),u&&(n-=o.hk+m),_(n),y(v?n+2:n)},[e,u,v,t,m,f,d]);return(0,i.useEffect)(()=>("undefined"!=typeof window&&(screen.orientation&&S!==screen.orientation.type&&(x(screen.orientation.type),b(window?.innerHeight)),P()),window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}),[t,e,v,S,P]),{storyPinHeight:g,fillerPaddingTop:h}}},236817:(e,t,n)=>{n.d(t,{Z:()=>r,j:()=>l});var i=n(785893);let a=RegExp("^[^A-Za-z--A-Za-z----]*[---]");function l(e){return a.test(e||"")?"rtl":"ltr"}function r({children:e,dir:t="auto"}){return(0,i.jsx)("div",{dir:t,children:e})}},626468:(e,t,n)=>{function i(e){let t=[],n="";for(let i of e)if(n){let e=!!i.match(/\s/),a=!!n.match(/\s/);if(e===a)n+=i;else if(!a&&n.includes("-")){let e=0;for(let i=0;i<n.length;i+=1)"-"===n[i]&&(t.push(n.substring(e,i+1)),e=i+1);t.push(n.substring(e)),n=i}else t.push(n),n=i}else n=i;return n.length&&t.push(n),t}function a({boxHeight:e,boxWidth:t,font:n,startFontSize:a,text:l}){if("undefined"==typeof document||!document.body)return{fontSize:a,lines:[]};let{body:r}=document,s=document.createElement("div");r.appendChild(s);let o=l?.split(/\r?\n/g),d=a,c={letterSpacing:n.fontOverrides?.letterSpacing!=null?`${n.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(n.fontOverrides?.lineHeight||1.1),fontFamily:n.fontFamily,fontSize:`${d}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(s.style,c);let u=document.createElement("div");for(u.style.display="inline",s.appendChild(u),(o??[]).forEach((e,t)=>{let n=document.createElement("span");n.style.wordBreak="break-word",u.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(l??"").length-1&&n.appendChild(document.createElement("br"))});(u.offsetHeight>e||u.offsetWidth>t)&&d>0;)d-=1,s.style.fontSize=`${d}px`;return u.remove(),s.remove(),{fontSize:d,lines:d>0?function({font:e,fontSize:t,textList:n,width:a}){if("undefined"==typeof document||!document.body||a<=0||t<=0)return[];let{body:l}=document,r=document.createElement("div");l.appendChild(r);let s={letterSpacing:e.fontOverrides?.letterSpacing!=null?`${e.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(e.fontOverrides?.lineHeight||1.1),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(r.style,s);let o=document.createElement("div");o.style.display="inline",r.appendChild(o);let d=document.createTextNode("");o.appendChild(d);let c=[],u="",p=e=>{let t=e.trim();return d.textContent=t,{text:t,width:o.offsetWidth}},m=e=>{let t=!!e.match(/\s/),n=0===u.length;if(d.textContent=`${u}${e}`,o.offsetWidth>a){if(t)c.push(p(u)),u="";else if(n)for(let t of e)m(t);else c.push(p(u)),u="",m(e)}else u+=e};for(let e of n??[])0===e.length&&c.push(p(u)),i(e).forEach(e=>m(e)),u.length&&(c.push(p(u)),u="");return o.remove(),r.remove(),c}({font:n,fontSize:d,textList:o,width:t}):[]}}function l(e){let t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("height").replace("px","")),i=parseFloat(t.getPropertyValue("font-size").replace("px","")),a=parseFloat(t.getPropertyValue("line-height").replace("px",""));return Number.isNaN(a)&&(a=1.2*i),Math.ceil(n/a)}n.d(t,{KV:()=>a,Yd:()=>i,xW:()=>l})},999624:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(883119),l=n(140017),r=n(937875),s=n(785893);let o=e=>0===e?0:2,d=({children:e,dangerouslySetInlineStyle:t,marginTop:n})=>(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:n,children:e}),c=({content:e,order:t,type:n})=>{if(!e)return null;let i=n===r.X.HEADER,l=[r.X.HEADER,r.X.BOLD].includes(n),c=t>0&&i?4:o(t);return(0,s.jsx)(d,{marginTop:c,children:(0,s.jsx)(a.xv,{size:"200",weight:l?"bold":"normal",children:e})})},u=({content:e,order:t})=>e?(0,s.jsx)(d,{marginTop:o(t),children:e}):null,p=({content:e,order:t})=>Array.isArray(e)&&0!==e.length?(0,s.jsx)(d,{marginTop:o(t),children:e.map(e=>(0,s.jsxs)(a.xu,{direction:"row",display:"flex",marginStart:1,marginTop:1,children:[(0,s.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:""}),(0,s.jsx)(a.xu,{marginStart:1,children:(0,s.jsx)(a.xv,{size:"200",children:e})})]},e))}):null,m=({accessibilityLabel:e,content:t,order:n})=>t&&"object"==typeof t?(0,s.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:o(n),children:(0,s.jsx)(a.iA,{accessibilityLabel:e,children:(0,s.jsx)(a.iA.Body,{children:Object.entries(t).map(([e,t],n)=>(0,s.jsxs)(a.iA.Row,{children:[(0,s.jsx)(a.iA.Cell,{children:(0,s.jsx)(a.xv,{size:"100",weight:"bold",children:e})}),(0,s.jsx)(a.iA.Cell,{children:(0,s.jsx)(a.xv,{size:"100",children:String(t)})})]},n))})})}):null,g=({accessibilityLabel:e,content:t,order:n})=>{if(!Array.isArray(t)||t.length<2)return null;let i=t[0],l=t.slice(1);return(0,s.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:o(n),children:(0,s.jsxs)(a.iA,{accessibilityLabel:e,children:[(0,s.jsx)(a.iA.Header,{children:(0,s.jsx)(a.iA.Row,{children:i.map((e,t)=>(0,s.jsx)(a.iA.HeaderCell,{children:(0,s.jsx)(a.xv,{size:"100",weight:"bold",children:e})},t))})}),(0,s.jsx)(a.iA.Body,{children:l.map((e,t)=>(0,s.jsx)(a.iA.Row,{children:e.map((e,t)=>(0,s.jsx)(a.iA.Cell,{children:(0,s.jsx)(a.xv,{size:"100",children:e})},t))},t))})]})})},_=e=>{let t=(0,l.ZP)();switch(e.type){case r.X.POINTS:return(0,s.jsx)(p,{...e});case r.X.SPECS:return(0,s.jsx)(m,{accessibilityLabel:t._('Specification view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs', 'Content represented in specification format'),...e});case r.X.TABLE:return(0,s.jsx)(g,{accessibilityLabel:t._('Table view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable', 'Content represented in table format'),...e});case r.X.ELEMENT:return(0,s.jsx)(u,{...e});default:return(0,s.jsx)(c,{...e})}};function h({descriptions:e,onLoad:t}){return((0,i.useEffect)(()=>{"function"==typeof t&&t()},[t]),0===e.length)?null:e.map(({content:e,type:t},n)=>(0,s.jsx)(_,{content:e,order:n,type:t},n))}},223881:(e,t,n)=>{n.d(t,{Z:()=>s}),n(167912);var i,a=n(207012),l=n(937875);let r=void 0!==i?i:i=n(937320);function s(e){var t;return(t=(0,a.Z)(r,e).formattedCloseupDescription)&&Array.isArray(t.components)?t.components.filter(e=>e.type).map(e=>{let t=e.type??"";return t===l.X.SPECS?{type:t,content:e.specsContent?.reduce((e,t)=>({...e,[t.key]:t.value}),{})}:{type:t,content:e.stringContent??e.pointsContent??e.tableContent??e.headerContent??e.boldContent}}):[]}},937875:(e,t,n)=>{n.d(t,{X:()=>i,j:()=>a});let i={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},a=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:i.PARAGRAPH}]},435333:(e,t,n)=>{n.d(t,{JJ:()=>i,N3:()=>l,zu:()=>a});let i=["TR","WB"],a=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],l=[...i,...a,"AP","TG"]},155087:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(454514),l=n(140017),r=n(757640),s=n(554786),o=n(785893);function d({ideaPinImages:e}){let t=e.map((e,t)=>(0,o.jsx)(i.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:(0,o.jsx)(i.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e?.url??""})},t));return(0,o.jsx)(i.kC,{justifyContent:"center",children:(0,o.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function c({handleHide:e,text:t,userId:n,href:c,imageUrl:u}){let p=(0,l.ZP)(),m=(0,s.HG)(),g=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),_=Array.isArray(t)?t.join(" "):t;if(0===(g.data||[]).length)return(0,o.jsx)(a.ZP,{duration:5e3,href:c,onHide:e,text:_,thumbnail:u?{image:(0,o.jsx)(i.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}:void 0});let h=(g.data||[]).slice(0,3).map(e=>e.images?.[m?"236x":"170x"]),y=(0,o.jsx)(d,{ideaPinImages:h});return(0,o.jsx)(a.ZP,{_dangerouslySetThumbnail:y,duration:5e3,href:c,onHide:e,text:_})}},81149:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(761203),l=n(785893);function r({boardId:e}){let t=(0,a.gC)()(e),n=t?.images&&t.images["170x"]?t.images["170x"][0]:void 0;return e&&n?(0,l.jsx)(i.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:n.url??""}):null}},915163:(e,t,n)=>{n.d(t,{k:()=>r,w:()=>l});var i=n(883119),a=n(425040);let l=2e3,r=new i.H3([a.Z])},713399:(e,t,n)=>{n.d(t,{Z:()=>p});var i,a=n(667294),l=n(167912),r=n(616550),s=n(608516),o=n(88346),d=n(785893);let c=(0,a.lazy)(()=>Promise.all([n.e(87348),n.e(76178)]).then(n.bind(n,673893))),u=void 0!==i?i:i=n(12065);function p({graphqlRef:e,children:t,onSendButtonClick:n}){let i=(0,l.useFragment)(u,e),[p,m]=(0,a.useState)(null),[g,_]=(0,a.useState)(""),[h,y]=(0,a.useState)(""),{pathname:f}=(0,r.TH)(),b=!!p,S=(0,a.useMemo)(()=>({modal:{isShown:b},showUnauthContextMenu:({location:e,pinId:t,vaseSection:n})=>{m({vaseSection:n}),_(t),y(e)},dismissMobileUnauthContextMenu:()=>m(null)}),[b]);return(0,a.useEffect)(()=>{m(null)},[f]),(0,d.jsxs)(o.M,{value:S,children:[t,p&&(0,d.jsx)(s.Z,{children:(0,d.jsx)(c,{graphqlRef:i,location:h||"default",onDismiss:S.dismissMobileUnauthContextMenu,onSendButtonClick:n,pinId:g,vaseSection:p.vaseSection})})]})}},115526:(e,t,n)=>{n.d(t,{Z:()=>s});var i,a=n(667294),l=n(167912);let r=void 0!==i?i:i=n(680907),s=e=>{let t=(0,l.useFragment)(r,e),n=t?.pinJoin?.annotationsWithLinksArray;return(0,a.useMemo)(()=>n?.reduce((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e,{}),[n])}},223996:(e,t,n)=>{n.d(t,{Z:()=>s});var i,a=n(667294),l=n(167912);let r=void 0!==i?i:i=n(971737),s=e=>{let t=(0,l.useFragment)(r,e),n=t?.reactionCountsData;return(0,a.useMemo)(()=>n?n.reduce((e,t)=>({...e,[String(t.reactionType??0)]:t.reactionCount??0}),{}):n,[n])}},644701:(e,t,n)=>{n.d(t,{Z:()=>P});var i,a=n(702664);n(167912);var l=n(883119),r=n(587703),s=n(207012),o=n(140017),d=n(48481),c=n(217058),u=n(623409),p=n(149722),m=n(109615),g=n(213503),_=n(70982),h=n(386129),y=n(72461),f=n(339001),b=n(5859),S=n(785893);let x=({followerCount:e})=>{let t=(0,o.ZP)(),n=(0,y.Z)(),{locale:i}=(0,b.B)();return(0,S.jsx)(l.xv,{children:(0,f.nk)(t.ngettext('{{followers}} follower', '{{followers}} followers', e, 'pinPage.attribution.followersCount', 'Count of a user\'s followers'),{followers:n(i,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})},v=void 0!==i?i:i=n(556517);function P(e){let t=(0,p.Z)(),n=t.isAuth&&t.id,i=t.isAuth,y=(0,o.ZP)(),f=(0,d.Z)(),b=(0,r.Z)(),P=(0,u.Z)(),k=(0,a.useDispatch)(),w=e=>k((0,_.ZN)(e)),T=e=>k((0,_.fv)(e)),I=e=>k((0,h.h2)(e,b)),{avatarSize:E,detailText:A,hideButtons:C,blockedByMe:R,explicitlyFollowedByMe:j,followerCount:L,fullName:F,id:D,imageLargeUrl:O,imageMediumUrl:N,imageSmallUrl:M,isEligibleForPdp:Z,isVerifiedMerchant:B,verifiedIdentityVerified:U,username:K,isCurrentUser:z,isOnCloseup:H,isImagePinForUnauthOnTablet:V,pinId:G,pinKey:$,shouldNavigateToProfile:W=!0,textColor:q,type:Y,viewParameter:X,viewType:J,unauthFollow:Q,activateLexFollowExp:ee,clientTrackingParams:et}=e,en=(0,s.Z)(v,$),ei=(G&&G.length,()=>{i?(w(D),b({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:z,viewObjectId:G,viewObjectIdStr:G},object_id_str:D,clientTrackingParams:et})):f({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})}),ea=()=>{T(D),b({event_type:46,view_type:3,view_parameter:156,object_id_str:D,clientTrackingParams:et})},el=()=>(0,S.jsx)(g.Z,{clientTrackingParams:et,disableLog:!0,followEventType:45,id:D,isFollowed:j||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:n===D,onFollow:()=>H?ei():w(D),onUnfollow:()=>H?ea():T(D),pinKey:en,size:"md",unfollowEventType:46,viewParameter:X,viewType:J}),er=()=>{if(R)return(0,S.jsx)(l.zx,{color:"gray",fullWidth:!0,onClick:()=>I(D),size:"md",text:y._('Unblock', ' - ', ' -- ')});if(i)return el();if(ee){if(!ee().group.includes("hide_follow")&&Q)return el()}else if(Q)return el();return null},es=e=>(0,S.jsx)(l.xu,{"data-test-id":"avatar-image",children:(0,S.jsx)(l.HE,{accessibilityLabel:y._('User`s avatar', 'User`s avatar', 'User`s avatar'),collaborators:[{name:F??"",src:O||N||M||void 0}],onClick:()=>{P({action:"click",item:"avatar-image"})},size:(e||{}).size})}),eo=V?"calc(100% - 48px)":void 0,ed=B||U,ec=!i&&Z&&!ed,eu=(0,S.jsxs)(l.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,S.jsx)(l.xu,{flex:"none",marginEnd:2,children:es({size:E||"md"})}),(0,S.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxWidth:eo,children:[(0,S.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[ec&&(0,S.jsx)(l.xu,{marginEnd:1,children:(0,S.jsx)(l.xv,{children:y._('Saved by', 'Context on user rep', 'userRep.saveContext')})}),(0,S.jsx)(l.xu,{"data-test-id":"username",children:(0,S.jsx)(l.iP,{onTap:()=>{P({action:"click",item:"username"})},children:(0,S.jsx)(l.xv,{color:q||"default",lineClamp:V?1:void 0,weight:"bold",children:F})})}),ed&&(0,S.jsx)(l.xu,{marginStart:1,paddingY:1,children:(0,S.jsx)(m.Z,{showVerifiedIdentity:!B,size:"sm"})})]}),(0,S.jsx)(l.xv,{color:q||"default",lineClamp:V?1:void 0,children:A}),!!L&&(0,S.jsx)(l.xu,{"data-test-id":"user-follower-count",children:(0,S.jsx)(l.iP,{onTap:()=>{P({action:"click",item:"user-follower-count"})},children:(0,S.jsx)(x,{followerCount:L})})})]})]}),ep="row"===Y?(0,S.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[eu,!C&&(0,S.jsx)(l.xu,{flex:"none",marginStart:2,children:er()})]}):(0,S.jsxs)(l.xu,{maxWidth:eo,padding:2,children:[es(),(0,S.jsxs)(l.xu,{display:"flex",paddingY:2,children:[(0,S.jsx)(l.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:F}),ed&&(0,S.jsx)(l.xu,{marginStart:1,paddingY:1,children:(0,S.jsx)(m.Z,{showVerifiedIdentity:!B,size:"sm"})})]}),!C&&er()]}),em=(0,S.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},display:"flex",justifyContent:"between",overflow:"hidden",children:[(0,S.jsx)(l.Tg,{href:`/${encodeURIComponent(K)}/`,onTap:()=>{i||((0,c.NC)("click_pin_closeup_profile"),P({action:"click",item:"user-rep"}))},rounding:2,tapStyle:"compress",children:eu}),!C&&(0,S.jsx)(l.xu,{flex:"none",marginStart:2,children:er()})]});return(0,S.jsx)(l.xu,{"data-test-id":"user-rep",width:"100%",children:W?em:ep})}},255095:(e,t,n)=>{n.d(t,{Z:()=>r});let i={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},a=/[&><\u2028\u2029]/g;var l=n(785893);function r({id:e,isRelayResponseScript:t,testId:n,type:r="application/json",value:s}){let o=JSON.stringify(s).replace(a,e=>i[e]);return(0,l.jsx)("script",{"data-test-id":n,id:e,...t?{"data-relay-response":!0}:{},dangerouslySetInnerHTML:{__html:o},type:r})}},431489:(e,t,n)=>{n.d(t,{U:()=>l,Z:()=>r});var i=n(667294);let a=(0,i.createContext)();function l(){return(0,i.useContext)(a)}let r=a},42040:(e,t,n)=>{n.d(t,{I:()=>c,Z:()=>u});var i=n(667294),a=n(616550),l=n(473727),r=n(249830),s=n(785893);let o=(0,i.createContext)(null);function d({children:e}){let t=(0,a.TH)(),n=(0,i.useMemo)(()=>t,[]);return(0,s.jsx)(o.Provider,{value:n,children:e})}function c(){return(0,a.TH)()===(0,i.useContext)(o)}function u({children:e,initialLocation:t}){return(0,s.jsx)(l.VK,{children:(0,s.jsx)(r.tn,{children:(0,s.jsx)(d,{children:e})})})}},311716:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpful-99007872.svg"},559113:e=>{e.exports="https://s.pinimg.com/webapp/commentLoved-7942dc4f.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MobileAndUnauthPinPage-bd20c387eb9e0ad3.mjs.map